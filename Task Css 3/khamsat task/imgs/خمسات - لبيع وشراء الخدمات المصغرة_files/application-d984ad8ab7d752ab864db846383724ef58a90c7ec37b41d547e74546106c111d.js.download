function text_truncate(e,t,i){return null==t&&(t=100),null==i&&(i="..."),e.length>t?e.substring(0,t-i.length)+i:e}function enable_btn(e){var t=$(e).attr("data-title");$(e).html(t),$(e).attr("disabled",!1)}function disable_btn(e){var t=$(e).html();$(e).html("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$(e).attr("disabled",!0),$(e).attr("data-title",t)}function isElementInViewport(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function array_unique_values(e){return e.filter(function(e,t,i){return i.indexOf(e)===t})}function merge_object(e,t){for(var i in t)e[i]=t[i];return e}function clean_object(e){for(var t in e)null!==e[t]&&e[t]!==undefined||delete e[t];return e}function hsoub_grs(e){var t="",n=e/10;for(i=0;i<n;i++)t+=Math.random().toString(36).substr(2,10);return t}function show_sub_categories(){$(".from_sub_category, .sub_category, .to_sub_category").each(function(){$(this).addClass("hidden"),$(this).removeAttr("name")});var e=$("#sub_categories-"+$("#main_category").val()),t=$("#from_sub_categories-"+$("#from_category").val()),i=$("#to_sub_categories-"+$("#to_category").val());e.removeClass("hidden"),e.attr("name","sub_category"),t.removeClass("hidden"),t.attr("name","from_sub_category"),i.removeClass("hidden"),i.attr("name","to_sub_category")}function update_total_price(){var t=[],i=5,e=parseInt($("#service_quantity").val()),n=$("#service_id").val(),o=$("#user_id").val(),r=parseInt($("#user_credit").val());$.each($(".service_upgrade_check:checked"),function(){var e=$(this);t.push(e.val()),i+=parseInt(e.closest("tr").find(".service_upgrade_price").attr("data-price"))});var a=i*e;$("#paypal_payment").length&&($('#paypal_payment input[name="quantity"]').val(e),$('#paypal_payment input[name="custom"]').val(o+":"+n+":"+t.join(":"))),$("#khamsat_payment").length&&($('#khamsat_payment input[name="quantity"]').val(e),$('#khamsat_payment input[name="custom"]').val(o+":"+n+":"+t.join(":")),r<a?$("#khamsat_payment").fadeOut(1):$("#khamsat_payment").fadeIn(1)),$("#show_cc_form").length&&($('#cc_payment_form input[name="quantity"]').val(e),$('#cc_payment_form input[name="custom"]').val(o+":"+n+":"+t.join(":"))),$(".order_price").text(i),$(".total_order_price").text(a)}function labnolIframe(){var e=document.createElement("iframe"),t="https://www.youtube.com/embed/ID?autoplay=1";e.setAttribute("src",t.replace("ID",this.dataset.id)+this.dataset.ido),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),this.appendChild(e)}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __guard__(e,t){return null!=e?t(e):undefined}function __guardMethod__(e,t,i){return null!=e&&"function"==typeof e[t]?i(e,t):undefined}function RecordRTC(i,a){function e(e){return e&&(a=new RecordRTCConfiguration(i,e)),a.disableLogs||console.log("started recording "+a.type+" stream."),h?(h.clearRecordedData(),h.record(),u("recording"),f.recordingDuration&&c()):t(function(){f.recordingDuration&&c()}),f}function t(e){e&&(a.initCallback=function(){e(),e=a.initCallback=null});var t=new GetRecorderType(i,a);(h=new t(i,a)).record(),u("recording"),a.disableLogs||console.log("Initialized recorderType:",h.constructor.name,"for output-type:",a.type)}function n(o){function e(e){if(h){Object.keys(h).forEach(function(e){"function"!=typeof h[e]&&(f[e]=h[e])});var t=h.blob;if(!t){if(!e)throw"Recording failed.";h.blob=t=e}if(t&&!a.disableLogs&&console.log(t.type,"->",bytesToSize(t.size)),o){var i;try{i=URL.createObjectURL(t)}catch(n){}"function"==typeof o.call?o.call(f,i):o(i)}a.autoWriteToDisk&&l(function(e){var t={};t[a.type+"Blob"]=e,DiskStorage.Store(t)})}else"function"==typeof o.call?o.call(f,""):o("")}return o=o||function(){},h?"paused"===f.state?(f.resumeRecording(),void setTimeout(function(){n(o)},1)):("recording"===f.state||a.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',f.state),a.disableLogs||console.log("Stopped recording "+a.type+" stream."),"gif"!==a.type?h.stop(e):(h.stop(),e()),void u("stopped")):void d()}function o(){return h?"recording"!==f.state?void(a.disableLogs||console.warn("Unable to pause the recording. Recording state: ",f.state)):(u("paused"),h.pause(),void(a.disableLogs||console.log("Paused recording."))):void d()}function r(){return h?"paused"!==f.state?void(a.disableLogs||console.warn("Unable to resume the recording. Recording state: ",f.state)):(u("recording"),h.resume(),void(a.disableLogs||console.log("Resumed recording."))):void d()}function s(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(t,e){function i(e){try{var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(t);return URL.revokeObjectURL(t),i}catch(n){}}if(!t)throw"Pass a callback function over getDataURL.";var n=e?e.blob:(h||{}).blob;if(!n)return a.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){l(t,e)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(n),o.onload=function(e){t(e.target.result)}}else{var r=i(s);r.onmessage=function(e){t(e.data)},r.postMessage(n)}}function c(e){if(e=e||0,"paused"!==f.state){if("stopped"!==f.state){if(e>=f.recordingDuration)return void n(f.onRecordingStopped);e+=1e3,setTimeout(function(){c(e)},1e3)}}else setTimeout(function(){c(e)},1e3)}function u(e){f&&(f.state=e,"function"==typeof f.onStateChanged.call?f.onStateChanged.call(f,e):f.onStateChanged(e))}function d(){!0!==a.disableLogs&&console.warn(p)}if(!i)throw"First parameter is required.";a=new RecordRTCConfiguration(i,a=a||{type:"video"});var h,f=this,p='It seems that recorder is destroyed or "startRecording" is not invoked for '+a.type+" recorder.",m={startRecording:e,stopRecording:n,pauseRecording:o,resumeRecording:r,initRecorder:t,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return f.recordingDuration=e,f.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){f.onRecordingStopped=e}}},clearRecordedData:function(){return h?(h.clearRecordedData(),void(a.disableLogs||console.log("Cleared old recorded data."))):void d()},getBlob:function(){return h?h.blob:void d()},getDataURL:l,toURL:function(){return h?URL.createObjectURL(h.blob):void d()},getInternalRecorder:function(){return h},save:function(e){return h?void invokeSaveAsDialog(h.blob,e):void d()},getFromDisk:function(e){return h?void RecordRTC.getFromDisk(a.type,e):void d()},setAdvertisementArray:function(e){a.advertisement=[];for(var t=e.length,i=0;i<t;i++)a.advertisement.push({duration:i,image:e[i]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){h&&"function"==typeof h.clearRecordedData&&h.clearRecordedData(),h=null,u("inactive"),f.blob=null},onStateChanged:function(e){a.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return f.state},destroy:function(){var e=a.disableLogs;a={disableLogs:!0},f.reset(),u("destroyed"),m=f=null,Storage.AudioContextConstructor&&(Storage.AudioContextConstructor.close(),Storage.AudioContextConstructor=null),a.disableLogs=e,a.disableLogs||console.warn("RecordRTC is destroyed.")},version:"5.5.7"};if(!this)return f=m;for(var g in m)this[g]=m[g];return f=this,m}function RecordRTCConfiguration(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===WhammyRecorder||t.recorderType===CanvasRecorder||void 0!==WebAssemblyRecorder&&t.recorderType===WebAssemblyRecorder?t.type="video":t.recorderType===GifRecorder?t.type="gif":t.recorderType===StereoAudioRecorder?t.type="audio":t.recorderType===MediaStreamRecorder&&(getTracks(e,"audio").length&&getTracks(e,"video").length?t.type="video":!getTracks(e,"audio").length&&getTracks(e,"video").length?t.type="video":getTracks(e,"audio").length&&!getTracks(e,"video").length&&(t.type="audio"))),void 0!==MediaStreamRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function GetRecorderType(e,t){var i;return(isChrome||isEdge||isOpera)&&(i=StereoAudioRecorder),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!isChrome&&(i=MediaStreamRecorder),"video"===t.type&&(isChrome||isOpera)&&(i=WhammyRecorder,void 0!==WebAssemblyRecorder&&"undefined"!=typeof ReadableStream&&(i=WebAssemblyRecorder)),"gif"===t.type&&(i=GifRecorder),"canvas"===t.type&&(i=CanvasRecorder),isMediaRecorderCompatible()&&i!==CanvasRecorder&&i!==GifRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(getTracks(e,"video").length||getTracks(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(i=MediaStreamRecorder):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(i=MediaStreamRecorder)),e instanceof Array&&e.length&&(i=MultiStreamRecorder),t.recorderType&&(i=t.recorderType),!t.disableLogs&&i&&i.name&&console.log("Using recorderType:",i.name||i.constructor.name),!i&&isSafari&&(i=MediaStreamRecorder),i}function MRecordRTC(s){this.addStream=function(e){e&&(s=e)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var e,t=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof t.audio&&isMediaRecorderCompatible()&&!getTracks(s,"audio").length&&(t.audio=!1),"function"!=typeof t.video&&isMediaRecorderCompatible()&&!getTracks(s,"video").length&&(t.video=!1),"function"!=typeof t.gif&&isMediaRecorderCompatible()&&!getTracks(s,"video").length&&(t.gif=!1),!t.audio&&!t.video&&!t.gif)throw"MediaStream must have either audio or video tracks.";if(t.audio&&(e=null,"function"==typeof t.audio&&(e=t.audio),this.audioRecorder=new RecordRTC(s,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:e,mimeType:i.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),t.video||this.audioRecorder.startRecording()),t.video){e=null,"function"==typeof t.video&&(e=t.video);var n=s;if(isMediaRecorderCompatible()&&t.audio&&"function"==typeof t.audio){var o=getTracks(s,"video")[0];isFirefox?((n=new MediaStream).addTrack(o),e&&e===WhammyRecorder&&(e=MediaStreamRecorder)):(n=new MediaStream).addTrack(o)}this.videoRecorder=new RecordRTC(n,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:e,mimeType:i.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),t.audio||this.videoRecorder.startRecording()}if(t.audio&&t.video){var r=this,a=!0===isMediaRecorderCompatible();t.audio instanceof StereoAudioRecorder&&t.video?a=!1:!0!==t.audio&&!0!==t.video&&t.audio!==t.video&&(a=!1),!0===a?(r.audioRecorder=null,r.videoRecorder.startRecording()):r.videoRecorder.initRecorder(function(){r.audioRecorder.initRecorder(function(){r.videoRecorder.startRecording(),r.audioRecorder.startRecording()})})}t.gif&&(e=null,"function"==typeof t.gif&&(e=t.gif),this.gifRecorder=new RecordRTC(s,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:e,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(t){t=t||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(e){t(e,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(e){t(e,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(e){t(e,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(i){function n(e,t){if("undefined"!=typeof Worker){var i=o(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});i.onmessage=function(e){t(e.data)},i.postMessage(e)}else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(e.target.result)}}}function o(e){var t,i=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(i);if(void 0!==URL)t=URL;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(i),n}this.getBlob(function(e){e.audio&&e.video?n(e.audio,function(t){n(e.video,function(e){i({audio:t,video:e})})}):e.audio?n(e.audio,function(e){i({audio:e})}):e.video&&n(e.video,function(e){i({video:e})})})},this.writeToDisk=function(){RecordRTC.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function bytesToSize(e){var t=1e3,i=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var n=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,n)).toPrecision(3)+" "+i[n]}function invokeSaveAsDialog(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(a){}var i=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var n=t.split(".");t=n[0],i=n[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+i;if("undefined"!=typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if("undefined"!=typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=o,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),URL.revokeObjectURL(r.href)}function isElectron(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&0<=navigator.userAgent.indexOf("Electron")}function getTracks(e,t){return e&&e.getTracks?e.getTracks().filter(function(e){return e.kind===(t||"audio")}):[]}function setSrcObject(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function getSeekableBlob(e,n){if("undefined"==typeof EBML)throw new Error("Please link: https://cdn.webrtc-experiment.com/EBML.js");var o=new EBML.Reader,r=new EBML.Decoder,a=EBML.tools,t=new FileReader;t.onload=function(){r.decode(this.result).forEach(function(e){o.read(e)}),o.stop();var e=a.makeMetadataSeekable(o.metadatas,o.duration,o.cues),t=this.result.slice(o.metadataSize),i=new Blob([e,t],{type:"video/webm"});n(i)},t.readAsArrayBuffer(e)}function isMediaRecorderCompatible(){if(isFirefox||isSafari||isEdge)return!0;var e,t,i=(navigator.appVersion,navigator.userAgent),n=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(isChrome||isOpera)&&(e=i.indexOf("Chrome"),n=i.substring(e+7)),-1!==(t=n.indexOf(";"))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(" "))&&(n=n.substring(0,t)),o=parseInt(""+n,10),isNaN(o)&&(n=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),49<=o}function MediaStreamRecorder(t,n){function o(){s.timestamps.push((new Date).getTime()),"function"==typeof n.onTimeStamp&&n.onTimeStamp(s.timestamps[s.timestamps.length-1],s.timestamps)}function r(e){return c&&c.mimeType?c.mimeType:e.mimeType||"video/webm"}function i(){u=[],c=null,s.timestamps=[]}function a(){if("active"in t){if(!t.active)return!1}else if("ended"in t&&t.ended)return!1;return!0}var s=this;if(void 0===t)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(n=n||{mimeType:"video/webm"}).type){var l;if(getTracks(t,"video").length&&getTracks(t,"audio").length)navigator.mozGetUserMedia?(l=new MediaStream).addTrack(getTracks(t,"audio")[0]):l=new MediaStream(getTracks(t,"audio")),t=l;n.mimeType&&-1!==n.mimeType.toString().toLowerCase().indexOf("audio")||(n.mimeType=isChrome?"audio/webm":"audio/ogg"),n.mimeType&&"audio/ogg"!==n.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(n.mimeType="audio/ogg")}var c,u=[];this.getArrayOfBlobs=function(){return u},this.record=function(){s.blob=null,s.clearRecordedData(),s.timestamps=[],d=[],u=[];var i=n;n.disableLogs||console.log("Passing following config over MediaRecorder API.",i),c&&(c=null),isChrome&&!isMediaRecorderCompatible()&&(i="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&i.mimeType&&(MediaRecorder.isTypeSupported(i.mimeType)||(n.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType),i.mimeType="audio"===n.type?"audio/webm":"video/webm"));try{c=new MediaRecorder(t,i),n.mimeType=i.mimeType}catch(e){c=new MediaRecorder(t)}i.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in c&&!1===c.canRecordMimeType(i.mimeType)&&(n.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType)),c.ondataavailable=function(e){if(e.data&&d.push("ondataavailable: "+bytesToSize(e.data.size)),"number"!=typeof n.timeSlice){if(!e.data||!e.data.size||e.data.size<100||s.blob)return void(s.recordingCallback&&(s.recordingCallback(new Blob([],{type:r(i)})),s.recordingCallback=null));s.blob=n.getNativeBlob?e.data:new Blob([e.data],{type:r(i)}),s.recordingCallback&&(s.recordingCallback(s.blob),s.recordingCallback=null)}else if(e.data&&e.data.size&&100<e.data.size&&(u.push(e.data),o(),"function"==typeof n.ondataavailable)){var t=n.getNativeBlob?e.data:new Blob([e.data],{type:r(i)});n.ondataavailable(t)}},c.onstart=function(){d.push("started")},c.onpause=function(){d.push("paused")},c.onresume=function(){d.push("resumed")},c.onstop=function(){d.push("stopped")},c.onerror=function(e){var t;e&&(e.name||(e.name="UnknownError"),d.push("error: "+e),n.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",i.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),!s.manuallyStopped&&c&&"inactive"===c.state?(delete n.timeslice,c.start(6e5)):setTimeout(t,1e3),"inactive"!==c.state&&"stopped"!==c.state&&c.stop())},"number"==typeof n.timeSlice?(o(),c.start(n.timeSlice)):c.start(36e5),n.initCallback&&n.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},s.manuallyStopped=!0,c&&(this.recordingCallback=e,"recording"===c.state&&c.stop(),"number"==typeof n.timeSlice&&setTimeout(function(){s.blob=new Blob(u,{type:r(n)}),s.recordingCallback(s.blob)},100))},this.pause=function(){c&&"recording"===c.state&&c.pause()},this.resume=function(){c&&"paused"===c.state&&c.resume()},this.clearRecordedData=function(){c&&"recording"===c.state&&s.stop(i),i()},this.getInternalRecorder=function(){return c},this.blob=null,this.getState=function(){return c&&c.state||"inactive"};var d=[];this.getAllStates=function(){return d},"undefined"==typeof n.checkForInactiveTracks&&(n.checkForInactiveTracks=!1);s=this;!function e(){if(c&&!1!==n.checkForInactiveTracks)return!1===a()?(n.disableLogs||console.log("MediaStream seems stopped."),void s.stop()):void setTimeout(e,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function StereoAudioRecorder(e,r){function a(){if(!1===r.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function t(e,t){function i(e,t){function i(e,t,i){var n=Math.round(e.length*(t/i)),o=[],r=Number((e.length-1)/(n-1));o[0]=e[0];for(var a=1;a<n-1;a++){var s=a*r,l=Number(Math.floor(s)).toFixed(),c=Number(Math.ceil(s)).toFixed(),u=s-l;o[a]=d(e[l],e[c],u)}return o[n-1]=e[e.length-1],o}function d(e,t,i){return e+(t-e)*i}function n(e,t){for(var i=new Float64Array(t),n=0,o=e.length,r=0;r<o;r++){var a=e[r];i.set(a,n),n+=a.length}return i}function o(e,t){for(var i=e.length+t.length,n=new Float64Array(i),o=0,r=0;r<i;)n[r++]=e[o],n[r++]=t[o],o++;return n}function r(e,t,i){for(var n=i.length,o=0;o<n;o++)e.setUint8(t+o,i.charCodeAt(o))}var a,s=e.numberOfAudioChannels,l=e.leftBuffers.slice(0),c=e.rightBuffers.slice(0),u=e.sampleRate,h=e.internalInterleavedLength,f=e.desiredSampRate;2===s&&(l=n(l,h),c=n(c,h),f&&(l=i(l,f,u),c=i(c,f,u))),1===s&&(l=n(l,h),f&&(l=i(l,f,u))),f&&(u=f),2===s&&(a=o(l,c)),1===s&&(a=l);var p=a.length,m=new ArrayBuffer(44+2*p),g=new DataView(m);r(g,0,"RIFF"),g.setUint32(4,36+2*p,!0),r(g,8,"WAVE"),r(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,s,!0),g.setUint32(24,u,!0),g.setUint32(28,2*u,!0),g.setUint16(32,2*s,!0),g.setUint16(34,16,!0),r(g,36,"data"),g.setUint32(40,2*p,!0);for(var v=p,y=44,b=1,_=0;_<v;_++)g.setInt16(y,a[_]*(32767*b),!0),y+=2;return t?t({buffer:m,view:g}):void postMessage({buffer:m,view:g})}if(e.noWorker)i(e,function(e){t(e.buffer,e.view)});else{var n=o(i);n.onmessage=function(e){t(e.data.buffer,e.data.view),URL.revokeObjectURL(n.workerURL),n.terminate()},n.postMessage(e)}}function o(e){var t=URL.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(t);return i.workerURL=t,i}function i(){d=[],p=0,C=f=x=!(h=[]),y=null,u.leftchannel=d,u.rightchannel=h,u.numberOfAudioChannels=m,u.desiredSampRate=g,u.sampleRate=k,u.recordingLength=p,T={left:[],right:[],recordingLength:0}}function n(){c&&(c.onaudioprocess=null,c.disconnect(),c=null),b&&(b.disconnect(),b=null),i()}function s(e){if(!C){if(!1===a()&&(r.disableLogs||console.log("MediaStream seems stopped."),c.disconnect(),f=!1),!f)return void(b&&(b.disconnect(),b=null));x||(x=!0,r.onAudioProcessStarted&&r.onAudioProcessStarted(),r.initCallback&&r.initCallback());var t=e.inputBuffer.getChannelData(0),i=new Float32Array(t);if(d.push(i),2===m){var n=e.inputBuffer.getChannelData(1),o=new Float32Array(n);h.push(o)}p+=w,u.recordingLength=p,"undefined"!=typeof r.timeSlice&&(T.recordingLength+=w,T.left.push(i),2===m&&T.right.push(o))}}function l(){f&&"function"==typeof r.ondataavailable&&"undefined"!=typeof r.timeSlice&&(T.left.length?(t({desiredSampRate:g,sampleRate:k,numberOfAudioChannels:m,internalInterleavedLength:T.recordingLength,leftBuffers:T.left,rightBuffers:1===m?[]:T.right},function(e,t){var i=new Blob([t],{type:"audio/wav"});r.ondataavailable(i),setTimeout(l,r.timeSlice)}),T={left:[],right:[],recordingLength:0}):setTimeout(l,r.timeSlice))}if(!getTracks(e,"audio").length)throw"Your stream has no audio tracks.";var c,u=this,d=[],h=[],f=!1,p=0,m=2,g=(r=r||{}).desiredSampRate;if(!0===r.leftChannel&&(m=1),1===r.numberOfAudioChannels&&(m=1),(!m||m<1)&&(m=2),r.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+m),"undefined"==typeof r.checkForInactiveTracks&&(r.checkForInactiveTracks=!0),this.record=function(){if(!1===a())throw"Please make sure MediaStream is active.";i(),x=C=!1,f=!0,"undefined"!=typeof r.timeSlice&&l()},this.stop=function(i){i=i||function(){},f=!1,t({desiredSampRate:g,sampleRate:k,numberOfAudioChannels:m,internalInterleavedLength:p,leftBuffers:d,rightBuffers:1===m?[]:h,noWorker:r.noWorker},function(e,t){u.blob=new Blob([t],{type:"audio/wav"}),u.buffer=new ArrayBuffer(t.buffer.byteLength),u.view=t,u.sampleRate=g||k,u.bufferSize=w,u.length=p,x=!1,i&&i(u.blob)})},void 0===v)var v={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};v.AudioContextConstructor||(v.AudioContextConstructor=new v.AudioContext);var y=v.AudioContextConstructor,b=y.createMediaStreamSource(e),_=[0,256,512,1024,2048,4096,8192,16384],w="undefined"==typeof r.bufferSize?4096:r.bufferSize;if(-1===_.indexOf(w)&&(r.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(_,null,"\t"))),y.createJavaScriptNode)c=y.createJavaScriptNode(w,m,m);else{if(!y.createScriptProcessor)throw"WebAudio API has no support on this browser.";c=y.createScriptProcessor(w,m,m)}b.connect(c),r.bufferSize||(w=c.bufferSize);var k="undefined"!=typeof r.sampleRate?r.sampleRate:y.sampleRate||44100;(k<22050||96e3<k)&&(r.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),r.disableLogs||r.desiredSampRate&&console.log("Desired sample-rate: "+r.desiredSampRate);var C=!1;this.pause=function(){C=!0},this.resume=function(){if(!1===a())throw"Please make sure MediaStream is active.";return f?void(C=!1):(r.disableLogs||console.log("Seems recording has been restarted."),void this.record())},this.clearRecordedData=function(){r.checkForInactiveTracks=!1,f&&this.stop(n),n()},this.name="StereoAudioRecorder";var x=!(this.toString=function(){return this.name});c.onaudioprocess=s,y.createMediaStreamDestination?c.connect(y.createMediaStreamDestination()):c.connect(y.destination),this.leftchannel=d,this.rightchannel=h,this.numberOfAudioChannels=m,this.desiredSampRate=g,this.sampleRate=k,u.recordingLength=p;var T={left:[],right:[],recordingLength:0}}function CanvasRecorder(i,r){function e(){p.frames=[],h=l=!1}function t(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=i.width,e.height=i.height,t.drawImage(i,0,0),e}function n(){if(h)return f=(new Date).getTime(),setTimeout(n,500);if("canvas"===i.nodeName.toLowerCase()){var e=(new Date).getTime()-f;return f=(new Date).getTime(),p.frames.push({image:t(),duration:e}),void(l&&setTimeout(n,r.frameInterval))}html2canvas(i,{grabMouse:"undefined"==typeof r.showMousePointer||r.showMousePointer,onrendered:function(e){var t=(new Date).getTime()-f;return t?(f=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:t}),void(l&&setTimeout(n,r.frameInterval))):setTimeout(n,r.frameInterval)}})}if("undefined"==typeof html2canvas)throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";(r=r||{}).frameInterval||(r.frameInterval=10);var o=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){e in document.createElement("canvas")&&(o=!0)});var a,s,l,c=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),u=50,d=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(c&&d&&d[2]&&(u=parseInt(d[2],10)),c&&u<52&&(o=!1),r.useWhammyRecorder&&(o=!1),o)if(r.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),i instanceof HTMLCanvasElement)a=i;else{if(!(i instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";a=i.canvas}else navigator.mozGetUserMedia&&(r.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(l=!0,o&&!r.useWhammyRecorder){var e;"captureStream"in a?e=a.captureStream(25):"mozCaptureStream"in a?e=a.mozCaptureStream(25):"webkitCaptureStream"in a&&(e=a.webkitCaptureStream(25));try{var t=new MediaStream;t.addTrack(getTracks(e,"video")[0]),e=t}catch(i){}if(!e)throw"captureStream API are NOT available.";(s=new MediaStreamRecorder(e,{mimeType:r.mimeType||"video/webm"})).record()}else p.frames=[],f=(new Date).getTime(),n();r.initCallback&&r.initCallback()},this.getWebPImages=function(e){if("canvas"===i.nodeName.toLowerCase()){var o=p.frames.length;p.frames.forEach(function(e,t){var i=o-t;r.disableLogs||console.log(i+"/"+o+" frames remaining"),r.onEncodingCallback&&r.onEncodingCallback(i,o);var n=e.image.toDataURL("image/webp",1);p.frames[t].image=n}),r.disableLogs||console.log("Generating WebM"),e()}else e()};var h=!(this.stop=function(t){l=!1;var i=this;return o&&s?void s.stop(t):void this.getWebPImages(function(){p.compile(function(e){r.disableLogs||console.log("Recording finished!"),i.blob=e,i.blob.forEach&&(i.blob=new Blob([],{type:"video/webm"})),t&&t(i.blob),p.frames=[]})})});this.pause=function(){h=!0,s instanceof MediaStreamRecorder&&s.pause()},this.resume=function(){return h=!1,s instanceof MediaStreamRecorder?void s.resume():void(l||this.record())},this.clearRecordedData=function(){l&&this.stop(e),e()},this.name="CanvasRecorder",this.toString=function(){return this.name};var f=(new Date).getTime(),p=new Whammy.Video(100)}function WhammyRecorder(e,n){function i(e){e=void 0!==e?e:10;var t=(new Date).getTime()-c;return t?a?(c=(new Date).getTime(),setTimeout(i,100)):(c=(new Date).getTime(),l.paused&&l.play(),d.drawImage(l,0,0,g.width,g.height),u.frames.push({duration:t,image:g.toDataURL("image/webp")}),void(r||setTimeout(i,e,e))):setTimeout(i,e,e)}function s(t){var i=-1,n=t.length;!function e(){return++i===n?void t.callback():void setTimeout(function(){t.functionToLoop(e,i)},1)}()}function o(i,e,t,n,o){var r=document.createElement("canvas");r.width=g.width,r.height=g.height;var l=r.getContext("2d"),c=[],u=-1===e,a=e&&0<e&&e<=i.length?e:i.length,d={r:0,g:0,b:0},h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=t&&0<=t&&t<=1?t:0,p=n&&0<=n&&n<=1?n:0,m=!1;s({length:a,functionToLoop:function(e,t){var n,o,r,a=function(){!m&&r-n<=r*p||(u&&(m=!0),c.push(i[t])),e()};if(m)a();else{var s=new Image;s.onload=function(){l.drawImage(s,0,0,g.width,g.height);var e=l.getImageData(0,0,g.width,g.height);n=0,o=e.data.length,r=e.data.length/4;for(var t=0;t<o;t+=4){var i={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(i.r-d.r,2)+Math.pow(i.g-d.g,2)+Math.pow(i.b-d.b,2))<=h*f&&n++}a()},s.src=i[t].image}},callback:function(){(c=c.concat(i.slice(a))).length<=0&&c.push(i[i.length-1]),o(c)}})}function t(){u.frames=[],a=!(r=!0)}(n=n||{}).frameInterval||(n.frameInterval=10),
n.disableLogs||console.log("Using frames-interval:",n.frameInterval);var r=!(this.record=function(){n.width||(n.width=320),n.height||(n.height=240),n.video||(n.video={width:n.width,height:n.height}),n.canvas||(n.canvas={width:n.width,height:n.height}),g.width=n.canvas.width||320,g.height=n.canvas.height||240,d=g.getContext("2d"),n.video&&n.video instanceof HTMLVideoElement?(l=n.video.cloneNode(),n.initCallback&&n.initCallback()):(l=document.createElement("video"),setSrcObject(e,l),l.onloadedmetadata=function(){n.initCallback&&n.initCallback()},l.width=n.video.width,l.height=n.video.height),l.muted=!0,l.play(),c=(new Date).getTime(),u=new Whammy.Video,n.disableLogs||(console.log("canvas resolutions",g.width,"*",g.height),console.log("video width/height",l.width||g.width,"*",l.height||g.height)),i(n.frameInterval)}),a=!(this.stop=function(t){t=t||function(){},r=!0;var i=this;setTimeout(function(){o(u.frames,-1,null,null,function(e){u.frames=e,n.advertisement&&n.advertisement.length&&(u.frames=n.advertisement.concat(u.frames)),u.compile(function(e){i.blob=e,i.blob.forEach&&(i.blob=new Blob([],{type:"video/webm"})),t&&t(i.blob)})})},10)});this.pause=function(){a=!0},this.resume=function(){a=!1,r&&this.record()},this.clearRecordedData=function(){r||this.stop(t),t()},this.name="WhammyRecorder",this.toString=function(){return this.name};var l,c,u,g=document.createElement("canvas"),d=g.getContext("2d")}function GifRecorder(e,i){function t(){d&&(d.stream().bin=[])}if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://cdn.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}i=i||{};var o=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){function t(e){if(!0!==f.clearedRecordedData){if(r)return setTimeout(function(){t(e)},100);h=requestAnimationFrame(t),void 0===typeof u&&(u=e),e-u<90||(!o&&c.paused&&c.play(),o||s.drawImage(c,0,0,a.width,a.height),i.onGifPreview&&i.onGifPreview(a.toDataURL("image/png")),d.addFrame(s),u=e)}}return"undefined"==typeof GIFEncoder?void setTimeout(f.record,1e3):l?(o||(i.width||(i.width=c.offsetWidth||320),i.height||(i.height=c.offsetHeight||240),i.video||(i.video={width:i.width,height:i.height}),i.canvas||(i.canvas={width:i.width,height:i.height}),a.width=i.canvas.width||320,a.height=i.canvas.height||240,c.width=i.video.width||320,c.height=i.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(i.frameRate||200),d.setQuality(i.quality||10),d.start(),"function"==typeof i.onGifRecordingStarted&&i.onGifRecordingStarted(),Date.now(),h=requestAnimationFrame(t),void(i.initCallback&&i.initCallback())):void setTimeout(f.record,1e3)};var r=!(this.stop=function(e){e=e||function(){},h&&cancelAnimationFrame(h),Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]});this.pause=function(){r=!0},this.resume=function(){r=!1},this.clearRecordedData=function(){f.clearedRecordedData=!0,t()},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),s=a.getContext("2d");o&&(e instanceof CanvasRenderingContext2D?a=(s=e).canvas:e instanceof HTMLCanvasElement&&(s=e.getContext("2d"),a=e));var l=!0;if(!o){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,l=!1,c.onloadedmetadata=function(){l=!0},setSrcObject(e,c),c.play()}var u,d,h=null,f=this}function MultiStreamsMixer(n,i){function o(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function r(){if(!f){var e=h.length,t=!1,i=[];if(h.forEach(function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:i.push(e)}),t)p.width=t.stream.width,p.height=t.stream.height;else if(i.length){p.width=1<e?2*i[0].width:i[0].width;var n=1;3!==e&&4!==e||(n=2),5!==e&&6!==e||(n=3),7!==e&&8!==e||(n=4),9!==e&&10!==e||(n=5),p.height=i[0].height*n}else p.width=g.width||360,p.height=g.height||240;t&&t instanceof HTMLVideoElement&&a(t),i.forEach(function(e,t){a(e,t)}),setTimeout(r,g.frameInterval)}}function a(e,t){if(!f){var i=0,n=0,o=e.width,r=e.height;1===t&&(i=e.width),2===t&&(n=e.height),3===t&&(i=e.width,n=e.height),4===t&&(n=2*e.height),5===t&&(i=e.width,n=2*e.height),6===t&&(n=3*e.height),7===t&&(i=e.width,n=3*e.height),"undefined"!=typeof e.stream.left&&(i=e.stream.left),"undefined"!=typeof e.stream.top&&(n=e.stream.top),"undefined"!=typeof e.stream.width&&(o=e.stream.width),"undefined"!=typeof e.stream.height&&(r=e.stream.height),m.drawImage(e,i,n,o,r),"function"==typeof e.stream.onRender&&e.stream.onRender(m,i,n,o,r,t)}}function e(){f=!1;var t=s(),e=l();return e&&e.getTracks().filter(function(e){return"audio"===e.kind}).forEach(function(e){t.addTrack(e)}),n.forEach(function(e){e.fullcanvas&&!0}),t}function s(){var e;u(),"captureStream"in p?e=p.captureStream():"mozCaptureStream"in p?e=p.mozCaptureStream():g.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new b;return e.getTracks().filter(function(e){return"video"===e.kind}).forEach(function(e){t.addTrack(e)}),p.stream=t}function l(){_.AudioContextConstructor||(_.AudioContextConstructor=new _.AudioContext),g.audioContext=_.AudioContextConstructor,g.audioSources=[],!0===g.useGainNode&&(g.gainNode=g.audioContext.createGain(),g.gainNode.connect(g.audioContext.destination),g.gainNode.gain.value=0);var i=0;if(n.forEach(function(e){if(e.getTracks().filter(function(e){return"audio"===e.kind}).length){i++;var t=g.audioContext.createMediaStreamSource(e);!0===g.useGainNode&&t.connect(g.gainNode),g.audioSources.push(t)}}),i)return g.audioDestination=g.audioContext.createMediaStreamDestination(),g.audioSources.forEach(function(e){e.connect(g.audioDestination)}),g.audioDestination.stream}function c(e){var t=document.createElement("video");return o(e,t),t.className=i,t.muted=!0,t.volume=0,t.width=e.width||g.width||360,t.height=e.height||g.height||240,t.play(),t}function u(e){h=[],(e=e||n).forEach(function(e){if(e.getTracks().filter(function(e){return"video"===e.kind}).length){var t=c(e);t.stream=e,h.push(t)}})}var t,d="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";t="undefined"!=typeof global?global:null,void 0===RecordRTC&&t&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:d,getUserMedia:function(){}},global.console||(global.console={}),"undefined"!=typeof global.console.log&&"undefined"!=typeof global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(t.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},t.HTMLVideoElement=function(){}),"undefined"==typeof location&&(t.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(t.screen={width:0,height:0}),void 0===y&&(t.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),t.window=global),i=i||"multi-streams-mixer";var h=[],f=!1,p=document.createElement("canvas"),m=p.getContext("2d");p.style.opacity=0,p.style.position="absolute",p.style.zIndex=-1,p.style.top="-1000em",p.style.left="-1000em",p.className=i,(document.body||document.documentElement).appendChild(p),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var g=this,v=window.AudioContext;void 0===v&&("undefined"!=typeof webkitAudioContext&&(v=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(v=mozAudioContext));var y=window.URL;void 0===y&&"undefined"!=typeof webkitURL&&(y=webkitURL),"undefined"!=typeof navigator&&"undefined"==typeof navigator.getUserMedia&&("undefined"!=typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!=typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var b=window.MediaStream;void 0===b&&"undefined"!=typeof webkitMediaStream&&(b=webkitMediaStream),void 0!==b&&"undefined"==typeof b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})});var _={};void 0!==v?_.AudioContext=v:"undefined"!=typeof webkitAudioContext&&(_.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){r()},this.appendStreams=function(e){if(!e)throw"First parameter is required.";e instanceof Array||(e=[e]),n=n.concat(e),e.forEach(function(e){if(e.getTracks().filter(function(e){return"video"===e.kind}).length){var t=c(e);t.stream=e,h.push(t)}if(e.getTracks().filter(function(e){return"audio"===e.kind}).length&&g.audioContext&&g.audioDestination){var i=g.audioContext.createMediaStreamSource(e);i.connect(g.audioDestination),g.audioSources.push(i)}})},this.releaseStreams=function(){h=[],f=!0,g.gainNode&&(g.gainNode.disconnect(),g.gainNode=null),g.audioSources.length&&(g.audioSources.forEach(function(e){e.disconnect()}),g.audioSources=[]),g.audioDestination&&(g.audioDestination.disconnect(),g.audioDestination=null),g.audioContext&&g.audioContext.close(),g.audioContext=null,m.clearRect(0,0,p.width,p.height),p.stream&&(p.stream.stop(),p.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),u(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=e}function MultiStreamRecorder(i,e){function t(){var t=[];return i.forEach(function(e){getTracks(e,"video").forEach(function(e){t.push(e)})}),t}i=i||[];var n,o,r=this;(e=e||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(e.frameInterval=10),e.video||(e.video={}),e.video.width||(e.video.width=360),e.video.height||(e.video.height=240),this.record=function(){n=new MultiStreamsMixer(i,e.elementClass||"multi-streams-mixer"),t().length&&(n.frameInterval=e.frameInterval||10,n.width=e.video.width||360,n.height=e.video.height||240,n.startDrawingFrames()),e.previewStream&&"function"==typeof e.previewStream&&e.previewStream(n.getMixedStream()),(o=new MediaStreamRecorder(n.getMixedStream(),e)).record()},this.stop=function(t){o&&o.stop(function(e){r.blob=e,t(e),r.clearRecordedData()})},this.pause=function(){o&&o.pause()},this.resume=function(){o&&o.resume()},this.clearRecordedData=function(){o&&(o.clearRecordedData(),o=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(e){if(!e)throw"First parameter is required.";e instanceof Array||(e=[e]),i.concat(e),o&&n&&n.appendStreams(e)},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function RecordRTCPromisesHandler(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new RecordRTC(e,t),this.startRecording=function(){return new Promise(function(e,t){try{n.recordRTC.startRecording(),e()}catch(i){t(i)}})},this.stopRecording=function(){return new Promise(function(t,i){try{n.recordRTC.stopRecording(function(e){return n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?void t(e):void i("Empty blob.",n.blob)})}catch(e){i(e)}})},this.getDataURL=function(){return new Promise(function(t,e){try{n.recordRTC.getDataURL(function(e){t(e)})}catch(i){e(i)}})},this.getBlob=function(){return new Promise(function(e,t){try{e(n.recordRTC.getBlob())}catch(i){t(i)}})},this.blob=null}function WebAssemblyRecorder(e,a){function n(){return new ReadableStream({start:function(n){var o=document.createElement("canvas"),r=document.createElement("video");r.srcObject=e,r.onplaying=function(){o.width=a.width,o.height=a.height;var t=o.getContext("2d"),i=1e3/a.frameRate;setTimeout(function e(){t.drawImage(r,0,0),n.enqueue(t.getImageData(0,0,a.width,a.height)),setTimeout(e,i)},i)},r.play()}})}function o(t,e){if(a.workerPath||e){if(!a.workerPath&&e instanceof ArrayBuffer){var i=new Blob([e],{type:"text/javascript"});a.workerPath=URL.createObjectURL(i)}a.workerPath||console.error("workerPath parameter is missing."),(r=new Worker(a.workerPath)).postMessage(a.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",function(e){"READY"===e.data?(r.postMessage({width:a.width,height:a.height,bitrate:a.bitrate||1200,timebaseDen:a.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){r&&r.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(s||l.push(e.data))})}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(e){e.arrayBuffer().then(function(e){o(t,e)})})}function t(){r&&(r.postMessage(null),r.terminate(),r=null)}var r,s;"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(a=a||{}).width=a.width||640,a.height=a.height||480,a.frameRate=a.frameRate||30,a.bitrate=a.bitrate||1200,this.record=function(){s=!(l=[]),this.blob=null,o(e),"function"==typeof a.initCallback&&a.initCallback()},this.pause=function(){s=!0},this.resume=function(){s=!1};var l=[];this.stop=function(e){t(),this.blob=new Blob(l,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=!(l=[]),this.blob=null},this.blob=null}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(p,t){function m(e){var t=e.length,i=oe.type(e);return"function"!==i&&!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e))}function c(e,i,n){if(oe.isFunction(i))return oe.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return oe.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(he.test(i))return oe.filter(i,e,n);i=oe.filter(i,e)}return oe.grep(e,function(e){return 0<=oe.inArray(e,i)!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function e(e){var i=_e[e]={};return oe.each(e.match(be)||[],function(e,t){i[t]=!0}),i}function n(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",o,!1),p.removeEventListener("load",o,!1)):(pe.detachEvent("onreadystatechange",o),p.detachEvent("onload",o))}function o(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(n(),oe.ready())}function s(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(xe,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ce.test(i)?oe.parseJSON(i):i)}catch(Y){}oe.data(e,t,i)}else i=void 0}return i}function l(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(e,t,i,n){if(oe.acceptData(e)){var o,r,a=oe.expando,s=e.nodeType,l=s?oe.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=s?e[a]=Q.pop()||oe.guid++:a),l[c]||(l[c]=s?{}:{toJSON:oe.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),r=l[c],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[oe.camelCase(t)]=i),"string"==typeof t?null==(o=r[t])&&(o=r[oe.camelCase(t)]):o=r,o}}function a(e,t,i){if(oe.acceptData(e)){var n,o,r=e.nodeType,a=r?oe.cache:e,s=r?e[oe.expando]:oe.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in n?t=[t]:t=(t=oe.camelCase(t))in n?[t]:t.split(" "),o=t.length;for(;o--;)delete n[t[o]];if(i?!l(n):!oe.isEmptyObject(n))return}(i||(delete a[s].data,l(a[s])))&&(r?oe.cleanData([e],!0):ie.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function u(){return!0}function d(){return!1}function h(){try{return pe.activeElement}catch(p){}}function g(e){var t=je.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function v(e,t){var i,n,o=0,r=typeof e.getElementsByTagName!==ke?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==ke?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||oe.nodeName(n,t)?r.push(n):oe.merge(r,v(n,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function y(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function f(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var i,n=0;null!=(i=e[n]);n++)oe._data(i,"globalEval",!t||oe._data(t[n],"globalEval"))}function k(e,t){if(1===t.nodeType&&oe.hasData(e)){var i,n,o,r=oe._data(e),a=oe._data(t,r),s=r.events;if(s)for(i in delete a.handle,a.events={},s)for(n=0,o=s[i].length;n<o;n++)oe.event.add(t,i,s[i][n]);a.data&&(a.data=oe.extend({},a.data))}}function C(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[oe.expando]){for(n in(o=oe._data(t)).events)oe.removeEvent(t,n,o.handle);t.removeAttribute(oe.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function x(e,t){var i,n=oe(t.createElement(e)).appendTo(t.body),o=p.getDefaultComputedStyle&&(i=p.getDefaultComputedStyle(n[0]))?i.display:oe.css(n[0],"display");return n.detach(),o}function T(e){var t=pe,i=Ke[e];return i||("none"!==(i=x(e,t))&&i||((t=((Ye=(Ye||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ye[0].contentDocument).document).write(),t.close(),i=x(e,t),Ye.detach()),Ke[e]=i),i}function S(t,i){return{get:function(){var e=t();if(null!=e)return e?void delete this.get:(this.get=i).apply(this,arguments)}}}function $(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=dt.length;o--;)if((t=dt[o]+i)in e)return t;return n}function E(e,t){for(var i,n,o,r=[],a=0,s=e.length;a<s;a++)(n=e[a]).style&&(r[a]=oe._data(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&$e(n)&&(r[a]=oe._data(n,"olddisplay",T(n.nodeName)))):(o=$e(n),(i&&"none"!==i||!o)&&oe._data(n,"olddisplay",o?i:oe.css(n,"display"))));for(a=0;a<s;a++)(n=e[a]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function A(e,t,i){var n=st.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function D(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===i&&(a+=oe.css(e,i+Se[r],!0,o)),n?("content"===i&&(a-=oe.css(e,"padding"+Se[r],!0,o)),"margin"!==i&&(a-=oe.css(e,"border"+Se[r]+"Width",!0,o))):(a+=oe.css(e,"padding"+Se[r],!0,o),"padding"!==i&&(a+=oe.css(e,"border"+Se[r]+"Width",!0,o)));return a}function R(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Ze(e),a=ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=et(e,t,r))<0||null==o)&&(o=e.style[t]),it.test(o))return o;n=a&&(ie.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+D(e,t,i||(a?"border":"content"),n,r)+"px"}function L(e,t,i,n,o){return new L.prototype.init(e,t,i,n,o)}function M(){return setTimeout(function(){ht=void 0}),ht=oe.now()}function z(e,t){var i,n={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n["margin"+(i=Se[o])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function j(e,t,i){for(var n,o=(Ct[t]||[]).concat(Ct["*"]),r=0,a=o.length;r<a;r++)if(n=o[r].call(i,t,e))return n}function N(t,e,i){var n,o,r,a,s,l,c,u=this,d={},h=t.style,f=t.nodeType&&$e(t),p=oe._data(t,"fxshow");for(n in i.queue||(null==(s=oe._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,oe.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=oe.css(t,"display"))?oe._data(t,"olddisplay")||T(t.nodeName):c)&&"none"===oe.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==T(t.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",ie.shrinkWrapBlocks()||u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),e)if(o=e[n],bt.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||void 0===p[n])continue;f=!0}d[n]=p&&p[n]||oe.style(t,n)}else c=void 0;if(oe.isEmptyObject(d))"inline"===("none"===c?T(t.nodeName):c)&&(h.display=c);else for(n in p?"hidden"in p&&(f=p.hidden):p=oe._data(t,"fxshow",{}),r&&(p.hidden=!f),f?oe(t).show():u.done(function(){oe(t).hide()}),u.done(function(){var e;for(e in oe._removeData(t,"fxshow"),d)oe.style(t,e,d[e])}),d)a=j(f?p[n]:0,n,u),n in p||(p[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}function P(e,t){var i,n,o,r,a;for(i in e)if(o=t[n=oe.camelCase(i)],r=e[i],oe.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(a=oe.cssHooks[n])&&"expand"in a)for(i in r=a.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=o);else t[n]=o}function I(r,e,t){var i,a,n=0,o=kt.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=ht||M(),t=Math.max(0,c.startTime+c.duration-e),i=1-(t/c.duration||0),n=0,o=c.tweens.length;n<o;n++)c.tweens[n].run(i);return s.notifyWith(r,[c,i,t]),i<1&&o?t:(s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:oe.extend({},e),opts:oe.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:ht||M(),duration:t.duration,tweens:[],createTween:function(e,t){var i=oe.Tween(r,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var t=0,i=e?c.tweens.length:0;if(a)return this;for(a=!0;t<i;t++)c.tweens[t].run(1);return e?s.resolveWith(r,[c,e]):s.rejectWith(r,[c,e]),this}}),u=c.props;for(P(u,c.opts.specialEasing);n<o;n++)if(i=kt[n].call(c,r,u,c.opts))return i;return oe.map(u,j,c),oe.isFunction(c.opts.start)&&c.opts.start.call(r,c),oe.fx.timer(oe.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,o=e.toLowerCase().match(be)||[];if(oe.isFunction(t))for(;i=o[n++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(t)):(r[i]=r[i]||[]).push(t)}}function O(t,o,r,a){function s(e){var n;return l[e]=!0,oe.each(t[e]||[],function(e,t){var i=t(o,r,a);return"string"!=typeof i||c||l[i]?c?!(n=i):void 0:(o.dataTypes.unshift(i),s(i),!1)}),n}var l={},c=t===Gt;return s(o.dataTypes[0])||!l["*"]&&s("*")}function q(e,t){var i,n,o=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function H(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function U(e,t,i,n){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(ne){return{state:"parsererror",error:a?ne:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function B(i,e,n,o){var t;if(oe.isArray(e))oe.each(e,function(e,t){n||Yt.test(i)?o(i,t):B(i+"["+("object"==typeof t?e:"")+"]",t,n,o)});else if(n||"object"!==oe.type(e))o(i,e);else for(t in e)B(i+"["+t+"]",e[t],n,o)}function W(){try{return new p.XMLHttpRequest}catch(t){}}function V(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return oe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Q=[],X=Q.slice,Y=Q.concat,J=Q.push,K=Q.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},ne="1.11.2",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ne,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(i){return this.pushStack(oe.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:Q.sort,splice:Q.splice},oe.extend=oe.fn.extend=function(e){var t,i,n,o,r,a,s=e||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||oe.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(r=arguments[l]))for(o in r)t=s[o],s!==(n=r[o])&&(u&&n&&(oe.isPlainObject(n)||(i=oe.isArray(n)))?(i?(i=!1,a=t&&oe.isArray(t)?t:[]):a=t&&oe.isPlainObject(t)?t:{},s[o]=oe.extend(u,a,n)):void 0!==n&&(s[o]=n));return s},oe.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&0<=e-parseFloat(e)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(Q){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(e){e&&oe.trim(e)&&(p.execScript||function(e){p.eval.call(p,e)})(e)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,o=e.length,r=m(e);if(i){if(r)for(;n<o&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(r)for(;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(m(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):J.call(i,e)),i},inArray:function(e,t,i){var n;if(t){if(K)return K.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;)e[o++]=t[n++];if(i!=i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,a=!i;o<r;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,i){var n,o=0,r=e.length,a=[];if(m(e))for(;o<r;o++)null!=(n=t(e[o],o,i))&&a.push(n);else for(o in e)null!=(n=t(e[o],o,i))&&a.push(n);return Y.apply([],a)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(o=e[t],t=e,e=o),oe.isFunction(e)?(i=X.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(X.call(arguments)))}).guid=e.guid=e.guid||oe.guid++,n):void 0},now:function(){return+new Date},support:ie}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ce=function(i){function _(e,t,i,n){var o,r,a,s,l,c,u,d,h,f;if((t?t.ownerDocument||t:O)!==L&&R(t),i=i||[],s=(t=t||L).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return i;if(!n&&z){if(11!==s&&(o=ye.exec(e)))if(a=o[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&I(t,r)&&r.id===a)return i.push(r),i}else{if(o[2])return K.apply(i,t.getElementsByTagName(e)),i;if((a=o[3])&&v.getElementsByClassName)return K.apply(i,t.getElementsByClassName(a)),i}if(v.qsa&&(!j||!j.test(e))){if(d=u=F,h=t,f=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(u=t.getAttribute("id"))?d=u.replace(_e,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+m(c[l]);h=be.test(e)&&p(t.parentNode)||t,f=c.join(",")}if(f)try{return K.apply(i,h.querySelectorAll(f)),i}catch(U){}finally{u||t.removeAttribute("id")}}}return $(e.replace(le,"$1"),t,i,n)}function e(){function i(e,t){return n.push(e+" ")>k.cacheLength&&delete i[n.shift()],i[e+" "]=t}var n=[];return i}function l(e){return e[F]=!0,e}function n(e){var t=L.createElement("div");try{return!!e(t)}catch(v){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var i=e.split("|"),n=e.length;n--;)k.attrHandle[i[n]]=t}function c(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function a(a){return l(function(r){return r=+r,l(function(e,t){for(var i,n=a([],e.length,r),o=n.length;o--;)e[i=n[o]]&&(e[i]=!(t[i]=e[i]))})})}function p(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function s(){}function m(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function d(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=H++;return e.first?function(e,t,i){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,i)}:function(e,t,i){var n,o,r=[q,c];if(i){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,i))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((n=(o=e[F]||(e[F]={}))[s])&&n[0]===q&&n[1]===c)return r[2]=n[2];if((o[s]=r)[2]=a(e,t,i))return!0}}}function h(o){return 1<o.length?function(e,t,i){for(var n=o.length;n--;)if(!o[n](e,t,i))return!1;return!0}:o[0]}function y(e,t,i){for(var n=0,o=t.length;n<o;n++)_(e,t[n],i);return i}function w(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(!i||i(r,n,o))&&(a.push(r),c&&t.push(s));return a}function b(f,p,m,g,v,e){return g&&!g[F]&&(g=b(g)),v&&!v[F]&&(v=b(v,e)),l(function(e,t,i,n){var o,r,a,s=[],l=[],c=t.length,u=e||y(p||"*",i.nodeType?[i]:i,[]),d=!f||!e&&p?u:w(u,s,f,i,n),h=m?v||(e?f:c||g)?[]:t:d;if(m&&m(d,h,i,n),g)for(o=w(h,l),g(o,[],i,n),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(e){if(v||f){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);v(null,h=[],o,n)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?ee(e,a):s[r])&&(e[o]=!(t[o]=a))}}else h=w(h===t?h.splice(c,h.length):h),v?v(null,t,h,n):K.apply(t,h)})}function f(e){for(var o,t,i,n=e.length,r=k.relative[e[0].type],a=r||k.relative[" "],s=r?1:0,l=d(function(e){return e===o},a,!0),c=d(function(e){return-1<ee(o,e)},a,!0),u=[function(e,t,i){var n=!r&&(i||t!==E)||((o=t).nodeType?l(e,t,i):c(e,t,i));return o=null,n}];s<n;s++)if(t=k.relative[e[s].type])u=[d(h(u),t)];else{if((t=k.filter[e[s].type].apply(null,e[s].matches))[F]){for(i=++s;i<n&&!k.relative[e[i].type];i++);return b(1<s&&h(u),1<s&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),t,s<i&&f(e.slice(s,i)),i<n&&f(e=e.slice(i)),i<n&&m(e))}
u.push(t)}return h(u)}function u(g,v){var y=0<v.length,b=0<g.length,e=function(e,t,i,n,o){var r,a,s,l=0,c="0",u=e&&[],d=[],h=E,f=e||b&&k.find.TAG("*",o),p=q+=null==h?1:Math.random()||.1,m=f.length;for(o&&(E=t!==L&&t);c!==m&&null!=(r=f[c]);c++){if(b&&r){for(a=0;s=g[a++];)if(s(r,t,i)){n.push(r);break}o&&(q=p)}y&&((r=!s&&r)&&l--,e&&u.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,i);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=Y.call(n));d=w(d)}K.apply(n,d),o&&!e&&0<d.length&&1<l+v.length&&_.uniqueSort(n)}return o&&(q=p,E=h),u};return y?l(e):e}var g,v,k,C,x,T,S,$,E,A,D,R,L,M,z,j,N,P,I,F="sizzle"+1*new Date,O=i.document,q=0,H=0,U=e(),B=e(),W=e(),V=function(e,t){return e===t&&(D=!0),0},G=1<<31,Q={}.hasOwnProperty,X=[],Y=X.pop,J=X.push,K=X.push,Z=X.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ne.replace("w","w#"),re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ie+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(ae),fe=new RegExp("^"+oe+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ke=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ce=function(){R()};try{K.apply(X=Z.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(Ne){K={apply:X.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(g in v=_.support={},x=_.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=_.setDocument=function(e){var t,i,l=e?e.ownerDocument||e:O;return l!==L&&9===l.nodeType&&l.documentElement?(M=(L=l).documentElement,(i=l.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Ce,!1):i.attachEvent&&i.attachEvent("onunload",Ce)),z=!x(l),v.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=n(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=ve.test(l.getElementsByClassName),v.getById=n(function(e){return M.appendChild(e).id=F,!l.getElementsByName||!l.getElementsByName(F).length}),v.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&z){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var i=e.replace(we,ke);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}}),k.find.TAG=v.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},k.find.CLASS=v.getElementsByClassName&&function(e,t){return z?t.getElementsByClassName(e):void 0},N=[],j=[],(v.qsa=ve.test(l.querySelectorAll))&&(n(function(e){M.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||j.push(".#.+[+~]")}),n(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(v.matchesSelector=ve.test(P=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&n(function(e){v.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),N.push("!=",ae)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),t=ve.test(M.compareDocumentPosition),I=t||ve.test(M.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===i?e===l||e.ownerDocument===O&&I(O,e)?-1:t===l||t.ownerDocument===O&&I(O,t)?1:A?ee(A,e)-ee(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:A?ee(A,e)-ee(A,t):0;if(o===r)return c(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?c(a[n],s[n]):a[n]===O?-1:s[n]===O?1:0},l):L},_.matches=function(e,t){return _(e,null,null,t)},_.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&R(e),t=t.replace(de,"='$1']"),!(!v.matchesSelector||!z||N&&N.test(t)||j&&j.test(t)))try{var i=P.call(e,t);if(i||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(C){}return 0<_(t,L,null,[e]).length},_.contains=function(e,t){return(e.ownerDocument||e)!==L&&R(e),I(e,t)},_.attr=function(e,t){(e.ownerDocument||e)!==L&&R(e);var i=k.attrHandle[t.toLowerCase()],n=i&&Q.call(k.attrHandle,t.toLowerCase())?i(e,t,!z):void 0;return void 0!==n?n:v.attributes||!z?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},_.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},_.uniqueSort=function(e){var t,i=[],n=0,o=0;if(D=!v.detectDuplicates,A=!v.sortStable&&e.slice(0),e.sort(V),D){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return A=null,e},C=_.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},(k=_.selectors={cacheLength:50,createPseudo:l,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||_.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&_.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(e){var t=_.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===o:"!="===n?t!==o:"^="===n?o&&0===t.indexOf(o):"*="===n?o&&-1<t.indexOf(o):"$="===n?o&&t.slice(-o.length)===o:"~="===n?-1<(" "+t.replace(se," ")+" ").indexOf(o):"|="===n&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,e,t,p,m){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,o,r,a,s,l,c=g!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!i&&!y;if(u){if(g){for(;c;){for(r=e;r=r[c];)if(y?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(n=(o=u[F]||(u[F]={}))[f]||[])[0]===q&&n[1],a=n[0]===q&&n[2],r=s&&u.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===e){o[f]=[q,s,a];break}}else if(h&&(n=(e[F]||(e[F]={}))[f])&&n[0]===q)a=n[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++a||(h&&((r[F]||(r[F]={}))[f]=[q,a]),r!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,r){var t,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||_.error("unsupported pseudo: "+e);return a[F]?a(r):1<a.length?(t=[e,e,"",r],k.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var i,n=a(e,r),o=n.length;o--;)e[i=ee(e,n[o])]=!(t[i]=n[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var n=[],o=[],s=S(e.replace(le,"$1"));return s[F]?l(function(e,t,i,n){for(var o,r=s(e,null,n,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,i){return n[0]=e,s(n,null,i,o),n[0]=null,!o.pop()}}),has:l(function(t){return function(e){return 0<_(t,e).length}}),contains:l(function(t){return t=t.replace(we,ke),function(e){return-1<(e.textContent||e.innerText||C(e)).indexOf(t)}}),lang:l(function(i){return fe.test(i||"")||_.error("unsupported lang: "+i),i=i.replace(we,ke).toLowerCase(),function(e){var t;do{if(t=z?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===M},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[i<0?i+t:i]}),even:a(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:a(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[g]=o(g);for(g in{submit:!0,reset:!0})k.pseudos[g]=r(g);return s.prototype=k.filters=k.pseudos,k.setFilters=new s,T=_.tokenize=function(e,t){var i,n,o,r,a,s,l,c=B[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=k.preFilter;a;){for(r in(!i||(n=ce.exec(a)))&&(n&&(a=a.slice(n[0].length)||a),s.push(o=[])),i=!1,(n=ue.exec(a))&&(i=n.shift(),o.push({value:i,type:n[0].replace(le," ")}),a=a.slice(i.length)),k.filter)!(n=pe[r].exec(a))||l[r]&&!(n=l[r](n))||(i=n.shift(),o.push({value:i,type:r,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?_.error(e):B(e,s).slice(0)},S=_.compile=function(e,t){var i,n=[],o=[],r=W[e+" "];if(!r){for(t||(t=T(e)),i=t.length;i--;)(r=f(t[i]))[F]?n.push(r):o.push(r);(r=W(e,u(o,n))).selector=e}return r},$=_.select=function(e,t,i,n){var o,r,a,s,l,c="function"==typeof e&&e,u=!n&&T(e=c.selector||e);if(i=i||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&v.getById&&9===t.nodeType&&z&&k.relative[r[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(we,ke),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=pe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(n=l(a.matches[0].replace(we,ke),be.test(r[0].type)&&p(t.parentNode)||t))){if(r.splice(o,1),!(e=n.length&&m(r)))return K.apply(i,n),i;break}}return(c||S(e,u))(n,t,!z,i,be.test(e)&&p(t.parentNode)||t),i},v.sortStable=F.split("").sort(V).join("")===F,v.detectDuplicates=!!D,R(),v.sortDetached=n(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,i){var n;return i?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),_}(p);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var ue=oe.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?oe.find.matchesSelector(n,e)?[n]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<o;t++)if(oe.contains(n[t],this))return!0}));for(t=0;t<o;t++)oe.find(e,n[t],i);return(i=this.pushStack(1<o?oe.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&ue.test(e)?oe(e):e||[],!1).length}});var fe,pe=p.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(oe.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:me.exec(e))||!i[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),de.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((n=pe.getElementById(i[2]))&&n.parentNode){if(n.id!==i[2])return fe.find(e);this.length=1,this[0]=n}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?"undefined"!=typeof fe.ready?fe.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))}).prototype=oe.fn,fe=oe(pe);var ge=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,i){for(var n=[],o=e[t];o&&9!==o.nodeType&&(void 0===i||1!==o.nodeType||!oe(o).is(i));)1===o.nodeType&&n.push(o),o=o[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),oe.fn.extend({has:function(e){var t,i=oe(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(oe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=ue.test(e)||"string"!=typeof e?oe(e,t||this.context):0;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&oe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(1<r.length?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,i){return oe.dir(e,"parentNode",i)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,i){return oe.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return oe.dir(e,"previousSibling",i)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(n,o){oe.fn[n]=function(e,t){var i=oe.map(this,o,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=oe.filter(t,i)),1<this.length&&(ve[n]||(i=oe.unique(i)),ge.test(n)&&(i=i.reverse())),this.pushStack(i)}});var ye,be=/\S+/g,_e={};oe.Callbacks=function(o){o="string"==typeof o?_e[o]||e(o):oe.extend({},o);var r,t,i,a,n,s,l=[],c=!o.once&&[],u=function(e){for(t=o.memory&&e,i=!0,n=s||0,s=0,a=l.length,r=!0;l&&n<a;n++)if(!1===l[n].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}r=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var e=l.length;!function n(e){oe.each(e,function(e,t){var i=oe.type(t);"function"===i?o.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==i&&n(t)})}(arguments),r?a=l.length:t&&(s=e,u(t))}return this},remove:function(){return l&&oe.each(arguments,function(e,t){for(var i;-1<(i=oe.inArray(t,l,i));)l.splice(i,1),r&&(i<=a&&a--,i<=n&&n--)}),this},has:function(e){return e?-1<oe.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=[e,(t=t||[]).slice?t.slice():t],r?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},oe.extend({Deferred:function(e){var r=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return oe.Deferred(function(n){oe.each(r,function(e,t){var i=oe.isFunction(o[e])&&o[e];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===a?n.promise():this,i?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?oe.extend(e,a):a}},s={};return a.pipe=a.then,oe.each(r,function(e,t){var i=t[2],n=t[3];a[t[1]]=i.add,n&&i.add(function(){o=n},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=i.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var o,t,i,n=0,r=X.call(arguments),a=r.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),c=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?X.call(arguments):e,n===o?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(1<a)for(o=new Array(a),t=new Array(a),i=new Array(a);n<a;n++)r[n]&&oe.isFunction(r[n].promise)?r[n].promise().done(c(n,i,r)).fail(l.reject).progress(c(n,t,o)):--s;return s||l.resolveWith(i,r),l.promise()}}),oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(!0===e?!--oe.readyWait:!oe.isReady){if(!pe.body)return setTimeout(oe.ready);(oe.isReady=!0)!==e&&0<--oe.readyWait||(ye.resolveWith(pe,[oe]),oe.fn.triggerHandler&&(oe(pe).triggerHandler("ready"),oe(pe).off("ready")))}}}),oe.ready.promise=function(t){if(!ye)if(ye=oe.Deferred(),"complete"===pe.readyState)setTimeout(oe.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",o,!1),p.addEventListener("load",o,!1);else{pe.attachEvent("onreadystatechange",o),p.attachEvent("onload",o);var i=!1;try{i=null==p.frameElement&&pe.documentElement}catch(X){}i&&i.doScroll&&function e(){if(!oe.isReady){try{i.doScroll("left")}catch(p){return setTimeout(e,50)}n(),oe.ready()}}()}return ye.promise(t)};var we,ke="undefined";for(we in oe(ie))break;ie.ownLast="0"!==we,ie.inlineBlockNeedsLayout=!1,oe(function(){var e,t,i,n;(i=pe.getElementsByTagName("body")[0])&&i.style&&(t=pe.createElement("div"),(n=pe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==ke&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=pe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(t){ie.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando])&&!l(e)},data:function(e,t,i){return r(e,t,i)},removeData:function(e,t){return a(e,t)},_data:function(e,t,i){return r(e,t,i,!0)},_removeData:function(e,t){return a(e,t,!0)}}),oe.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(0===(n=a[i].name).indexOf("data-")&&s(r,n=oe.camelCase(n.slice(5)),o[n]));oe._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){oe.data(this,e)}):1<arguments.length?this.each(function(){oe.data(this,e,t)}):r?s(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=oe._data(e,t),i&&(!n||oe.isArray(i)?n=oe._data(e,t,oe.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),n=i.length,o=i.shift(),r=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return oe._data(e,i)||oe._data(e,i,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,i)})})}}),oe.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?oe.queue(this[0],t):void 0===i?this:this.each(function(){var e=oe.queue(this,t,i);oe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&oe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=oe.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=oe._data(r[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ee=oe.access=function(e,t,i,n,o,r,a){var s=0,l=e.length,c=null==i;if("object"===oe.type(i))for(s in o=!0,i)oe.access(e,t,s,i[s],!0,r,a);else if(void 0!==n&&(o=!0,oe.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(oe(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:c?t.call(e):l?t(e[0],i):r},Ae=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),i=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(X){ie.deleteExpando=!1}}}(),function(){var e,t,i=pe.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ie[e+"Bubbles"]=t in p)||(i.setAttribute(t,"t"),ie[e+"Bubbles"]=!1===i.attributes[t].expando);i=null}();var De=/^(?:input|select|textarea)$/i,Re=/^key/,Le=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,ze=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,c,u,d,h,f,p,m,g=oe._data(e);if(g){for(i.handler&&(i=(l=i).handler,o=l.selector),i.guid||(i.guid=oe.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||((u=g.handle=function(e){return typeof oe===ke||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(u.elem,arguments)}).elem=e),s=(t=(t||"").match(be)||[""]).length;s--;)f=m=(r=ze.exec(t[s])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=oe.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=oe.event.special[f]||{},d=oe.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=a[f])||((h=a[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,p,u)||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),oe.event.global[f]=!0);e=null}},remove:function(e,t,i,n,o){var r,a,s,l,c,u,d,h,f,p,m,g=oe.hasData(e)&&oe._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(be)||[""]).length;c--;)if(f=m=(s=ze.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=oe.event.special[f]||{},h=u[f=(n?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||oe.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)oe.event.remove(e,f+t[c],i,n,!0);oe.isEmptyObject(u)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(e,t,i,n){var o,r,a,s,l,c,u,d=[i||pe],h=te.call(e,"type")?e.type:e,f=te.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||pe,3!==i.nodeType&&8!==i.nodeType&&!Me.test(h+oe.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),r=h.indexOf(":")<0&&"on"+h,(e=e[oe.expando]?e:new oe.Event(h,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:oe.makeArray(t,[e]),l=oe.event.special[h]||{},n||!l.trigger||!1!==l.trigger.apply(i,t))){if(!n&&!l.noBubble&&!oe.isWindow(i)){for(s=l.delegateType||h,Me.test(s+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(i.ownerDocument||pe)&&d.push(c.defaultView||c.parentWindow||p)}for(u=0;(a=d[u++])&&!e.isPropagationStopped();)e.type=1<u?s:l.bindType||h,(o=(oe._data(a,"events")||{})[e.type]&&oe._data(a,"handle"))&&o.apply(a,t),(o=r&&a[r])&&o.apply&&oe.acceptData(a)&&(e.result=o.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=h,!n&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),t))&&oe.acceptData(i)&&r&&i[h]&&!oe.isWindow(i)){(c=i[r])&&(i[r]=null),oe.event.triggered=h;try{i[h]()}catch(m){}oe.event.triggered=void 0,c&&(i[r]=c)}return e.result}},dispatch:function(e){e=oe.event.fix(e);var t,i,n,o,r,a=[],s=X.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=oe.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,void 0!==(i=((oe.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],r=0;r<s;r++)void 0===o[i=(n=t[r]).selector+" "]&&(o[i]=n.needsContext?0<=oe(i,this).index(l):oe.find(i,this,null,[l]).length),o[i]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[oe.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Le.test(o)?this.mouseHooks:Re.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new oe.Event(r),t=n.length;t--;)e[i=n[t]]=r[i];return e.target||(e.target=r.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(n=e.target.ownerDocument||pe).documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(p){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},
_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=oe.extend(new oe.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?oe.event.trigger(o,null,t):oe.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},oe.removeEvent=pe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===ke&&(e[n]=null),e.detachEvent(n,i))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?u:d):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){oe.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=this,n=e.relatedTarget,o=e.handleObj;return(!n||n!==i&&!oe.contains(i,n))&&(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=r),t}}}),ie.submitBubbles||(oe.event.special.submit={setup:function(){return!oe.nodeName(this,"form")&&void oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;i&&!oe._data(i,"submitBubbles")&&(oe.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!oe.nodeName(this,"form")&&void oe.event.remove(this,"._submit")}}),ie.changeBubbles||(oe.event.special.change={setup:function(){return De.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1):void oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;De.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!De.test(this.nodeName)}}),ie.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(i,n){var o=function(e){oe.event.simulate(n,e.target,oe.event.fix(e),!0)};oe.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=oe._data(e,n);t||e.addEventListener(i,o,!0),oe._data(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=oe._data(e,n)-1;t?oe._data(e,n,t):(e.removeEventListener(i,o,!0),oe._removeData(e,n))}}}),oe.fn.extend({on:function(e,t,i,n,o){var r,a;if("object"==typeof e){for(r in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=d;else if(!n)return this;return 1===o&&(a=n,(n=function(e){return oe().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,oe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(!1===t||"function"==typeof t)&&(i=t,t=void 0),!1===i&&(i=d),this.each(function(){oe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?oe.event.trigger(e,t,i,!0):void 0}});var je="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ne=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+je+")[\\s/>]","i"),Ie=/^\s+/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,qe=/<tbody/i,He=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=g(pe).appendChild(pe.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,oe.extend({clone:function(e,t,i){var n,o,r,a,s,l=oe.contains(e.ownerDocument,e);if(ie.html5Clone||oe.isXMLDoc(e)||!Pe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Xe.innerHTML=e.outerHTML,Xe.removeChild(r=Xe.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(n=v(r),s=v(e),a=0;null!=(o=s[a]);++a)n[a]&&C(o,n[a]);if(t)if(i)for(s=s||v(e),n=n||v(r),a=0;null!=(o=s[a]);a++)k(o,n[a]);else k(e,r);return 0<(n=v(r,"script")).length&&w(n,!l&&v(e,"script")),n=s=o=null,r},buildFragment:function(e,t,i,n){for(var o,r,a,s,l,c,u,d=e.length,h=g(t),f=[],p=0;p<d;p++)if((r=e[p])||0===r)if("object"===oe.type(r))oe.merge(f,r.nodeType?[r]:r);else if(He.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(Oe.exec(r)||["",""])[1].toLowerCase(),u=Qe[l]||Qe._default,s.innerHTML=u[1]+r.replace(Fe,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!ie.leadingWhitespace&&Ie.test(r)&&f.push(t.createTextNode(Ie.exec(r)[0])),!ie.tbody)for(o=(r="table"!==l||qe.test(r)?"<table>"!==u[1]||qe.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)oe.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(oe.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(t.createTextNode(r));for(s&&h.removeChild(s),ie.appendChecked||oe.grep(v(f,"input"),y),p=0;r=f[p++];)if((!n||-1===oe.inArray(r,n))&&(a=oe.contains(r.ownerDocument,r),s=v(h.appendChild(r),"script"),a&&w(s),i))for(o=0;r=s[o++];)We.test(r.type||"")&&i.push(r);return s=null,h},cleanData:function(e,t){for(var i,n,o,r,a=0,s=oe.expando,l=oe.cache,c=ie.deleteExpando,u=oe.event.special;null!=(i=e[a]);a++)if((t||oe.acceptData(i))&&(r=(o=i[s])&&l[o])){if(r.events)for(n in r.events)u[n]?oe.event.remove(i,n):oe.removeEvent(i,n,r.handle);l[o]&&(delete l[o],c?delete i[s]:typeof i.removeAttribute!==ke?i.removeAttribute(s):i[s]=null,Q.push(o))}}}),oe.fn.extend({text:function(e){return Ee(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?oe.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||oe.cleanData(v(i)),i.parentNode&&(t&&oe.contains(i.ownerDocument,i)&&w(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ne,""):void 0;if(!("string"!=typeof e||Ue.test(e)||!ie.htmlSerialize&&Pe.test(e)||!ie.leadingWhitespace&&Ie.test(e)||Qe[(Oe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Fe,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(oe.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(Y){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=e;return this.domManip(arguments,function(e){t=this.parentNode,oe.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(i,n){i=Y.apply([],i);var e,t,o,r,a,s,l=0,c=this.length,u=this,d=c-1,h=i[0],f=oe.isFunction(h);if(f||1<c&&"string"==typeof h&&!ie.checkClone&&Be.test(h))return this.each(function(e){var t=u.eq(e);f&&(i[0]=h.call(this,e,t.html())),t.domManip(i,n)});if(c&&(e=(s=oe.buildFragment(i,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=e),e)){for(o=(r=oe.map(v(s,"script"),b)).length;l<c;l++)t=s,l!==d&&(t=oe.clone(t,!0,!0),o&&oe.merge(r,v(t,"script"))),n.call(this[l],t,l);if(o)for(a=r[r.length-1].ownerDocument,oe.map(r,_),l=0;l<o;l++)t=r[l],We.test(t.type||"")&&!oe._data(t,"globalEval")&&oe.contains(a,t)&&(t.src?oe._evalUrl&&oe._evalUrl(t.src):oe.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ge,"")));s=e=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){oe.fn[e]=function(e){for(var t,i=0,n=[],o=oe(e),r=o.length-1;i<=r;i++)t=i===r?this:this.clone(!0),oe(o[i])[a](t),J.apply(n,t.get());return this.pushStack(n)}});var Ye,Je,Ke={};ie.shrinkWrapBlocks=function(){return null!=Je?Je:(Je=!1,(t=pe.getElementsByTagName("body")[0])&&t.style?(e=pe.createElement("div"),(i=pe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),typeof e.style.zoom!==ke&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(pe.createElement("div")).style.width="5px",Je=3!==e.offsetWidth),t.removeChild(i),Je):void 0);var e,t,i};var Ze,et,tt=/^margin/,it=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),nt=/^(top|right|bottom|left)$/;p.getComputedStyle?(Ze=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):p.getComputedStyle(e,null)},et=function(e,t,i){var n,o,r,a,s=e.style;return a=(i=i||Ze(e))?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),it.test(a)&&tt.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):pe.documentElement.currentStyle&&(Ze=function(e){return e.currentStyle},et=function(e,t,i){var n,o,r,a,s=e.style;return null==(a=(i=i||Ze(e))?i[t]:void 0)&&s&&s[t]&&(a=s[t]),it.test(a)&&!nt.test(t)&&(n=s.left,(r=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function e(){var e,t,i,n;(t=pe.getElementsByTagName("body")[0])&&t.style&&(e=pe.createElement("div"),(i=pe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,s=!0,p.getComputedStyle&&(o="1%"!==(p.getComputedStyle(e,null)||{}).top,r="4px"===(p.getComputedStyle(e,null)||{width:"4px"}).width,(n=e.appendChild(pe.createElement("div"))).style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",e.style.width="1px",s=!parseFloat((p.getComputedStyle(n,null)||{}).marginRight),e.removeChild(n)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=e.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===n[0].offsetHeight)&&(n[0].style.display="",n[1].style.display="none",a=0===n[0].offsetHeight),t.removeChild(i))}var t,i,n,o,r,a,s;(t=pe.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(i=(n=t.getElementsByTagName("a")[0])&&n.style)&&(i.cssText="float:left;opacity:.5",ie.opacity="0.5"===i.opacity,ie.cssFloat=!!i.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===t.style.backgroundClip,ie.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,oe.extend(ie,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==r&&e(),r},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==s&&e(),s}}))}(),oe.swap=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=i.apply(e,n||[]),t)e.style[r]=a[r];return o};var ot=/alpha\([^)]*\)/i,rt=/opacity\s*=\s*([^)]*)/,at=/^(none|table(?!-c[ea]).+)/,st=new RegExp("^("+Te+")(.*)$","i"),lt=new RegExp("^([+-])=("+Te+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=et(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=oe.camelCase(t),l=e.style;if(t=oe.cssProps[s]||(oe.cssProps[s]=$(l,s)),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];if("string"===(r=typeof i)&&(o=lt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(e,t)),r="number"),null!=i&&i==i&&("number"!==r||oe.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(te){}}},css:function(e,t,i,n){var o,r,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=$(e.style,s)),(a=oe.cssHooks[t]||oe.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=et(e,t,n)),"normal"===r&&t in ut&&(r=ut[t]),""===i||i?(o=parseFloat(r),!0===i||oe.isNumeric(o)?o||0:r):r}}),oe.each(["height","width"],function(e,o){oe.cssHooks[o]={get:function(e,t,i){return t?at.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,ct,function(){return R(e,o,i)}):R(e,o,i):void 0},set:function(e,t,i){var n=i&&Ze(e);return A(e,t,i?D(e,o,i,ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,n),n):0)}}}),ie.opacity||(oe.cssHooks.opacity={get:function(e,t){return rt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";((i.zoom=1)<=t||""===t)&&""===oe.trim(r.replace(ot,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ot.test(r)?r.replace(ot,o):r+" "+o)}}),oe.cssHooks.marginRight=S(ie.reliableMarginRight,function(e,t){return t?oe.swap(e,{display:"inline-block"},et,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(o,r){oe.cssHooks[o+r]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[o+Se[t]+r]=n[t]||n[t-2]||n[0];return i}},tt.test(o)||(oe.cssHooks[o+r].set=A)}),oe.fn.extend({css:function(e,t){return Ee(this,function(e,t,i){var n,o,r={},a=0;if(oe.isArray(t)){for(n=Ze(e),o=t.length;a<o;a++)r[t[a]]=oe.css(e,t[a],!1,n);return r}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,1<arguments.length)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$e(this)?oe(this).show():oe(this).hide()})}}),(oe.Tween=L).prototype={constructor:L,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(oe.cssNumber[i]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,i=L.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=L.prototype.init,oe.fx.step={};var ht,ft,pt,mt,gt,vt,yt,bt=/^(?:toggle|show|hide)$/,_t=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),wt=/queueHooks$/,kt=[N],Ct={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=_t.exec(t),r=o&&o[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==r&&+n)&&_t.exec(oe.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==r)for(r=r||a[3],o=o||[],a=+n||1;a/=s=s||".5",oe.style(i.elem,e,a+r),s!==(s=i.cur()/n)&&1!==s&&--l;);return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};oe.Animation=oe.extend(I,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;n<o;n++)i=e[n],Ct[i]=Ct[i]||[],Ct[i].unshift(t)},prefilter:function(e,t){t?kt.unshift(e):kt.push(e)}}),oe.speed=function(e,t,i){var n=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return n.duration=oe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in oe.fx.speeds?oe.fx.speeds[n.duration]:oe.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){oe.isFunction(n.old)&&n.old.call(this),n.queue&&oe.dequeue(this,n.queue)},n},oe.fn.extend({fadeTo:function(e,t,i,n){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var o=oe.isEmptyObject(t),r=oe.speed(e,i,n),a=function(){var e=I(this,oe.extend({},t),r);(o||oe._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,e,r){var a=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",i=oe.timers,n=oe._data(this);if(t)n[t]&&n[t].stop&&a(n[t]);else for(t in n)n[t]&&n[t].stop&&wt.test(t)&&a(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=o&&i[t].queue!==o||(i[t].anim.stop(r),e=!1,i.splice(t,1));(e||!r)&&oe.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=oe._data(this),i=t[a+"queue"],n=t[a+"queueHooks"],o=oe.timers,r=i?i.length:0;for(t.finish=!0,oe.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),oe.each(["toggle","show","hide"],function(e,n){var o=oe.fn[n];oe.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(z(n,!0),e,t,i)}}),oe.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){oe.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,i=0;for(ht=oe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||oe.fx.stop(),ht=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ft||(ft=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ft),ft=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(n,e){return n=oe.fx&&oe.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,n);t.stop=function(){clearTimeout(i)}})},(mt=pe.createElement("div")).setAttribute("className","t"),mt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",vt=mt.getElementsByTagName("a")[0],yt=(gt=pe.createElement("select")).appendChild(pe.createElement("option")),pt=mt.getElementsByTagName("input")[0],vt.style.cssText="top:1px",ie.getSetAttribute="t"!==mt.className,ie.style=/top/.test(vt.getAttribute("style")),ie.hrefNormalized="/a"===vt.getAttribute("href"),ie.checkOn=!!pt.value,ie.optSelected=yt.selected,ie.enctype=!!pe.createElement("form").enctype,gt.disabled=!0,ie.optDisabled=!yt.disabled,(pt=pe.createElement("input")).setAttribute("value",""),ie.input=""===pt.getAttribute("value"),pt.value="t",pt.setAttribute("type","radio"),ie.radioValue="t"===pt.value;var xt=/\r/g;oe.fn.extend({val:function(i){var n,e,o,t=this[0];return arguments.length?(o=oe.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?i.call(this,e,oe(this).val()):i)?t="":"number"==typeof t?t+="":oe.isArray(t)&&(t=oe.map(t,function(e){return null==e?"":e+""})),(n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=oe.valHooks[t.type]||oe.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,a=r?null:[],s=r?o+1:n.length,l=o<0?s:r?o:0;l<s;l++)if(!(!(i=n[l]).selected&&l!==o||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=oe.makeArray(t),a=o.length;a--;)if(n=o[a],0<=oe.inArray(oe.valHooks.option.get(n),r))try{n.selected=i=!0}catch(Z){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=0<=oe.inArray(oe(e).val(),t):void 0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt,St,$t=oe.expr.attrHandle,Et=/^(?:checked|selected)$/i,At=ie.getSetAttribute,Dt=ie.input;oe.fn.extend({attr:function(e,t){return Ee(this,oe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===ke?oe.prop(e,t,i):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),n=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?St:Tt)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:null==(o=oe.find.attr(e,t))?void 0:o:null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void oe.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(be);if(r&&1===e.nodeType)for(;i=r[o++];)n=oe.propFix[i]||i,oe.expr.match.bool.test(i)?Dt&&At||!Et.test(i)?e[n]=!1:e[oe.camelCase("default-"+i)]=e[n]=!1:oe.attr(e,i,""),e.removeAttribute(At?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),St={set:function(e,t,i){return!1===t?oe.removeAttr(e,i):Dt&&At||!Et.test(i)?e.setAttribute(!At&&oe.propFix[i]||i,i):e[oe.camelCase("default-"+i)]=e[i]=!0,i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var r=$t[t]||oe.find.attr;$t[t]=Dt&&At||!Et.test(t)?function(e,t,i){var n,o;return i||(o=$t[t],$t[t]=n,n=null!=r(e,t,i)?t.toLowerCase():null,$t[t]=o),n}:function(e,t,i){return i?void 0:e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),Dt&&At||(oe.attrHooks.value={set:function(e,t,i){return oe.nodeName(e,"input")?void(e.defaultValue=t):Tt&&Tt.set(e,t,i)}}),At||(Tt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},$t.id=$t.name=$t.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},oe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:Tt.set},oe.attrHooks.contenteditable={set:function(e,t,i){Tt.set(e,""!==t&&t,i)}},oe.each(["width","height"],function(e,i){oe.attrHooks[i]={set:function(e,t){return""===t?(e.setAttribute(i,"auto"),t):void 0}}})),ie.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Rt=/^(?:input|select|textarea|button|object)$/i,Lt=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ee(this,oe.prop,e,t,1<arguments.length)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!oe.isXMLDoc(e))&&(t=oe.propFix[t]||t,o=oe.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):Rt.test(e.nodeName)||Lt.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ie.enctype||(oe.propFix.enctype="encoding");var Mt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(t){var e,i,n,o,r,a,s=0,l=this.length,c="string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(be)||[];s<l;s++)if(n=1===(i=this[s]).nodeType&&(i.className?(" "+i.className+" ").replace(Mt," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=oe.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(be)||[];s<l;s++)if(n=1===(i=this[s]).nodeType&&(i.className?(" "+i.className+" ").replace(Mt," "):"")){for(r=0;o=e[r++];)for(;0<=n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");a=t?oe.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"===r?t?this.addClass(o):this.removeClass(o):this.each(oe.isFunction(o)?function(e){oe(this).toggleClass(o.call(this,e,this.className,t),t)}:function(){if("string"===r)for(var e,t=0,i=oe(this),n=o.match(be)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(r===ke||"boolean"===r)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||!1===o?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(Mt," ").indexOf(t))return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){oe.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var zt=oe.now(),jt=/\?/,Nt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(e){if(p.JSON&&p.JSON.parse)return p.JSON.parse(e+"");var o,r=null,t=oe.trim(e+"");return t&&!oe.trim(t.replace(Nt,function(e,t,i,n){return o&&t&&(r=0),0===r?e:(o=i||t,r+=!n-!i,"")}))?Function("return "+t)():oe.error("Invalid JSON: "+e)},oe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{p.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(Y){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+e),t};var Pt,It,Ft=/#.*$/,Ot=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Bt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Gt={},Qt="*/".concat("*");try{It=location.href}catch(ci){(It=pe.createElement("a")).href="",It=It.href}Pt=Wt.exec(It.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It,type:"GET",isLocal:Ht.test(Pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,oe.ajaxSettings),t):q(oe.ajaxSettings,e)},ajaxPrefilter:F(Vt),ajaxTransport:F(Gt),ajax:function(e,t){function i(e,t,i,n){var o,r,a,s,l,c=t;2!==w&&(w=2,h&&clearTimeout(h),p=void 0,d=n||"",k.readyState=0<e?4:0,o=200<=e&&e<300||304===e,i&&(s=H(m,k,i)),s=U(m,s,k,o),o?(m.ifModified&&((l=k.getResponseHeader("Last-Modified"))&&(oe.lastModified[u]=l),(l=k.getResponseHeader("etag"))&&(oe.etag[u]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,(e||!c)&&(c="error",e<0&&(e=0))),k.status=e,k.statusText=(t||c)+"",o?y.resolveWith(g,[r,c,k]):y.rejectWith(g,[k,c,a]),k.statusCode(_),_=void 0,
f&&v.trigger(o?"ajaxSuccess":"ajaxError",[k,m,o?r:a]),b.fireWith(g,[k,c]),f&&(v.trigger("ajaxComplete",[k,m]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,u,d,h,f,p,r,m=oe.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?oe(g):oe.event,y=oe.Deferred(),b=oe.Callbacks("once memory"),_=m.statusCode||{},a={},s={},w=0,l="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!r)for(r={};t=qt.exec(d);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?d:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=s[i]=s[i]||e,a[e]=t),this},overrideMimeType:function(e){return w||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)_[t]=[_[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||l;return p&&p.abort(t),i(0,t),this}};if(y.promise(k).complete=b.add,k.success=k.done,k.error=k.fail,m.url=((e||m.url||It)+"").replace(Ft,"").replace(Bt,Pt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=oe.trim(m.dataType||"*").toLowerCase().match(be)||[""],null==m.crossDomain&&(n=Wt.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Pt[1]&&n[2]===Pt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Pt[3]||("http:"===Pt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=oe.param(m.data,m.traditional)),O(Vt,m,t,k),2===w)return k;for(o in(f=oe.event&&m.global)&&0==oe.active++&&oe.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ut.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(jt.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Ot.test(u)?u.replace(Ot,"$1_="+zt++):u+(jt.test(u)?"&":"?")+"_="+zt++)),m.ifModified&&(oe.lastModified[u]&&k.setRequestHeader("If-Modified-Since",oe.lastModified[u]),oe.etag[u]&&k.setRequestHeader("If-None-Match",oe.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&k.setRequestHeader("Content-Type",m.contentType),k.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Qt+"; q=0.01":""):m.accepts["*"]),m.headers)k.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,k,m)||2===w))return k.abort();for(o in l="abort",{success:1,error:1,complete:1})k[o](m[o]);if(p=O(Gt,m,t,k)){k.readyState=1,f&&v.trigger("ajaxSend",[k,m]),m.async&&0<m.timeout&&(h=setTimeout(function(){k.abort("timeout")},m.timeout));try{w=1,p.send(a,i)}catch(c){if(!(w<2))throw c;i(-1,c)}}else i(-1,"No Transport");return k},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,o){oe[o]=function(e,t,i,n){return oe.isFunction(t)&&(n=n||i,i=t,t=void 0),oe.ajax({url:e,type:o,dataType:n,data:t,success:i})}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(t){if(oe.isFunction(t))return this.each(function(e){oe(this).wrapAll(t.call(this,e))});if(this[0]){var e=oe(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return this.each(oe.isFunction(i)?function(e){oe(this).wrapInner(i.call(this,e))}:function(){var e=oe(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=oe.isFunction(t);return this.each(function(e){oe(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Xt=/%20/g,Yt=/\[\]$/,Jt=/\r?\n/g,Kt=/^(?:submit|button|image|reset|file)$/i,Zt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,n=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(i in e)B(i,e[i],t,o);return n.join("&").replace(Xt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Zt.test(this.nodeName)&&!Kt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:i.replace(Jt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==p.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||V()}:W;var ei=0,ti={},ii=oe.ajaxSettings.xhr();p.attachEvent&&p.attachEvent("onunload",function(){for(var e in ti)ti[e](void 0,!0)}),ie.cors=!!ii&&"withCredentials"in ii,(ii=ie.ajax=!!ii)&&oe.ajaxTransport(function(l){var c;if(!l.crossDomain||ie.cors)return{send:function(e,r){var t,a=l.xhr(),s=++ei;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)a[t]=l.xhrFields[t];for(t in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.send(l.hasContent&&l.data||null),c=function(e,t){var i,n,o;if(c&&(t||4===a.readyState))if(delete ti[s],c=void 0,a.onreadystatechange=oe.noop,t)4!==a.readyState&&a.abort();else{o={},i=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{n=a.statusText}catch(ie){n=""}i||!l.isLocal||l.crossDomain?1223===i&&(i=204):i=o.text?200:404}o&&r(i,n,o,a.getAllResponseHeaders())},l.async?4===a.readyState?setTimeout(c):a.onreadystatechange=ti[s]=c:c()},abort:function(){c&&c(void 0,!0)}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(t){if(t.crossDomain){var n,o=pe.head||oe("head")[0]||pe.documentElement;return{send:function(e,i){(n=pe.createElement("script")).async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},o.insertBefore(n,o.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}}});var ni=[],oi=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||oe.expando+"_"+zt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,r,a=!1!==e.jsonp&&(oi.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&oi.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(n=e.jsonpCallback=oe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(oi,"$1"+n):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return r||oe.error(n+" was not called"),r[0]},e.dataTypes[0]="json",o=p[n],p[n]=function(){r=arguments},i.always(function(){p[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,ni.push(n)),r&&oe.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||pe;var n=de.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=oe.buildFragment([e],t,o),o&&o.length&&oe(o).remove(),oe.merge([],n.childNodes))};var ri=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&ri)return ri.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return 0<=s&&(n=oe.trim(e.slice(s,e.length)),e=e.slice(0,s)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?oe("<div>").append(oe.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(t){return oe.grep(oe.timers,function(e){return t===e.elem}).length};var ai=p.document.documentElement;oe.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,c=oe.css(e,"position"),u=oe(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),r=oe.css(e,"top"),l=oe.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<oe.inArray("auto",[r,l])?(a=(n=u.position()).top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},oe.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){oe.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(e=r.documentElement,oe.contains(e,o)?(typeof o.getBoundingClientRect!==ke&&(n=o.getBoundingClientRect()),i=G(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ai;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||ai})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r=/Y/.test(o);oe.fn[t]=function(e){return Ee(this,function(e,t,i){var n=G(e);return void 0===i?n?o in n?n[o]:n.document.documentElement[t]:e[t]:void(n?n.scrollTo(r?oe(n).scrollLeft():i,r?i:oe(n).scrollTop()):e[t]=i)},t,e,arguments.length,null)}}),oe.each(["top","left"],function(e,i){oe.cssHooks[i]=S(ie.pixelPosition,function(e,t){return t?(t=et(e,i),it.test(t)?oe(e).position()[i]+"px":t):void 0})}),oe.each({Height:"height",Width:"width"},function(r,a){oe.each({padding:"inner"+r,content:a,"":"outer"+r},function(n,e){oe.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return Ee(this,function(e,t,i){var n;return oe.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+r],n["scroll"+r],e.body["offset"+r],n["offset"+r],n["client"+r])):void 0===i?oe.css(e,t,o):oe.style(e,t,i,o)},a,i?e:void 0,i,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var si=p.jQuery,li=p.$;return oe.noConflict=function(e){return p.$===oe&&(p.$=li),e&&p.jQuery===oe&&(p.jQuery=si),oe},typeof t===ke&&(p.jQuery=p.$=oe),oe}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(c,i,u){function d(e){var t=i.console;n[e]||(n[e]=!0,c.migrateWarnings.push(e),t&&t.warn&&!c.migrateMute&&(t.warn("JQMIGRATE: "+e),c.migrateTrace&&t.trace&&t.trace()))}function e(e,t,i,n){if(Object.defineProperty)try{return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return d(n),i},set:function(e){d(n),i=e}}),u}catch(s){}c._definePropertyBroken=!0,e[t]=i}var n={};c.migrateWarnings=[],!c.migrateMute&&i.console&&i.console.log&&i.console.log("JQMIGRATE: Logging is active"),c.migrateTrace===u&&(c.migrateTrace=!0),c.migrateReset=function(){n={},c.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var a=c("<input/>",{size:1}).attr("size")&&c.attrFn,s=c.attr,o=c.attrHooks.value&&c.attrHooks.value.get||function(){return null},r=c.attrHooks.value&&c.attrHooks.value.set||function(){return u},l=/^(?:input|button)$/i,h=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;e(c,"attrFn",a||{},"jQuery.attrFn is deprecated"),c.attr=function(e,t,i,n){var o=t.toLowerCase(),r=e&&e.nodeType;return n&&(s.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),e&&!h.test(r)&&(a?t in a:c.isFunction(c.fn[t])))?c(e)[t](i):("type"===t&&i!==u&&l.test(e.nodeName)&&e.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!c.attrHooks[o]&&f.test(o)&&(c.attrHooks[o]={get:function(e,t){var i,n=c.prop(e,t);return!0===n||"boolean"!=typeof n&&(i=e.getAttributeNode(t))&&!1!==i.nodeValue?t.toLowerCase():u},set:function(e,t,i){var n;return!1===t?c.removeAttr(e,i):((n=c.propFix[i]||i)in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},p.test(o)&&d("jQuery.fn.attr('"+o+"') may use property instead of attribute")),s.call(c,e,t,i))},c.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?o.apply(this,arguments):("input"!==i&&"option"!==i&&d("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?r.apply(this,arguments):("input"!==i&&"option"!==i&&d("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,u)}};var t,m,g=c.fn.init,v=c.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;c.fn.init=function(e,t,i){var n;return e&&"string"==typeof e&&!c.isPlainObject(t)&&(n=y.exec(c.trim(e)))&&n[0]&&("<"!==e.charAt(0)&&d("$(html) HTML strings must start with '<' character"),n[3]&&d("$(html) HTML text after last tag is ignored"),"#"===n[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),c.error("JQMIGRATE: Invalid selector string (XSS)")),t&&t.context&&(t=t.context),c.parseHTML)?g.call(this,c.parseHTML(n[2],t,!0),t,i):g.apply(this,arguments)},c.fn.init.prototype=c.fn,c.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},c.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},c.browser||(m={},(t=c.uaMatch(navigator.userAgent)).browser&&(m[t.browser]=!0,m.version=t.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),c.browser=m),e(c,"browser",c.browser,"jQuery.browser is deprecated"),c.sub=function(){function i(e,t){return new i.fn.init(e,t)}c.extend(!0,i,this),i.superclass=this,i.fn=i.prototype=this(),(i.fn.constructor=i).sub=this.sub,i.fn.init=function(e,t){return t&&t instanceof c&&!(t instanceof i)&&(t=i(t)),c.fn.init.call(this,e,t,n)},i.fn.init.prototype=i.fn;var n=i(document);return d("jQuery.sub() is deprecated"),i},c.ajaxSetup({converters:{"text json":c.parseJSON}});var b=c.fn.data;c.fn.data=function(e){var t,i,n=this[0];return!n||"events"!==e||1!==arguments.length||(t=c.data(n,e),i=c._data(n,e),t!==u&&t!==i||i===u)?b.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),i)};var _=/\/(java|ecma)script/i,w=c.fn.andSelf||c.fn.addBack;c.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},c.clean||(c.clean=function(e,t,i,n){t=(t=!(t=t||document).nodeType&&t[0]||t).ownerDocument||t,d("jQuery.clean() is deprecated");var o,r,a,s,l=[];if(c.merge(l,c.buildFragment(e,t).childNodes),i)for(a=function(e){return!e.type||_.test(e.type)?n?n.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):u},o=0;null!=(r=l[o]);o++)c.nodeName(r,"script")&&a(r)||(i.appendChild(r),r.getElementsByTagName!==u&&(s=c.grep(c.merge([],r.getElementsByTagName("script")),a),l.splice.apply(l,[o+1,0].concat(s)),o+=s.length));return l});var k=c.event.add,C=c.event.remove,x=c.event.trigger,T=c.fn.toggle,S=c.fn.live,$=c.fn.die,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+E+")\\b"),D=/(?:^|\s)hover(\.\S+|)\b/,R=function(e){return"string"!=typeof e||c.event.special.hover?e:(D.test(e)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(D,"mouseenter$1 mouseleave$1"))};c.event.props&&"attrChange"!==c.event.props[0]&&c.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),c.event.dispatch&&e(c.event,"handle",c.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),c.event.add=function(e,t,i,n,o){e!==document&&A.test(t)&&d("AJAX events should be attached to document: "+t),k.call(this,e,R(t||""),i,n,o)},c.event.remove=function(e,t,i,n,o){C.call(this,e,R(t)||"",i,n,o)},c.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return d("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},c.fn.toggle=function(i,e){if(!c.isFunction(i)||!c.isFunction(e))return T.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,t=i.guid||c.guid++,o=0,r=function(e){var t=(c._data(this,"lastToggle"+i.guid)||0)%o;return c._data(this,"lastToggle"+i.guid,t+1),e.preventDefault(),n[t].apply(this,arguments)||!1};for(r.guid=t;n.length>o;)n[o++].guid=t;return this.click(r)},c.fn.live=function(e,t,i){return d("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(c(this.context).on(e,this.selector,t,i),this)},c.fn.die=function(e,t){return d("jQuery.fn.die() is deprecated"),$?$.apply(this,arguments):(c(this.context).off(e,this.selector||"**",t),this)},c.event.trigger=function(e,t,i,n){return i||A.test(e)||d("Global events are undocumented and deprecated"),x.call(this,e,t,i||document,n)},c.each(E.split("|"),function(e,t){c.event.special[t]={setup:function(){var e=this;return e!==document&&(c.event.add(document,t+"."+c.guid,function(){c.event.trigger(t,null,e,!0)}),c._data(this,t,c.guid++)),!1},teardown:function(){return this!==document&&c.event.remove(document,t+"."+c._data(this,t)),!1}}})}(jQuery,window),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function s(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function c(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(l){function a(){}function i(e,t,i){if("undefined"!=typeof document){"number"==typeof(i=s({path:"/"},a.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var n=JSON.stringify(t);/^[\{\[]/.test(n)&&(t=n)}catch(s){}t=l.write?l.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var r in i)i[r]&&(o+="; "+r,!0!==i[r]&&(o+="="+i[r].split(";")[0]));return document.cookie=e+"="+t+o}}function t(e,t){if("undefined"!=typeof document){for(var i={},n=document.cookie?document.cookie.split("; "):[],o=0;o<n.length;o++){var r=n[o].split("="),a=r.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=c(r[0]);if(a=(l.read||l)(a,s)||c(a),t)try{a=JSON.parse(a)}catch(e){}if(i[s]=a,e===s)break}catch(e){}}return e?i[e]:i}}return a.set=i,a.get=function(e){return t(e,!1)},a.getJSON=function(e){return t(e,!0)},a.remove=function(e,t){i(e,"",s(t,{expires:-1}))},a.defaults={},a.withConverter=e,a}(function(){})});var gallerySlider=function(){function i(e){t(e),I.lazyLoadNext&&t(e+1),I.lazyLoadPrevious&&t(e-1)}function e(){$("#gallery_items").addClass("flickity-enabled"),$("#gallery_items").removeClass("flickity-disabled")}function t(e){e<0&&(e=x()+e);var t=d(e);if(t!=undefined)l(t);else{var i=h(e);i!=undefined&&c(i)}}function n(){var e=p();if(e!=undefined)l(e);else{var t=m();t!=undefined&&c(t)}}function o(e){var t=H.get(e.data("vid")),i=U.get(e.data("vid"));t&&(t.playVideo(),i&&(i.hide(),e.show()))}function r(e){var t=H.get(e.data("vid")),i=U.get(e.data("vid"));t&&t.pauseVideo(),i&&(i.show(),e.hide())}function s(e){var t=e.data("vid");if(player=H.get(t))return o($(player.getIframe()));I.preloadVideos&&e.hide(),a(e[0],t)}function a(e,i){"undefined"!=typeof YT&&"undefined"!=typeof YT.Player&&(player=new YT.Player(e,{videoId:i,playerVars:{origin:"//khamsat.com",autoplay:0,showinfo:0,rel:0,enablejsapi:1},events:{onReady:function(e){H.set(i,e.target);var t=e.target.getIframe();$(t).removeClass("keep-aspect-ratio"),I.preloadVideos||o($(t))}}}))}function l(e){var t=e.data("vid"),i=e.data("vthumbnail");if(U.get(t)==undefined){var n=$("<div>").attr({id:"video_overlay_"+t,"class":"video_overlay"}),o=$("<button/>").attr({type:"button","class":"video_play_button"}).hide(),r=$('<svg height="100%" version="1.1" viewBox="0 0 68 48" width="100%"><path class="youtube-play-button" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z" fill="#212121" fill-opacity="0.8"></path><path d="M 45,24 27,14 27,34" fill="#fff"></path></svg>');o.click(function(){n.hide(),s(e)});var a=r.find("path.youtube-play-button");n.hover(function(){a.attr({fill:"#f00","fill-opacity":1})},function(){a.attr({fill:"#212121","fill-opacity":.8})}),$("<img>").attr({"class":"keep-aspect-ratio",src:i}).load(function(){o.show(),g()}).prependTo(n),o.prependTo(n),r.prependTo(o),n.prependTo(e.parent()),U.set(t,n),I.preloadVideos&&s(e)}}function c(e){e.attr({src:e.attr("src")}).load(function(){g()})}function u(e){return S(e,"iframe")}function d(e){return S(e,"div.video-placeholder")}function h(e){return S(e,"img")}function f(){return E("iframe")}function p(){return E("div.video-placeholder")}function m(){return E("img")}function g(){F.resize()}function v(){x()<2?(b(),w()):(y(),_())}function y(){$(".flickity-prev-next-button").show()}function b(){$(".flickity-prev-next-button").hide()}function _(){I.pageDots&&$(".flickity-page-dots").show()}function w(){I.pageDots&&$(".flickity-page-dots").hide()}function k(e,t){var i="youtube";return t==undefined&&((iframe=u(e))?t=iframe:(placeholder=d(e))?t=placeholder:(image=h(e))&&(t=image,i="images")),t==undefined?undefined:{type:i,video_id:t.attr("data-vid"),img_src:t.attr("src"),file:t.attr("attr-file"),gallery_file_id:t.attr("data-item_id")||t.attr("original_file")}}function C(){return(iframe=f())?k(undefined,iframe):(placeholder=p())?k(undefined,placeholder):(image=m())?k(undefined,image):void 0}function x(){return F.cells.length}function T(){return F.selectedIndex}function S(e,t){var i=$(".flickity-slider div.gitem#gf-"+e).find(t).first();return 0<i.length?i:undefined}function E(e){var t=D().find(e).first();return 0<t.length?t:undefined}function A(e){var t=$(".flickity-slider div.gitem#gf-"+e).first();return 0<t.length?t:undefined}function D(){return $(F.selectedElement)}function R(e){F.remove(A(e)),v()}function L(){F.remove(F.selectedElement),v()}function M(e,t){remove(e),F.insert(t,e),F.select(e),v(),i(e)}function z(e){var t=F.selectedIndex;L(),F.insert(e,t),F.select(t),v(),n()}function j(e){F.append(e),F.select(x()-1),v(),g(),n()}function N(){return F!=undefined}function P(e){q=e}var I={slider_elem:"#gallery_items",wrapAround:!0,fullscreen:!0,cellSelector:undefined,rightToLeft:!0,pageDots:!1,setGallerySize:!0,lazyLoadNext:!1,lazyLoadPrevious:!1,preloadVideos:!0},F=undefined,O=undefined,q=undefined,H=new Map,U=new Map;return{init:function(){F=new Flickity(I.slider_elem,{wrapAround:I.wrapAround,fullscreen:I.fullscreen,cellSelector:I.cellSelector,rightToLeft:I.rightToLeft,pageDots:I.pageDots,setGallerySize:I.setGallerySize,on:{ready:function(){e()},change:function(){O&&r(O),O=undefined},settle:function(e){i(e),n()},staticClick:function(e,t,i,n){(iframe=u(n)||f())&&(o(iframe),O=iframe)}}}),v(),i(0),n(),q&&q()},ready:N,onready:P,slides_count:x,current_slide_index:T,get_slide_attributes:k,current_slide_attributes:C,current_slide:D,remove_slide:R,remove_current_slide:L,replace_slide:M,replace_current_slide:z,append_slide:j}}();onYouTubeIframeAPIReady=function(){$(document).ready(function(){gallerySlider.init()})},$(document).ready(function(){if(0<$("#gallery_items").length){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}),jQuery.fn.show_dialog=function(e){void 0===e&&(e="small");var t=$(this).html();if($(this).html(""),$(".dialog").each(function(){$(this).close_dialog()}),$(this).hasClass("no_close")){var i=$('<div id="shadow_box_white"></div>');i.css("display","inline"),i.appendTo("body")}var n="dialog_wrapper--"+e,o=$('<div id="'+$(this).attr("id")+'" class="dialog"><div class="dialog_wrapper '+n+'">'+t+"</div></div>");return o.appendTo("body"),o.css("position","fixed"),o.css("top","10%"),o.css("left",($(window).outerWidth()-o.outerWidth())/2+"px"),o.css("min-width",o.width()+1+"px"),o.css("max-width",o.width()+2+"px"),o},jQuery.fn.close_dialog=function(){$(this).css("display","none"),clear_dialog();var e=$(this).attr("id").replace(/^khamsat_/,"");$("#"+e).html($(this).find(".dialog_wrapper").html()),$(this).remove()};var galleryFilesControl=function(){function t(){gallerySlider.flickity==undefined&&gallerySlider.init()}function n(){$("input[name='add_gitem']").live("change",function(){var e=$("input[name='add_gitem']:checked").val();$(".add_gitem_input").addClass("hidden"),$("#add_gitem_"+e).removeClass("hidden"),$("#service_gallery_form_wrapper .dialog_message").addClass("hidden"),$("#service_gallery_form_wrapper .dialog_message").removeClass("red"),$("#service_gallery_form_wrapper .dialog_message").text("")}),$(".gitem_add_btn").on("click",function(e){e.preventDefault(),e.stopPropagation(),o(!1)}),$(".gitem_edit_btn").on("click",function(e){e.preventDefault(),e.stopPropagation(),o(!0)})}function o(e){t(),r(e),a(e),u()}function r(o){c(),items_count=gallerySlider.slides_count();var e={method:"post",url:"/ajax/service/upload_gallery_file.json",maxFilesize:5,acceptedFiles:".jpeg, .jpg, .png, .gif",createImageThumbnails:!0,uploadMultiple:!0,paramName:"images",parallelUploads:10,clickable:".service_image_u_btn",previewsContainer:".selected-images",thumbnailWidth:120,thumbnailHeight:70,dictInvalidFileType:"\u0639\u0630\u0631\u0627\u064b\u060c \u064a\u0633\u0645\u062d \u0628\u0627\u0644\u0635\u064a\u063a \u0627\u0644\u062a\u0627\u0644\u064a\u0629 \u0641\u0642\u0637 jpeg, jpg, png, gif",init:function(){this.on("addedfiles",function(){var e=this.files.length+items_count;if(10==e&&$("a.service_image_u_btn").addClass("hidden"),10<e&&!o){var t=10-items_count,i="\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u0631\u0641\u0639 "+items_count+" \u0645\u0644\u0641\u0627\u062a (\u0627\u0644\u062d\u062f \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647 \u0644\u0643\u0644 \u062e\u062f\u0645\u0629 10 \u0645\u0644\u0641\u0627\u062a). ";0<t&&(i=i+"\u0628\u0625\u0645\u0643\u0627\u0646\u0643 \u0627\u062e\u062a\u064a\u0627\u0631 "+t+" \u0645\u0644\u0641 \u0641\u0642\u0637"),h(i),this.removeAllFiles(!0)}0<this.files.length&&$("a.upload_seleted_images_btn").removeClass("hidden"),$("a.upload_seleted_images_btn").hasClass("hidden")?$("a.service_image_u_btn").removeClass("c-button--ghost"):$("a.service_image_u_btn").addClass("c-button--ghost")}),this.on("maxfilesreached",function(){$("a.service_image_u_btn").addClass("hidden")}),this.on("removedfile",function(){var e=this.files.length+items_count;0<this.files.length?$("a.upload_seleted_images_btn").removeClass("hidden"):$("a.upload_seleted_images_btn").addClass("hidden"),e<10&&$("a.service_image_u_btn").removeClass("hidden"),$("a.upload_seleted_images_btn").hasClass("hidden")?$("a.service_image_u_btn").removeClass("c-button--ghost"):$("a.service_image_u_btn").addClass("c-button--ghost")}),this.on("thumbnail",function(e){(e.width<800||e.height<470)&&(this.removeFile(e),h("\u0627\u0628\u0639\u0627\u062f \u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0642\u0644 \u0645\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u060c \u0646\u0631\u062c\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 \u0622\u062e\u0631\u0649 \u0627\u0648\u0636\u062d.")),e.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(e.size).replace("strong","span"),$(window).width()<=543&&(e.previewElement.querySelector("[data-dz-name]").innerHTML=text_truncate(e.name,25))}),this.on("error",function(e,t,i){i&&500==i.status?h("\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):h(t.error||t),this.removeFile(e),$("a.upload_seleted_images_btn").find("i").removeClass("fa-check fa-spinner fa-spin").addClass("fa-upload")}),this.on("successmultiple",function(e,t){for(var i=0;i<t.length;i++){var n=JSON.parse(t[i]);add_to_gallery(n.download_url,n.file,o)}$("a.upload_seleted_images_btn").find("i").removeClass("fa-check fa-spinner fa-spin").addClass("fa-upload"),$("a.upload_seleted_images_btn").addClass("hidden"),$("a.service_image_u_btn").removeClass("hidden"),$(".uploaded-image").remove(),this.removeAllFiles(!0),close_dialog()}),this.on("sendingmultiple",function(e,t,i){t.ontimeout=function(){h("\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"),$("a.upload_seleted_images_btn").find("i").removeClass("fa-check fa-spinner fa-spin").addClass("fa-upload")},i.append("token",w),i.append("items_count",items_count),i.append("edit_mode",o),$("a.upload_seleted_images_btn").find("i").removeClass("fa-upload fa-spinner fa-spin").addClass("fa-spinner fa-spin")})}};e=o?Object.assign({maxFiles:1,autoProcessQueue:!0,previewTemplate:'<div style="display:none"></div>'},e):Object.assign({maxFiles:10,autoProcessQueue:!1,previewTemplate:$("#service_gallery_temaplate").html()},e),$("#service_gallery_dialog").show_dialog("large");var t=$("input[name='add_gitem']:checked").val();$(".add_gitem_input").addClass("hidden"),$("#add_gitem_"+t).removeClass("hidden"),$("#service_gallery_form_wrapper .user_input").val("");var i=AttachmentUploader.init("#gitem_image_upload",e);$("a.upload_seleted_images_btn").on("click",function(){i.processQueue()})}function a(l){$(".remote_image_btn").on("click",function(e){e.preventDefault(),f();var t,i=gallerySlider.slides_count(),n=$("#service_id").val(),o=$("input[name='add_gitem']:checked").val(),r=!1,a=!1,s=!1;if("image_url"==o){if(""==(s=$("#image_url").val()))return h("\u0644\u0645 \u062a\u062f\u062e\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0639\u062f."),void $("#image_url").focus()}else if("youtube"==o&&""==(s=$("#youtube_url").val()))return h("\u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u062f\u062e\u0627\u0644 \u0631\u0627\u0628\u0637 \u0628\u0639\u062f."),void $("#youtube_url").focus();$.ajax({type:"POST",url:"/ajax/service/remote_image.json",async:!1,cache:!1,dataType:"json",data:{remote_url:s,token:w,edit_mode:l,type:o,items_count:i,service_id:n},beforeSend:function(){$(".remote_image_btn").find("i").removeClass("fa-upload fa-spinner fa-spin").addClass("fa-spinner fa-spin")}}).done(function(e){a=e.file,"image"==e.file_type?r=e.download_url:(r=s,t=e.download_url),
$(".remote_image_btn").find("i").removeClass("fa-spinner fa-spin").addClass("fa fa-upload")}).fail(function(e){h("\u0644\u0644\u0623\u0633\u0641\u060c \u0641\u0634\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0645\u0646 \u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647: "+e.responseJSON.error),$(".remote_image_btn").find("i").removeClass("fa-spinner fa-spin").addClass("fa fa-upload")}),r&&(r=remove_http(r),"image_url"!=o||-1==_.images.indexOf(r)?"youtube"==o&&_.youtube.includes(youtube_url_id(r))?h("\u0644\u0642\u062f \u0623\u0636\u0641\u062a \u0647\u0630\u0627 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0628\u0627\u0644\u0641\u0639\u0644."):("youtube"==o?add_to_gallery(r,"youtube",l,t):add_to_gallery(r,a,l),$(".add_gitem_input input[type='text']").each(function(){$(this).val("")}),close_dialog()):h("\u0644\u0642\u062f \u0623\u0636\u0641\u062a \u0647\u0630\u0647 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0627\u0644\u0641\u0639\u0644."))})}function s(){$(".gitem_delete_btn").on("click",function(e){e.preventDefault();var t=gallerySlider.current_slide_attributes(),i=gallerySlider.current_slide();(input=v(t.video_id||t.file))&&input.remove(),i.hasClass("service_gallery_file")&&d(t.gallery_file_id),gallerySlider.remove_current_slide(),update_gallery_urls()})}function l(){void 0===_&&(_={youtube:[],images:[]})}function c(){$(".selected-images").html(""),$("a.upload_seleted_images_btn").addClass("hidden"),$("a.service_image_u_btn").removeClass("hidden")}function u(){$(document).keyup(function(e){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||27==e.keyCode&&close_dialog()}),$(".dialog").on("click",function(e){e.target===e.currentTarget&&$(".dialog").each(function(){$(this).close_dialog()})})}function d(e){$("<input>").attr({type:"hidden",name:"deleted_gallery_items[]",value:e}).appendTo("#service_gallery")}function h(e){$("#service_gallery_form_wrapper .dialog_message").removeClass("hidden"),$("#service_gallery_form_wrapper .dialog_message").text(e),$("#service_gallery_form_wrapper .dialog_message").addClass("red")}function f(){$("#service_gallery_form_wrapper .dialog_message").addClass("hidden"),$("#service_gallery_form_wrapper .dialog_message").removeClass("red"),$("#service_gallery_form_wrapper .dialog_message").text("")}function p(e,t,i){return $("<input>").attr({id:b(9),type:"hidden","class":"hidden_input",name:"gallery_items["+e+"]["+i+"]",value:t}).appendTo("#service_gallery")}function m(e,t,i){return(input=g(i))&&(i=input.attr("original_file"),input.remove()),$("<input>").attr({id:b(9),type:"hidden","class":"replace_input",name:"replace_items["+e+"]["+i+"]",value:t,original_file:i}).appendTo("#service_gallery")}function g(e){var t=$('input.replace_input[original_file="'+e+'"]');if(0<t.length)return t}function v(e){var t=$('input.hidden_input[value="'+e+'"]');if(0<t.length)return t}function y(e,t,i){var n=youtube_url_id(e);return $("<div>").attr({id:n,"data-vid":n,"data-vthumbnail":t,original_file:i,"class":"video-placeholder"})}function b(e){var t="",n=e/1;for(i=0;i<n;i++)t+=Math.random().toString(36).substr(2,1);return t}function e(e){w=e,l(),toggle_edit_new(),gallerySlider.onready(update_gallery_urls),s(),n()}var _,w=w;return add_to_gallery=function(e,t,i,n){if(i)return replace_gallery_file(e,t,n);var o=0==gallerySlider.slides_count()?0:gallerySlider.current_slide_index()+1,r=$("<div>").attr({"class":"gitem",id:"gf-"+o});"youtube"==t?(y(e,n).appendTo(r),p("youtube",youtube_url_id(e),o)):($("<img>").attr({src:e,width:"100%","attr-file":t}).appendTo(r),p("images",t,o)),gallerySlider.append_slide(r),update_gallery_urls()},replace_gallery_file=function(e,t,i){var n=gallerySlider.current_slide_attributes(),o=(gallerySlider.current_slide(),youtube_url_id(e));if(input=v(n.video_id||n.file))return input.remove(),gallerySlider.remove_current_slide(),add_to_gallery(e,t,i);var r=$("<div>").attr({"class":"gitem"});"youtube"==t?(y(e,i,n.gallery_file_id).appendTo(r),m("youtube",o,n.gallery_file_id)):($("<img>").attr({src:e,width:"100%","attr-file":t,original_file:n.gallery_file_id}).appendTo(r),m("images",t,n.gallery_file_id)),gallerySlider.replace_current_slide(r),update_gallery_urls()},toggle_edit_new=function(){gallerySlider.ready()&&(items_count=gallerySlider.slides_count(),0==items_count?($("#service_gallery").off(),$("#service_gallery #gallery_edit").hide(),$("#service_gallery #gallery_new").show()):($("#service_gallery #gallery_new").hide(),$("#service_gallery").hover(function(){$("#gallery_edit").show()},function(){$("#gallery_edit").hide()})))},update_gallery_urls=function(){if(gallerySlider.ready()){for(toggle_edit_new(),i=-1;i<gallerySlider.slides_count();i++)(attr=gallerySlider.get_slide_attributes(i))&&_[attr.type].push(attr.video_id||attr.file);_.youtube=$.unique(_.youtube),_.images=$.unique(_.images)}},clear_dialog=function(){$(".dialog_message").addClass("hidden"),$(".dialog_message").removeClass("red").removeClass("green").removeClass("yellow"),$(".dialog_content input[type='password']").val("")},close_dialog=function(){$(".dialog").each(function(){$(this).close_dialog()})},youtube_url_id=function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,i=e.match(t);return!!i&&i[1]},youtube_full_url_id=function(e){return"//www.youtube-nocookie.com/embed/"+e+"?rel=0&showinfo=0&controls=0&vq=hd72"},remove_http=function(e){return 0!=e&&(/^\//i.test(e)||(/^https?:\/\//i.test(e)||(e="http://"+e),e=e.replace(/^https?:/,""))),e},{init:e}}();!function(we){"use strict";function ke(e,t){e.className+=" "+t}function Ce(e,t){for(var i=t.split(" "),n=0;n<i.length;n+=1)e.className=e.className.replace(" "+i[n],"")}function xe(){return"rtl"===we.getComputedStyle(document.body).direction}function Te(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function Se(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function $e(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function Ee(i,n){return function(){if(0<arguments.length){for(var e=[],t=0;t<arguments.length;t+=1)e.push(arguments[t]);return e.push(i),n.apply(i,e)}return n.apply(i,[null,i])}}function Ae(e,t){return{index:e,button:t,cancel:!1}}function e(){function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function a(e){var t=l[e].dialog;return t&&"function"==typeof t.__init&&t.__init(t),t}function s(e,t,i,n){var o={dialog:null,factory:t};return void 0!==n&&(o.factory=function(){return r(new l[n].factory,new t)}),i||(o.dialog=r(new o.factory,c)),l[e]=o}var l={};return{defaults:t,dialog:function(e,t,i,n){if("function"!=typeof t)return a(e);if(this.hasOwnProperty(e))throw new Error("alertify.dialog: name already exists");var o=s(e,t,i,n);this[e]=i?function(){if(0===arguments.length)return o.dialog;var e=r(new o.factory,c);return e&&"function"==typeof e.__init&&e.__init(e),e.main.apply(e,arguments),e.show.apply(e)}:function(){if(o.dialog&&"function"==typeof o.dialog.__init&&o.dialog.__init(o.dialog),0===arguments.length)return o.dialog;var e=o.dialog;return e.main.apply(o.dialog,arguments),e.show.apply(o.dialog)}},closeAll:function(e){for(var t=Re.slice(0),i=0;i<t.length;i+=1){var n=t[i];(void 0===e||e!==n)&&n.close()}},setting:function(e,t,i){if("notifier"===e)return u.setting(t,i);var n=a(e);return n?n.setting(t,i):void 0},set:function(e,t,i){return this.setting(e,t,i)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,i,n){return u.create(t,n).push(e,i)},message:function(e,t,i){return u.create(null,i).push(e,t)},success:function(e,t,i){return u.create("success",i).push(e,t)},error:function(e,t,i){return u.create("error",i).push(e,t)},warning:function(e,t,i){return u.create("warning",i).push(e,t)},dismissAll:function(){u.dismissAll()}}}var De={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39},t={modal:!0,basic:!1,frameless:!1,movable:!0,resizable:!0,closable:!0,closableByDimmer:!0,maximizable:!0,startMaximized:!1,pinnable:!0,pinned:!0,padding:!0,overflow:!0,maintainFocus:!0,transition:"pulse",autoReset:!0,notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},Re=[],Le=document.addEventListener?function(e,t,i,n){e.addEventListener(t,i,!0===n)}:document.attachEvent?function(e,t,i){e.attachEvent("on"+t,i)}:void 0,Me=document.removeEventListener?function(e,t,i,n){e.removeEventListener(t,i,!0===n)}:document.detachEvent?function(e,t,i){e.detachEvent("on"+t,i)}:void 0,ze=function(){var e,t,i=!1,n={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==document.documentElement.style[e]){t=n[e],i=!0;break}return{type:t,supported:i}}(),c=function(){function o(e){if(!e.__internal){var t;delete e.__init,null===re&&document.body.setAttribute("tabindex","0"),"function"==typeof e.setup?((t=e.setup()).options=t.options||{},t.focus=t.focus||{}):t={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var i=[];if(Array.isArray(t.buttons))for(var n=0;n<t.buttons.length;n+=1){var o=t.buttons[n],r={};for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);i.push(r)}var s=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:i,focus:t.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,pinned:void 0,movable:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclose:void 0,onfocus:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0},l={};l.root=document.createElement("div"),l.root.className=le.base+" "+le.hidden+" ",l.root.innerHTML=se.dimmer+se.modal,l.dimmer=l.root.firstChild,l.modal=l.root.lastChild,l.modal.innerHTML=se.dialog,l.dialog=l.modal.firstChild,l.dialog.innerHTML=se.reset+se.commands+se.header+se.body+se.footer+se.resizeHandle+se.reset,l.reset=[],l.reset.push(l.dialog.firstChild),l.reset.push(l.dialog.lastChild),l.commands={},l.commands.container=l.reset[0].nextSibling,l.commands.pin=l.commands.container.firstChild,l.commands.maximize=l.commands.pin.nextSibling,l.commands.close=l.commands.maximize.nextSibling,l.header=l.commands.container.nextSibling,l.body=l.header.nextSibling,l.body.innerHTML=se.content,l.content=l.body.firstChild,l.footer=l.body.nextSibling,l.footer.innerHTML=se.buttons.auxiliary+se.buttons.primary,l.resizeHandle=l.footer.nextSibling,l.buttons={},l.buttons.auxiliary=l.footer.firstChild,l.buttons.primary=l.buttons.auxiliary.nextSibling,l.buttons.primary.innerHTML=se.button,l.buttonTemplate=l.buttons.primary.firstChild,l.buttons.primary.removeChild(l.buttonTemplate);for(var c=0;c<e.__internal.buttons.length;c+=1){var u=e.__internal.buttons[c];for(var d in oe.indexOf(u.key)<0&&oe.push(u.key),u.element=l.buttonTemplate.cloneNode(),u.element.innerHTML=u.text,"string"==typeof u.className&&""!==u.className&&ke(u.element,u.className),u.attrs)"className"!==d&&u.attrs.hasOwnProperty(d)&&u.element.setAttribute(d,u.attrs[d]);"auxiliary"===u.scope?l.buttons.auxiliary.appendChild(u.element):l.buttons.primary.appendChild(u.element)}e.elements=l,s.resetHandler=Ee(e,R),s.beginMoveHandler=Ee(e,j),s.beginResizeHandler=Ee(e,q),s.bringToFrontHandler=Ee(e,h),s.modalClickHandler=Ee(e,T),s.buttonsClickHandler=Ee(e,$),s.commandsClickHandler=Ee(e,p),s.transitionInHandler=Ee(e,L),s.transitionOutHandler=Ee(e,M),e.set("title",void 0===t.options.title?je.defaults.glossary.title:t.options.title),e.set("modal",void 0===t.options.modal?je.defaults.modal:t.options.modal),e.set("basic",void 0===t.options.basic?je.defaults.basic:t.options.basic),e.set("frameless",void 0===t.options.frameless?je.defaults.frameless:t.options.frameless),e.set("movable",void 0===t.options.movable?je.defaults.movable:t.options.movable),e.set("resizable",void 0===t.options.resizable?je.defaults.resizable:t.options.resizable),e.set("autoReset",void 0===t.options.autoReset?je.defaults.autoReset:t.options.autoReset),e.set("closable",void 0===t.options.closable?je.defaults.closable:t.options.closable),e.set("closableByDimmer",void 0===t.options.closableByDimmer?je.defaults.closableByDimmer:t.options.closableByDimmer),e.set("maximizable",void 0===t.options.maximizable?je.defaults.maximizable:t.options.maximizable),e.set("startMaximized",void 0===t.options.startMaximized?je.defaults.startMaximized:t.options.startMaximized),e.set("pinnable",void 0===t.options.pinnable?je.defaults.pinnable:t.options.pinnable),e.set("pinned",void 0===t.options.pinned?je.defaults.pinned:t.options.pinned),e.set("transition",void 0===t.options.transition?je.defaults.transition:t.options.transition),e.set("padding",void 0===t.options.padding?je.defaults.padding:t.options.padding),e.set("overflow",void 0===t.options.overflow?je.defaults.overflow:t.options.overflow),"function"==typeof e.build&&e.build()}document.body.appendChild(e.elements.root)}function r(){ie=we.scrollX,ne=we.scrollY}function i(){we.scrollTo(ie,ne)}function a(){for(var e=0,t=0;t<Re.length;t+=1){var i=Re[t];(i.isModal()||i.isMaximized())&&(e+=1)}0===e?Ce(document.body,le.noOverflow):0<e&&document.body.className.indexOf(le.noOverflow)<0&&ke(document.body,le.noOverflow)}function s(e,t,i){"string"==typeof i&&Ce(e.elements.root,le.prefix+i),ke(e.elements.root,le.prefix+t),re=e.elements.root.offsetWidth}function l(e){e.get("modal")?(Ce(e.elements.root,le.modeless),e.isOpen()&&(X(e),w(e),a())):(ke(e.elements.root,le.modeless),e.isOpen()&&(Q(e),w(e),a()))}function c(e){e.get("basic")?ke(e.elements.root,le.basic):Ce(e.elements.root,le.basic)}function u(e){e.get("frameless")?ke(e.elements.root,le.frameless):Ce(e.elements.root,le.frameless)}function h(e,t){for(var i=Re.indexOf(t)+1;i<Re.length;i+=1)if(Re[i].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),Re.splice(Re.indexOf(t),1),Re.push(t),D(t)),!1}function d(e,t,i,n){switch(t){case"title":e.setHeader(n);break;case"modal":l(e);break;case"basic":c(e);break;case"frameless":u(e);break;case"pinned":k(e);break;case"closable":x(e);break;case"maximizable":C(e);break;case"pinnable":b(e);break;case"movable":F(e);break;case"resizable":W(e);break;case"transition":s(e,n,i);break;case"padding":n?Ce(e.elements.root,le.noPadding):e.elements.root.className.indexOf(le.noPadding)<0&&ke(e.elements.root,le.noPadding);break;case"overflow":n?Ce(e.elements.root,le.noOverflow):e.elements.root.className.indexOf(le.noOverflow)<0&&ke(e.elements.root,le.noOverflow);break;case"transition":s(e,n,i)}"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,t,i,n)}function f(e,t,i,n,o){var r,a={op:void 0,items:[]};if(void 0===o&&"string"==typeof n)a.op="get",t.hasOwnProperty(n)?(a.found=!0,a.value=t[n]):(a.found=!1,a.value=void 0);else if(a.op="set","object"==typeof n){var s=n;for(var l in s)t.hasOwnProperty(l)?(t[l]!==s[l]&&(r=t[l],t[l]=s[l],i.call(e,l,r,s[l])),a.items.push({key:l,value:s[l],found:!0})):a.items.push({key:l,value:s[l],found:!1})}else{if("string"!=typeof n)throw new Error("args must be a string or object");t.hasOwnProperty(n)?(t[n]!==o&&(r=t[n],t[n]=o,i.call(e,n,r,o)),a.items.push({key:n,value:o,found:!0})):a.items.push({key:n,value:o,found:!1})}return a}function n(e){var t;S(e,function(e){return t=!0===e.invokeOnClose}),!t&&e.isOpen()&&e.close()}function p(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:t.isPinned()?g(t):m(t);break;case t.elements.commands.maximize:t.isMaximized()?y(t):v(t);break;case t.elements.commands.close:n(t)}return!1}function m(e){e.set("pinned",!0)}function g(e){e.set("pinned",!1)}function v(e){ke(e.elements.root,le.maximized),e.isOpen()&&a()}function y(e){Ce(e.elements.root,le.maximized),e.isOpen()&&a()}function b(e){e.get("pinnable")?ke(e.elements.root,le.pinnable):Ce(e.elements.root,le.pinnable)}function t(e){var t=Se();e.elements.modal.style.marginTop=Te()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function _(e){var t=parseInt(e.elements.modal.style.marginTop,10),i=parseInt(e.elements.modal.style.marginLeft,10);if(e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()){var n=0,o=0;""!==e.elements.dialog.style.top&&(n=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=n+(t-Te())+"px",""!==e.elements.dialog.style.left&&(o=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=o+(i-Se())+"px"}}function w(e){e.get("modal")||e.get("pinned")?_(e):t(e)}function k(e){e.get("pinned")?(Ce(e.elements.root,le.unpinned),e.isOpen()&&_(e)):(ke(e.elements.root,le.unpinned),e.isOpen()&&!e.isModal()&&t(e))}function C(e){e.get("maximizable")?ke(e.elements.root,le.maximizable):Ce(e.elements.root,le.maximizable)}function x(e){e.get("closable")?(ke(e.elements.root,le.closable),ee(e)):(Ce(e.elements.root,le.closable),te(e))}function T(e,t){var i=e.srcElement||e.target;return ce||i!==t.elements.modal||!0!==t.get("closableByDimmer")||n(t),ce=!1}function S(e,t){for(var i=0;i<e.__internal.buttons.length;i+=1){var n=e.__internal.buttons[i];if(!n.element.disabled&&t(n)){var o=Ae(i,n);"function"==typeof e.callback&&e.callback.apply(e,[o]),!1===o.cancel&&e.close();break}}}function $(e,t){var i=e.srcElement||e.target;S(t,function(e){return e.element===i&&(ue=!0)})}function E(e){if(!ue){var t=Re[Re.length-1],i=e.keyCode;return 0===t.__internal.buttons.length&&i===De.ESC&&!0===t.get("closable")?(n(t),!1):-1<oe.indexOf(i)?(S(t,function(e){return e.key===i}),!1):void 0}ue=!1}function A(e){var t=Re[Re.length-1],i=e.keyCode;if(i===De.LEFT||i===De.RIGHT){for(var n=t.__internal.buttons,o=0;o<n.length;o+=1)if(document.activeElement===n[o].element)switch(i){case De.LEFT:return void n[(o||n.length)-1].element.focus();case De.RIGHT:return void n[(o+1)%n.length].element.focus()}}else if(i<De.F12+1&&i>De.F1-1&&-1<oe.indexOf(i))return e.preventDefault(),e.stopPropagation(),S(t,function(e){return e.key===i}),!1}function D(e,t){if(t)t.focus();else{var i=e.__internal.focus,n=i.element;switch(typeof i.element){case"number":e.__internal.buttons.length>i.element&&(n=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[i.element].element);break;case"string":n=e.elements.body.querySelector(i.element);break;case"function":n=i.element.call(e)}null!=n||0!==e.__internal.buttons.length||(n=e.elements.reset[0]),n&&n.focus&&(n.focus(),i.select&&n.select&&n.select())}}function R(e,t){if(!t)for(var i=Re.length-1;-1<i;i-=1)if(Re[i].isModal()){t=Re[i];break}if(t&&t.isModal()){var n,o=e.srcElement||e.target,r=o===t.elements.reset[1]||0===t.__internal.buttons.length&&o===document.body;r&&(t.get("maximizable")?n=t.elements.commands.maximize:t.get("closable")&&(n=t.elements.commands.close)),void 0===n&&("number"==typeof t.__internal.focus.element?o===t.elements.reset[0]?n=t.elements.buttons.auxiliary.firstChild||t.elements.buttons.primary.firstChild:r&&(n=t.elements.reset[0]):o===t.elements.reset[0]&&(n=t.elements.buttons.primary.lastChild||t.elements.buttons.auxiliary.lastChild)),D(t,n)}}function L(e,t){clearTimeout(t.__internal.timerIn),D(t),i(),ue=!1,"function"==typeof t.get("onfocus")&&t.get("onfocus").call(t),Me(t.elements.dialog,ze.type,t.__internal.transitionInHandler),Ce(t.elements.root,le.animationIn)}function M(e,t){clearTimeout(t.__internal.timerOut),Me(t.elements.dialog,ze.type,t.__internal.transitionOutHandler),I(t),B(t),t.isMaximized()&&!t.get("startMaximized")&&y(t),je.defaults.maintainFocus&&t.__internal.activeElement&&(t.__internal.activeElement.focus(),t.__internal.activeElement=null)}function z(e,t){t.style.left=e[pe]-he+"px",t.style.top=e[me]-fe+"px"}function j(e,t){var i;if(null===ge&&!t.isMaximized()&&t.get("movable")&&("touchstart"===e.type?(e.preventDefault(),i=e.targetTouches[0],pe="clientX",me="clientY"):0===e.button&&(i=e),i)){de=t,he=i[pe],fe=i[me];var n=t.elements.dialog;return ke(n,le.capture),n.style.left&&(he-=parseInt(n.style.left,10)),n.style.top&&(fe-=parseInt(n.style.top,10)),z(i,n),ke(document.body,le.noSelection),!1}}function N(e){var t;de&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&z(t,de.elements.dialog))}function P(){if(de){var e=de.elements.dialog;de=null,Ce(document.body,le.noSelection),Ce(e,le.capture)}}function I(e){de=null;var t=e.elements.dialog;t.style.left=t.style.top=""}function F(e){e.get("movable")?(ke(e.elements.root,le.movable),e.isOpen()&&Y(e)):(I(e),Ce(e.elements.root,le.movable),e.isOpen()&&J(e))}function O(e,t,i){for(var n,o,r=t,a=0,s=0;a+=r.offsetLeft,s+=r.offsetTop,r=r.offsetParent;);!0===i?(n=e.pageX,o=e.pageY):(n=e.clientX,o=e.clientY);var l=xe();if(l&&(n=document.body.offsetWidth-n,isNaN(ve)||(a=document.body.offsetWidth-a-t.offsetWidth)),t.style.height=o-s+_e+"px",t.style.width=n-a+_e+"px",!isNaN(ve)){var c=.5*Math.abs(t.offsetWidth-ye);l&&(c*=-1),t.offsetWidth>ye?t.style.left=ve+c+"px":t.offsetWidth>=be&&(t.style.left=ve-c+"px")}}function q(e,t){var i;if(!t.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),i=e.targetTouches[0]):0===e.button&&(i=e),i)){_e=(ge=t).elements.resizeHandle.offsetHeight/2;var n=t.elements.dialog;return ke(n,le.capture),ve=parseInt(n.style.left,10),n.style.height=n.offsetHeight+"px",n.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px",n.style.width=(ye=n.offsetWidth)+"px","none"!==n.style.maxWidth&&(n.style.minWidth=(be=n.offsetWidth)+"px"),n.style.maxWidth="none",ke(document.body,le.noSelection),!1}}function H(e){var t;ge&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&O(t,ge.elements.dialog,!ge.get("modal")&&!ge.get("pinned")))}function U(){if(ge){var e=ge.elements.dialog;ge=null,Ce(document.body,le.noSelection),Ce(e,le.capture),ce=!0}}function B(e){ge=null;var t=e.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",ve=Number.Nan,ye=be=_e=0)}function W(e){e.get("resizable")?(ke(e.elements.root,le.resizable),e.isOpen()&&K(e)):(B(e),Ce(e.elements.root,le.resizable),e.isOpen()&&Z(e))}function V(){for(var e=0;e<Re.length;e+=1){var t=Re[e];t.get("autoReset")&&(I(t),B(t))}}function G(e){1===Re.length&&(Le(we,"resize",V),Le(document.body,"keyup",E),Le(document.body,"keydown",A),Le(document.body,"focus",R),Le(document.documentElement,"mousemove",N),Le(document.documentElement,"touchmove",N),Le(document.documentElement,"mouseup",P),Le(document.documentElement,"touchend",P),Le(document.documentElement,"mousemove",H),Le(document.documentElement,"touchmove",H),Le(document.documentElement,"mouseup",U),Le(document.documentElement,"touchend",U)),Le(e.elements.commands.container,"click",e.__internal.commandsClickHandler),Le(e.elements.footer,"click",e.__internal.buttonsClickHandler),Le(e.elements.reset[0],"focus",e.__internal.resetHandler),Le(e.elements.reset[1],"focus",e.__internal.resetHandler),ue=!0,Le(e.elements.dialog,ze.type,e.__internal.transitionInHandler),e.get("modal")||Q(e),e.get("resizable")&&K(e),e.get("movable")&&Y(e)}function e(e){1===Re.length&&(Me(we,"resize",V),Me(document.body,"keyup",E),Me(document.body,"keydown",A),Me(document.body,"focus",R),Me(document.documentElement,"mousemove",N),Me(document.documentElement,"mouseup",P),Me(document.documentElement,"mousemove",H),Me(document.documentElement,"mouseup",U)),Me(e.elements.commands.container,"click",e.__internal.commandsClickHandler),Me(e.elements.footer,"click",e.__internal.buttonsClickHandler),Me(e.elements.reset[0],"focus",e.__internal.resetHandler),Me(e.elements.reset[1],"focus",e.__internal.resetHandler),Le(e.elements.dialog,ze.type,e.__internal.transitionOutHandler),e.get("modal")||X(e),e.get("movable")&&J(e),e.get("resizable")&&Z(e)}function Q(e){Le(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function X(e){Me(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function Y(e){Le(e.elements.header,"mousedown",e.__internal.beginMoveHandler),Le(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function J(e){Me(e.elements.header,"mousedown",e.__internal.beginMoveHandler),Me(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function K(e){Le(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),Le(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function Z(e){Me(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),Me(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function ee(e){Le(e.elements.modal,"click",e.__internal.modalClickHandler)}function te(e){Me(e.elements.modal,"click",e.__internal.modalClickHandler)}var ie,ne,oe=[],re=null,ae=-1<we.navigator.userAgent.indexOf("Safari")&&we.navigator.userAgent.indexOf("Chrome")<0,se={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},le={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",capture:"ajs-capture",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake",basic:"ajs-basic",frameless:"ajs-frameless"},ce=!1,ue=!1,de=null,he=0,fe=0,pe="pageX",me="pageY",ge=null,ve=Number.Nan,ye=0,be=0,_e=0;return{__init:o,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(le.modeless)<0},isMaximized:function(){return-1<this.elements.root.className.indexOf(le.maximized)},isPinned:function(){return this.elements.root.className.indexOf(le.unpinned)<0},maximize:function(){return this.isMaximized()||v(this),this},restore:function(){return this.isMaximized()&&y(this),this},pin:function(){return this.isPinned()||m(this),this},unpin:function(){return this.isPinned()&&g(this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){var i=this.elements.dialog,n=i,o=0,r=0;for(i.style.left&&(o-=parseInt(i.style.left,10)),i.style.top&&(r-=parseInt(i.style.top,10));o+=n.offsetLeft,r+=n.offsetTop,n=n.offsetParent;);var a=e-o,s=t-r;xe()&&(a*=-1),i.style.left=a+"px",i.style.top=s+"px"}return this},resizeTo:function(e,t){var i=parseFloat(e),n=parseFloat(t),o=/(\d*\.\d+|\d+)%/;if(!isNaN(i)&&!isNaN(n)&&!0===this.get("resizable")){(""+e).match(o)&&(i=i/100*document.documentElement.clientWidth),(""+t).match(o)&&(n=n/100*document.documentElement.clientHeight);var r=this.elements.dialog;"none"!==r.style.maxWidth&&(r.style.minWidth=(be=r.offsetWidth)+"px"),r.style.maxWidth="none",r.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",r.style.width=i+"px",r.style.height=n+"px"}return this},setting:function(e,t){var n=this,i=f(this,this.__internal.options,function(e,t,i){d(n,e,t,i)},e,t);if("get"===i.op)return i.found?i.value:"undefined"!=typeof this.settings?f(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===i.op){if(0<i.items.length)for(var o=this.settingUpdated||function(){},r=0;r<i.items.length;r+=1){var a=i.items[r];a.found||"undefined"==typeof this.settings||f(this,this.settings,o,a.key,a.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(e){return"string"==typeof e?($e(this.elements.header),this.elements.header.innerHTML=e):e instanceof we.HTMLElement&&this.elements.header.firstChild!==e&&($e(this.elements.header),this.elements.header.appendChild(e)),this},setContent:function(e){return"string"==typeof e?($e(this.elements.content),this.elements.content.innerHTML=e):e instanceof we.HTMLElement&&this.elements.content.firstChild!==e&&($e(this.elements.content),this.elements.content.appendChild(e)),this},showModal:function(e){return this.show(!0,e)},show:function(e,t){if(o(this),this.__internal.isOpen){I(this),B(this),ke(this.elements.dialog,le.shake);var i=this;setTimeout(function(){Ce(i.elements.dialog,le.shake)},200)}else{if(this.__internal.isOpen=!0,Re.push(this),je.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),"function"==typeof this.prepare&&this.prepare(),G(this),void 0!==e&&this.set("modal",e),r(),a(),"string"==typeof t&&""!==t&&(this.__internal.className=t,ke(this.elements.root,t)),this.get("startMaximized")?this.maximize():this.isMaximized()&&y(this),w(this),Ce(this.elements.root,le.animationOut),ke(this.elements.root,le.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,ze.supported?1e3:100),ae){var n=this.elements.root;n.style.display="none",setTimeout(function(){n.style.display="block"},0)}re=this.elements.root.offsetWidth,Ce(this.elements.root,le.hidden),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),"function"==typeof this.get("onshow")&&this.get("onshow").call(this)}return this},close:function(){return this.__internal.isOpen&&(e(this),Ce(this.elements.root,le.animationIn),ke(this.elements.root,le.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,ze.supported?1e3:100),ke(this.elements.root,le.hidden),re=this.elements.modal.offsetWidth,"undefined"!=typeof this.__internal.className&&""!==this.__internal.className&&Ce(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),"function"==typeof this.get("onclose")&&this.get("onclose").call(this),Re.splice(Re.indexOf(this),1),this.__internal.isOpen=!1,a()),this},closeOthers:function(){return je.closeAll(this),this}}}(),u=function(){function n(e){e.__internal||(e.__internal={position:je.defaults.notifier.position,delay:je.defaults.notifier.delay},l=document.createElement("DIV"),i(e)),l.parentNode!==document.body&&document.body.appendChild(l)}function a(e){e.__internal.pushed=!0,r.push(e)}function s(e){r.splice(r.indexOf(e),1),e.__internal.pushed=!1}function i(e){switch(l.className=c.base,e.__internal.position){case"top-right":ke(l,c.top+" "+c.right);break;case"top-left":ke(l,c.top+" "+c.left);break;case"bottom-left":ke(l,c.bottom+" "+c.left);break;default:case"bottom-right":ke(l,c.bottom+" "+c.right)}}function o(e,t){function i(e,t){t.dismiss(!0)}function n(e,t){Me(t.element,ze.type,n),l.removeChild(t.element)}function o(e){return e.__internal||(e.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},e.__internal.clickHandler=Ee(e,i),e.__internal.transitionEndHandler=Ee(e,n)),e}function r(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return o({element:e,push:function(e,t){if(!this.__internal.pushed){var i,n;switch(a(this),r(this),arguments.length){case 0:n=this.__internal.delay;break;case 1:"number"==typeof e?n=e:(i=e,n=this.__internal.delay);break;case 2:i=e,n=t}return void 0!==i&&this.setContent(i),u.__internal.position.indexOf("top")<0?l.appendChild(this.element):l.insertBefore(this.element,l.firstChild),this.element.offsetWidth,ke(this.element,c.visible),Le(this.element,"click",this.__internal.clickHandler),this.delay(n)}return this},ondismiss:function(){},callback:t,dismiss:function(e){return this.__internal.pushed&&(r(this),
("function"!=typeof this.ondismiss||!1!==this.ondismiss.call(this))&&(Me(this.element,"click",this.__internal.clickHandler),"undefined"!=typeof this.element&&this.element.parentNode===l&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,ze.supported?1e3:100),Ce(this.element,c.visible),"function"==typeof this.callback&&this.callback.call(this,e)),s(this))),this},delay:function(e){if(r(this),this.__internal.delay=void 0===e||isNaN(+e)?u.__internal.delay:+e,0<this.__internal.delay){var t=this;this.__internal.timer=setTimeout(function(){t.dismiss()},1e3*this.__internal.delay)}return this},setContent:function(e){return"string"==typeof e?($e(this.element),this.element.innerHTML=e):e instanceof we.HTMLElement&&this.element.firstChild!==e&&($e(this.element),this.element.appendChild(e)),this},dismissOthers:function(){return u.dismissAll(this),this}})}var l,r=[],c={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(e,t){if(n(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,i(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(e,t){n(this);var i=document.createElement("div");return i.className=c.message+("string"==typeof e&&""!==e?" ajs-"+e:""),o(i,t)},dismissAll:function(e){for(var t=r.slice(0),i=0;i<t.length;i+=1){var n=t[i];(void 0===e||e!==n)&&n.dismiss()}}}}(),je=new e;je.dialog("alert",function(){return{main:function(e,t,i){var n,o,r;switch(arguments.length){case 1:o=e;break;case 2:"function"==typeof t?(o=e,r=t):(n=e,o=t);break;case 3:n=e,o=t,r=i}return this.set("title",n),this.set("message",o),this.set("onok",r),this},setup:function(){return{buttons:[{text:je.defaults.glossary.ok,key:De.ESC,invokeOnClose:!0,className:je.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,i){switch(e){case"message":this.setMessage(i);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i)}},callback:function(e){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,e);void 0!==t&&(e.cancel=!t)}}}}),je.dialog("confirm",function(){function o(e){null!==r.timer&&(clearInterval(r.timer),r.timer=null,e.__internal.buttons[r.index].element.innerHTML=r.text)}function t(e,t,i){o(e),r.duration=i,r.index=t,r.text=e.__internal.buttons[t].element.innerHTML,r.timer=setInterval(Ee(e,r.task),1e3),r.task(null,e)}var r={timer:null,index:null,text:null,duratuin:null,task:function(e,t){if(t.isOpen()){if(t.__internal.buttons[r.index].element.innerHTML=r.text+" (&#8207;"+r.duration+"&#8207;) ",r.duration-=1,-1===r.duration){o(t);var i=t.__internal.buttons[r.index],n=Ae(r.index,i);"function"==typeof t.callback&&t.callback.apply(t,[n]),!1!==n.close&&t.close()}}else o(t)}};return{main:function(e,t,i,n){var o,r,a,s;switch(arguments.length){case 1:r=e;break;case 2:r=e,a=t;break;case 3:r=e,a=t,s=i;break;case 4:o=e,r=t,a=i,s=n}return this.set("title",o),this.set("message",r),this.set("onok",a),this.set("oncancel",s),this},setup:function(){return{buttons:[{text:je.defaults.glossary.ok,key:De.ENTER,className:je.defaults.theme.ok},{text:je.defaults.glossary.cancel,key:De.ESC,invokeOnClose:!0,className:je.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,i){switch(e){case"message":this.setMessage(i);break;case"labels":"ok"in i&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=i.ok,this.__internal.buttons[0].element.innerHTML=i.ok),"cancel"in i&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=i.cancel,this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===i?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===i?0:1}},callback:function(e){var t;switch(o(this),e.index){case 0:"function"==typeof this.get("onok")&&(void 0!==(t=this.get("onok").call(this,e))&&(e.cancel=!t));break;case 1:"function"==typeof this.get("oncancel")&&(void 0!==(t=this.get("oncancel").call(this,e))&&(e.cancel=!t))}},autoOk:function(e){return t(this,0,e),this},autoCancel:function(e){return t(this,1,e),this}}}),je.dialog("prompt",function(){var n=document.createElement("INPUT"),t=document.createElement("P");return{main:function(e,t,i,n,o){var r,a,s,l,c;switch(arguments.length){case 1:a=e;break;case 2:a=e,s=t;break;case 3:a=e,s=t,l=i;break;case 4:a=e,s=t,l=i,c=n;break;case 5:r=e,a=t,s=i,l=n,c=o}return this.set("title",r),this.set("message",a),this.set("value",s),this.set("onok",l),this.set("oncancel",c),this},setup:function(){return{buttons:[{text:je.defaults.glossary.ok,key:De.ENTER,className:je.defaults.theme.ok},{text:je.defaults.glossary.cancel,key:De.ESC,invokeOnClose:!0,className:je.defaults.theme.cancel}],focus:{element:n,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){n.className=je.defaults.theme.input,n.setAttribute("type","text"),n.value=this.get("value"),this.elements.content.appendChild(t),this.elements.content.appendChild(n)},prepare:function(){},setMessage:function(e){"string"==typeof e?($e(t),t.innerHTML=e):e instanceof we.HTMLElement&&t.firstChild!==e&&($e(t),t.appendChild(e))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(e,t,i){switch(e){case"message":this.setMessage(i);break;case"value":n.value=i;break;case"type":switch(i){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":n.type=i;break;default:n.type="text"}break;case"labels":i.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i.ok),i.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===i?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(e){var t;switch(e.index){case 0:this.value=n.value,"function"==typeof this.get("onok")&&(void 0!==(t=this.get("onok").call(this,e,this.value))&&(e.cancel=!t));break;case 1:"function"==typeof this.get("oncancel")&&(void 0!==(t=this.get("oncancel").call(this,e))&&(e.cancel=!t))}}}}),"object"==typeof module&&"object"==typeof module.exports?module.exports=je:"function"==typeof define&&define.amd?define([],function(){return je}):we.alertify||(we.alertify=je)}("undefined"!=typeof window?window:this);var alertsControl=function(){function e(e,t){alertify.alert(t).setting("title",e),$(".ajs-modal").attr("style","")}function t(){$(".ajs-modal").attr("style","")}function i(){alertify.defaults={glossary:{title:"\u0625\u0634\u0639\u0627\u0631",ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0623\u0645\u0631"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}}}return{set_alertify_defaults:i,show:e,clear_style:t}}(),Filter=function(){function e(e){p={append:e.append,replace:e.replace,data:e.data,load_more_data:e.load_more_data,url_query:e.url_query,filter_url:e.filter_url||u,load_more_url:e.load_more_url||d,on_loading:e.on_loading,on_not_loading:e.on_not_loading},m={load_more_btn_id:e.load_more_btn_id||"#load_more_content"},t(),i(),o(),r(),s(),l()}function t(){$(".filters-list .filter").change(function(){a()})}function i(){$(".filter-sort a.filter").click(function(){$(".filter-sort a.filter").removeClass("active"),$(".filter-sort .dropdown-button .text").html($(this).html()),$(this).addClass("active"),a()})}function n(){t(),o(),r(),s(),l()}function a(){$.ajax({url:p.filter_url(),method:"GET",dataType:"json",data:p.data(),beforeSend:function(){p.on_loading()}}).done(function(e){p.replace(e),c()}).fail(function(e,t,i){h(e,t,i)}).always(function(){p.on_not_loading()})}function o(){$(m.load_more_btn_id).click(function(e){e.preventDefault(),disable_btn($(m.load_more_btn_id)),$.ajax({url:p.load_more_url(),method:"POST",dataType:"json",data:p.load_more_data()}).done(function(e){p.append(e)}).fail(function(e,t,i){h(e,t,i)}).always(function(){enable_btn($(m.load_more_btn_id))})})}function r(){$(".js-show-more").click(function(e){e.preventDefault();var t=$(this);t.hasClass("opened")?(t.parents("ul").removeClass("revealed"),t.text("\u0627\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),t.removeClass("opened")):(t.parents("ul").addClass("revealed"),t.text("\u0627\u0639\u0631\u0636 \u0623\u0642\u0644"),t.addClass("opened"))})}function s(){$(".reset-filter").click(function(e){e.preventDefault();var t=$(this).parent().closest(".c-card").find(".c-card__body .filters-list");t.find("a.filter").removeClass("is-active"),t.find("input[type=radio].filter").removeAttr("checked"),t.find("input[type=checkbox].filter").prop("checked",!1),a()})}function l(){$(".filters-list a.filter").click(function(e){e.preventDefault();var t=$(this),i="true"==t.attr("data-deselect-others"),n="true"==t.parent().attr("data-clear-filters"),o=""==t.parent().attr("data-sub-filter-id"),r=t.parent().attr("data-filter-id");(n||i)&&o&&$(".filters-list a.filter.is-active").each(function(){$(this).removeClass("is-active"),$(this).parent().find("ul:first").addClass("u-hidden")}),$(".filters-list a.filter.is-active").each(function(){var e=""==$(this).parent().attr("data-sub-filter-id"),t=$(this).parent().attr("data-filter-id");!o&&e&&r==t?$(this).addClass("is-active"):($(this).removeClass("is-active"),$(this).parent().find("ul:first").addClass("u-hidden"))}),t.addClass("is-active"),o&&t.parent().find("ul:first").removeClass("u-hidden"),a()}),$(".filters-list .c-list__link--category").click(function(e){e.preventDefault(),$(this).parent().children(".c-list--sub").toggleClass("u-hidden")})}function c(){var e=p.url_query();0==e.length?history.pushState({},"",window.location.pathname):history.pushState({},"",window.location.pathname+"?"+e)}function u(){return"/ajax"+window.location.pathname}function d(){return"/ajax/load_more/"+window.location.pathname}function h(e,t,i){"timeout"==i?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629.")}function f(){var e=$(".filter-sort a.filter.active").first();return e.length?e.data("sort"):undefined}var p={},m={};return{init:e,get_sort:f,rewatch:n}}(),ordersFilter=function(){function e(){$("#orders_table").length&&Filter.init({append:t,replace:i,data:n,load_more_data:o,url_query:c,on_loading:a,on_not_loading:s})}function t(e){$("#orders_table tbody").append(e.content),e.count<100?$("#more_content").parent().hide():$("#more_content").parent().show()}function i(e){$("#orders_table tbody").html(e.content),e.count<100?$("#more_content").parent().hide():$("#more_content").parent().show()}function n(){return{"status[]":l(),sort:Filter.get_sort()}}function o(){return{"status[]":l(),"not_ids[]":r(),sort:Filter.get_sort()}}function r(){var e=[];return $("#orders_table .order").each(function(){e.push(this.id.split("-")[1])}),array_unique_values(e)}function a(){$(".filter-loading").removeClass("hidden"),$("#orders-card").addClass("hidden")}function s(){$(".filter-loading").addClass("hidden"),$("#orders-card").removeClass("hidden")}function l(){var e=[];return $(".filters-list input:checkbox[name=status]:checked").each(function(){e.push($(this).val())}),e}function c(){return $.param(n())}return{init:e}}(),messagesFilter=function(){function e(){$("#messages_table").length&&Filter.init({append:t,replace:i,data:n,load_more_data:o,url_query:c,on_loading:a,on_not_loading:s})}function t(e){$("#messages_table tbody").append(e.content),e.count<100?$("#more_content").parent().hide():$("#more_content").parent().show()}function i(e){$("#messages_table tbody").html(e.content),e.count<100?$("#more_content").parent().hide():$("#more_content").parent().show()}function n(){return{"dir[]":l(),sort:Filter.get_sort()}}function o(){return{"dir[]":l(),"not_ids[]":r(),sort:Filter.get_sort()}}function r(){var e=[];return $("#messages-card .message").each(function(){e.push(this.id.split("-")[1])}),array_unique_values(e)}function a(){$(".filter-loading").removeClass("hidden"),$("#messages-card").addClass("hidden")}function s(){$(".filter-loading").addClass("hidden"),$("#messages-card").removeClass("hidden")}function l(){var e=[];return $(".filters-list input:checkbox[name=dir]:checked").each(function(){e.push($(this).val())}),e}function c(){return $.param(n())}return{init:e}}(),searchFilter=function(){function e(){$("#services_home").length&&Filter.init({append:t,replace:i,get_not_ids:n,data:a,url_query:y,load_more_data:s,on_loading:o,on_not_loading:r,filter_url:g,load_more_url:v})}function t(e){e&&""!=e.content?($(".services_block_list:first").append(e.content),e.count<100?$("#more_content").hide():$("#more_content").show()):$("#more_content").hide()}function i(e){$(".js-page").html(e.content),$(".js-filter-sidebar-group").parent().html(e.filter),Filter.rewatch()}function n(){var e=[];return $(".services_block_list .service-block").each(function(){e.push(this.id.split("-")[1])}),array_unique_values(e)}function o(){$(".filter-loading").removeClass("hidden"),$("#services_home").addClass("hidden")}function r(){$(".filter-loading").addClass("hidden"),$("#services_home").removeClass("hidden")}function a(){return clean_object({q:search_keywords,c:l(),sc:c(),dt:u(),sl:h(),scu:f(),so:p(),siv:m(),sr:d(),sort:Filter.get_sort(),no_keyword:0<$("#no_keyword").length})}function s(){var e=$(".services_block_list .service-block").length/page_size+1;return clean_object(merge_object({page:e=Math.ceil(e)},a()))}function l(){var e=[];return selected_categories=$(".filters-list").find(".is-active"),selected_categories.each(function(){main_category_id=$(this).parent().attr("data-filter-id"),sub_category_id=$(this).parent().attr("data-sub-filter-id"),""==sub_category_id&&""!=main_category_id&&e.push(main_category_id)}),array_unique_values(e)}function c(){var e=[];return selected_categories=$(".filters-list .c-list--sub").find(".is-active"),selected_categories.each(function(){sub_category_id=$(this).parent().attr("data-sub-filter-id"),""!=sub_category_id&&e.push(sub_category_id)}),array_unique_values(e)}function u(){var e=$(".filters-list input:radio[name=dt]:checked");return 0<e.length?e.val():undefined}function d(){var e=$(".filters-list input:radio[name=sr]:checked");return 0<e.length?e.val():undefined}function h(){var e=[];return $(".filters-list input:checkbox[name=sl]:checked").each(function(){e.push($(this).val())}),-1<e.indexOf("s3")&&e.push("s4"),array_unique_values(e)}function f(){var e=[];return $(".filters-list input:checkbox[name=scu]:checked").each(function(){e.push($(this).val())}),array_unique_values(e)}function p(){return 0<$(".filters-list input:checkbox[name=so]:checked").length||undefined}function m(){return 0<$(".filters-list input:checkbox[name=siv]:checked").length}function g(){return"/ajax/search"}function v(){return"/ajax/load_more/search/"}function y(){return $.param(a())}return{init:e}}(),creditCardControl=function(){function e(){if($("#show_cc_form").length){$("#show_cc_form").click(function(e){if(e.preventDefault(),!$("#show_cc_form").find("i").hasClass("fa-spinner"))if($(this).hasClass("ban_buying")){var t=$(this).data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u062d\u0646 \u0627\u0644\u0631\u0635\u064a\u062f \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a  "+t)}else e.stopPropagation(),$.ajax({url:"/ajax/user/saved_credit_card",method:"GET",dataType:"html",beforeSend:function(){$("#show_cc_form").find("i").addClass("fa-spin fa-fw fa-spinner")}}).done(function(e){$("#credit_card_dialog").remove(),$("#cc_payment").append(e),$("#credit_card_dialog").show_dialog(),d(),update_total_price()}).fail(function(e){302==e.status?window.location.href=e.responseText:(errorMessage=e.status+" "+e.responseText,alertsControl.show("\u0625\u0634\u0639\u0627\u0631",errorMessage))}).always(function(){$("#show_cc_form").find("i").removeClass("fa-spin fa-fw fa-spinner")})}),n(),s(),t()}}function t(){$("#show_saved_credit_card_list").live("click",function(){$("#cc_form_container").hide(),$("#saved_credit_card_list").show(),$(this).addClass("active"),$("#show_cc_form_container").removeClass("active")}),$("#show_cc_form_container").live("click",function(){$("#cc_form_container").show(),$("#saved_credit_card_list").hide(),$(this).addClass("active"),$("#show_saved_credit_card_list").removeClass("active")}),$(".saved_credit_card").live("click",function(){i(),$(this).addClass("selected")})}function i(){$("#saved_credit_card_list").children().removeClass("selected")}function r(){success=!0;var e=$("#cc_payment_name").val();return $("#credit_card_form_wrapper").find(".dialog_message").addClass("hidden").html(""),""==e?($("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html("\u0627\u0644\u0627\u0633\u0645 \u0641\u0627\u0631\u063a\u060c \u0644\u0645 \u062a\u062f\u062e\u0644\u0647 \u0628\u0639\u062f"),$("#cc_payment_name").addClass("error"),$("#cc_payment_name").focus(),success=!1):o(e)&&($("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html("\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d"),$("#cc_payment_name").addClass("error"),$("#cc_payment_name").focus(),success=!1),success}function n(){$("#cc_payment_form").live("submit",function(e){e.preventDefault();var i="",t=($(this),$(".saved_credit_card.selected").attr("data-payment-method-id")),n=$("#stripe_customer_id").val(),o=$("#cc_payment_name").val();return $("#show_saved_credit_card_list").hasClass("active")?(n&&t?(i=$(".saved_credit_card.selected").attr("data-card-country"),c(),$("#credit_card_form_wrapper").find(".dialog_message").addClass("hidden").html(""),a(n,t,i)):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0628\u0637\u0627\u0642\u0629"),!1):(valid=r(),valid&&(c(),stripe.createPaymentMethod("card",cardElement,{billing_details:{name:o}}).then(function(e){if(e.error)$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(stripe_error_message(e.error.code,e.error.message)),u();else{$("#credit_card_form_wrapper").find(".dialog_message").addClass("hidden").html("");var t=e.paymentMethod.id;i=e.paymentMethod.card.country,a(n,t,i)}})),!1)})}function a(e,t,i){var n=$("#cc_payment_name").val(),o=$("#user_token").val(),r=$("#cc_cart_order_unique_id").val(),a=$("#save_card").is(":checked"),s="/cart/creditcard/checkout";header_data={card_country:i,token:o,unique_id:r,full_name:n,save_card:a},t&&(header_data.payment_method_id=t),e&&(header_data.stripe_customer_id=e),$.post(s,header_data,function(e){e.success?(close_dialog(),window.location=e.redirect_url):e.requires_action?l(e,header_data):($("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.message),u())},"json").fail(function(e){u(),e.responseText?$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseText):$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html("\u0644\u0644\u0623\u0633\u0641\u060c \u0641\u0634\u0644\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629")})}function l(e,t){var i="/cart/creditcard/checkout",n=(e.fraud_id,$("#save_card").is(":checked")),o="\u0644\u0644\u0623\u0633\u0641\u060c \u0641\u0634\u0644\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644  \u0645\u0639\u0646\u0627 \u0639\u0628\u0631 <a href='/r/helpdesk' target='_blank' class='u-clr--primary'>\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629</a>";$("#khamsat_credit_card_dialog").hide(),$("#cart-page").hide(),$("#cart-loading-page").show(),stripe.handleCardAction(e.payment_intent_client_secret).then(function(e){$("#khamsat_credit_card_dialog").show(),e.error?(u(),$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(stripe_error_message(e.error.code,e.error.message))):(confirm_data={payment_intent_id:e.paymentIntent.id,save_card:n,confirm:!0},delete t.payment_method_id,final_data=Object.assign(t,confirm_data),$.post(i,final_data,function(e){e.success?(close_dialog(),window.location=e.redirect_url):(u(),$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.message))},"json").fail(function(e){u(),e.responseText?$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseText):$("#credit_card_form_wrapper").find(".dialog_message").removeClass("hidden").html(o)})),$("#cart-page").show(),$("#cart-loading-page").hide()})}function o(e){return/^-?[0-9]+$/.test(e)}function s(){$(document).keyup(function(e){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||27==e.keyCode&&close_dialog()}),$("#container").on("click",function(){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||close_dialog()}),$("#cc_payment_cancel").live("click",function(){close_dialog()})}function c(){$("#cc_payment_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u062f\u0641\u0639...'),$("#cc_payment_button, #cc_payment_cancel").prop("disabled",!0),$("#cc_payment_button, #cc_payment_cancel").addClass("disabled")}function u(){$("#cc_payment_button").html("\u062f\u0641\u0639"),$("#cc_payment_button, #cc_payment_cancel").prop("disabled",!1),$("#cc_payment_button, #cc_payment_cancel").removeClass("disabled")}function d(){cardElement.mount("#card-element")}return stripe_error_message=function(e,t){var i={invalid_number:"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u062e\u0627\u0637\u0626",incorrect_number:"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",invalid_cvc:"\u0643\u0648\u062f CVC \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u062e\u0627\u0637\u0626",incorrect_cvc:"\u0643\u0648\u062f CVC \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",expired_card:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u0645\u0646\u062a\u0647\u064a\u0629 \u0628\u0627\u0644\u0641\u0639\u0644",card_declined:"\u0644\u0644\u0623\u0633\u0641\u060c \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646\u064a\u0629",exp_month:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",exp_year:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",invalid_expiry_month:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",incomplete_number:"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0641\u0627\u0631\u063a \u0627\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644",incomplete_zip:"\u0643\u0648\u062f zip \u0641\u0627\u0631\u063a \u0627\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644",incomplete_expiry:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0641\u0627\u0631\u063a \u0627\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644",incomplete_cvc:"\u0643\u0648\u062f \u0627\u0644\u062d\u0645\u0627\u064a\u0629 CVC \u0641\u0627\u0631\u063a \u0627\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644",insufficient_funds:"\u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0628\u0637\u0627\u0642\u062a\u0643 \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",payment_intent_authentication_failure:"\u0641\u0634\u0644\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629\u060c \u0646\u0631\u062c\u0648 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627."};return i[e]?i[e]:t},close_dialog=function(){$(".dialog").each(function(){$(this).close_dialog(),$("#show_cc_form").find("i").removeClass("fa-spin fa-fw fa-spinner")})},{init:e}}(),paypal=function(){function e(){t()}function t(){$("#credit_add_paypal").click(function(e){if($(this).hasClass("ban_buying")){var t=$(this).data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u062d\u0646 \u0627\u0644\u0631\u0635\u064a\u062f \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a  "+t),void e.preventDefault()}})}return{init:e}}(),addToCollectionControl=function(){function e(){t(),i(),n(),o()}function t(){$("#add_to_collection").click(function(e){e.preventDefault(),e.stopPropagation(),$("#add_to_collection_form_wrapper .dialog_content").html('<div class="center"> <i class="fa fa-spinner" fa-spin></i> </div>'),$("#add_to_collection_dialog").show_dialog(),$.getJSON("/ajax/collection/add/"+$("#service_id").val(),function(e){$("#add_to_collection_form_wrapper .dialog_content").html(e.content)})}),$("#add_cart_to_collection").click(function(e){e.preventDefault(),e.stopPropagation(),$("#add_to_collection_form_wrapper .dialog_content").html('<div class="center"> <i class="fa fa-spinner" fa-spin></i> </div>'),$("#add_to_collection_dialog").show_dialog(),$.getJSON("/ajax/collection/add/cart/services",function(e){$("#add_to_collection_form_wrapper .dialog_content").html(e.content)})}),$("#add_collection_to_cart").live("click",function(e){e.preventDefault();var t=$("#collection_id").val(),i=$("#user_token").val();alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0636\u0627\u0641\u0629 \u0645\u062d\u062a\u0648\u0649 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629").set("onok",function(){$.ajax({type:"POST",url:"/cart/collection/add/"+t,dataType:"json",data:{token:i}}).done(function(){notificationsUtil.get_notifications(),alertsControl.clear_style();var e="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0625\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d.";alertify.confirm(e).setting("title","\u0625\u0634\u0639\u0627\u0631").set("onok",function(){window.location="/cart"}).set({labels:{ok:"\u0627\u062f\u0641\u0639 \u0627\u0644\u0622\u0646",cancel:"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0632\u064a\u062f"}}),alertsControl.clear_style()}).fail(function(e){alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseJSON.error)})}).set({labels:{ok:"\u0623\u0636\u0641 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629",cancel:"\u062a\u0631\u0627\u062c\u0639",title:""}}),alertsControl.clear_style()})}function a(){success=!0;var e=$("#collection_id").val();if("-1"==e)$("#collection_id").focus(),success=!1;else if("0"==e){""==$.trim($("#collection_title").val())&&($("#collection_title").focus(),success=!1)}return success}function i(){$("#collection_id").live("change",function(){"0"==$(this).val()?$("#create_new_collection").fadeIn():$("#create_new_collection").fadeOut()})}function n(){$("#add_to_collection_form").live("submit",function(){var e,t;$(this);if(valid=a(),!valid)return!1;var i=$("#cart_items").length,n=$("input[name=delete_cart]:first"),o=$("input[name=private_collection]:first"),r=!1;return n.length&&(r=n.is(":checked")),l(),"0"==$("#collection_id").val()?(e="/collection/new",t={title:$("#collection_title").val(),description:$("#collection_description").val(),service_id:$("#service_id").val(),"private":o.is(":checked"),token:$("#user_token").val(),cart:i,delete_cart:r}):(t={token:$("#user_token").val()},$("#service_id").length?e="/collection/"+$("#collection_id").val()+"/add/"+$("#service_id").val():(t.delete_cart=r,e="/collection/"+$("#collection_id").val()+"/add/cart/services")),$("#add_to_collection_form_wrapper").find(".dialog_message").addClass("hidden").html(""),$.ajax({type:"POST",url:e,dataType:"json",data:t}).done(function(e){if(s(),e.cart){notificationsUtil.get_notifications();var t=$("<div></div>").text(e.title).html(),i="\u062a\u0645 \u062d\u0641\u0638 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0641\u064a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 <a href='"+$("<div></div>").text(e.url).html()+"' class='u-clr--primary'>"+t+"</a> \u0628\u0646\u062c\u0627\u062d.";alertsControl.show("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638!",i),r&&($("#cart_items").html('<div class="c-card"><div class="c-card__body u-no--padding"><div class="u-text--center u-padding">\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0641\u0627\u0631\u063a\u0629</div></div></div>'),$(".cart_button").addClass("hidden"))}else alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d")}).fail(function(e){c(),$("#add_to_collection_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseJSON.error)}),!1})}function o(){$(document).keyup(function(e){27==e.keyCode&&s()}),$("#container").on("click",function(){s()}),$("#add_to_collection_cancel").live("click",function(){s()})}function s(){$(".dialog").each(function(){$(this).close_dialog()})}function l(){$("#add_cart_to_collection_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...'),$("#add_cart_to_collection_button").prop("disabled",!0),$("#add_cart_to_collection_button").addClass("disabled"),$("#add_to_collection_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...'),$("#add_to_collection_button").prop("disabled",!0),$("#add_to_collection_button").addClass("disabled")}function c(){$("#add_to_collection_button").html("\u0625\u0636\u0627\u0641\u0629"),$("#add_to_collection_button").prop("disabled",!1),$("#add_to_collection_button").removeClass("disabled"),$("#add_cart_to_collection_button").html("\u0625\u0636\u0627\u0641\u0629"),
$("#add_cart_to_collection_button").prop("disabled",!1),$("#add_cart_to_collection_button").removeClass("disabled")}return{init:e}}(),addCollectionControl=function(){function e(){t(),n(),o()}function t(){$(".add_collection, .edit_collection").click(function(e){e.preventDefault(),e.stopPropagation(),$("#collection_dialog").show_dialog()})}function i(){return success=!0,""==$.trim($("#collection_title").val())&&($("#collection_title").addClass("error"),$("#collection_title").focus(),success=!1),success}function n(){$("#collection_form").live("submit",function(){$(this);if(valid=i(),!valid)return!1;a();var e=$("input[name=private_collection]:first");return $("#collection_form_wrapper").find(".dialog_message").addClass("hidden").html(""),$.post($(this).prop("action"),{title:$("#collection_title").val(),description:$("#collection_description").val(),"private":e.is(":checked"),token:$("#user_token").val(),back:$("#back").val()},null,"json").done(function(e){r(),e.cart?(r(),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 <a href='"+e.url+"' class='u-clr--primary'>"+e.title+"</a> \u0628\u0646\u062c\u0627\u062d")):window.location=e.redirect_url}).fail(function(e){s(),$("#collection_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseJSON.error)}),!1})}function o(){$(document).keyup(function(e){27==e.keyCode&&r()}),$("#container").on("click",function(){r()}),$("#collection_cancel").live("click",function(){r()})}function r(){$(".dialog").each(function(){$(this).close_dialog()})}function a(){var e="add"==$("#op_type").val()?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...";$("#collection_button").prop("value",e),$("#collection_button").prop("disabled",!0),$("#collection_button").addClass("disabled")}function s(){var e="add"==$("#op_type").val()?"\u0625\u0636\u0627\u0641\u0629":"\u062a\u062d\u062f\u064a\u062b";$("#collection_button").prop("value",e),$("#collection_button").prop("disabled",!1),$("#collection_button").removeClass("disabled")}return{init:e}}(),collectionControl=function(){function e(){i(),n(),t(),r(),o()}function t(){addToCollectionControl.init()}function i(){addCollectionControl.init()}function n(){$(".delete_collection").live("click",function(e){e.preventDefault();var t=$(this),i=t.prop("id").split("_")[1];alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f").set("onok",function(){t.html('<i class="fa fa-spinner fa-spin"></i>'),$.post("/collection/"+i+"/delete",{token:$("#user_token").val()},null,"json").done(function(e){window.location=e.redirect_url})}).set({labels:{ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}}),alertsControl.clear_style()})}function o(){$(".service.removable").hover(function(){$(this).find(".remove_from_collection").fadeIn()},function(){$(this).find(".remove_from_collection").fadeOut()}),$(".remove_from_collection").live("click",function(e){e.preventDefault();var t=$(this);alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f").set("onok",function(){t.parents(".removable_service").fadeOut(),$.post(t.prop("href"),{token:$("#user_token").val()},null,"json").done(function(){}).fail(function(){t.parents(".removable_service").fadeIn()})}).set({labels:{ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}}),alertsControl.clear_style()})}function r(){$(".add_embeded_collection").click(function(e){e.preventDefault(),e.stopPropagation(),$.getJSON("/ajax/collection/form",function(e){$("#collection_form_wrapper").html(e.content),$("#collection_dialog").show_dialog()})}),$(".edit_embeded_collection").click(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.find("i").addClass("fa-spinner fa-spin fa-fw");var i=$(this).attr("data-id");$.getJSON("/ajax/collection/form",{id:i},function(e){$("#collection_form_wrapper").html(e.content),$("#collection_dialog").show_dialog(),t.find("i").removeClass("fa-spinner fa-spin fa-fw")})})}return{init:e}}(),cartControl=function(){function e(){i(),o(),n()}function n(){s(),r(),a(),c()}function t(){var e=0<$("#cart-page").length,t=0<$("#add_to_cart_btn").length;return e||t}function i(){$("#cart_items").length&&($("#cart_loading").removeClass("hidden"),$.get("/cart/items",function(e){$("#cart_items").html(e),$("#cart_loading").addClass("hidden"),n(),$(".tooltip").tooltipster({maxWidth:250}),$(".cart_button").removeClass("hidden")}))}function o(){$("#add_to_cart_btn").click(function(e){e.preventDefault();var o=$(this);if(o.hasClass("ban_buying")){var t=o.data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u0631\u0627\u0621 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a "+t)}else{var i=$("#user_token").val(),n=[],r=$("#service_id").val(),a=$("#service_quantity").val();$.each($(".service_upgrade_check:checked"),function(){var e=$(this);n.push(e.val())});var s="/cart";$.ajax({url:s,method:"post",dataType:"json",data:{token:i,service_id:r,upgrade_ids:n,quantity:a},beforeSend:function(){d(o)}}).done(function(e){h(o),p(),f(e)}).fail(function(e,t,i){h(o);var n="";n=401==e.status?e.responseText||i:500==e.status?"\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.":"\u0639\u0630\u0631\u0627 \u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.",alertsControl.show("\u0625\u0634\u0639\u0627\u0631",n)})}})}function r(){$(".cart_item_quantity").change(function(){var e=$(this),t=e.val(),i=e.attr("id").split("-")[1],n=$("#cart-item-"+i).val().split(":")[0],o=[];$("#upgrades-"+i+" .cart_item_service_upgrade:checked").each(function(){var e=$(this);o.push(e.val())});var r=n+":"+t+":"+o;$("#cart-item-"+i).val(r),l()})}function a(){$(".cart_item_service_upgrade").change(function(){elem=$(this),parent_item=elem.closest("ul"),parent_item_splitted=parent_item.attr("id").split("-"),item_id=parent_item_splitted[1];var e=$("#cart-item-"+item_id).val().split(":")[0],t=$("#quantity-"+item_id).val(),i=[];$("#upgrades-"+item_id+" .cart_item_service_upgrade:checked").each(function(){var e=$(this);i.push(e.val())});var n=e+":"+t+":"+i;$("#cart-item-"+item_id).val(n),l()})}function s(){$(".remove_cart_item").click(function(e){e.preventDefault();var t=$(this);item_id=t.attr("data-id"),alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u061f").set("onok",function(){$("#cart-item-"+item_id).remove(),l()}),alertsControl.clear_style()})}function l(){var e=$("#cart_items_form"),t=e.attr("action"),i=$("#cart_checkout_form").find(":submit");$.ajax({url:t,method:"put",dataType:"json",data:e.serialize(),beforeSend:function(){$(".cart_suggested_services").addClass("hidden"),$("#cart_loading").removeClass("hidden"),i.addClass("disabled"),i.attr("disabled",!0)}}).done(function(e){$("#cart_items").html(e.html_content),$(".tooltip").tooltipster({maxWidth:250}),0==e.count&&$(".cart_button").hide(),n(),p()}).fail(function(e){var t="";t=500==e.status?"\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.":e.status+" "+e.responseText,alertsControl.show("\u0625\u0634\u0639\u0627\u0631",t)}).complete(function(){$("#cart_loading").addClass("hidden"),i.removeClass("disabled"),i.attr("disabled",!1)})}function c(){$("#cart_checkout_form").click(function(e){e.preventDefault(),$(".cart_suggested_services").addClass("hidden");var t=$(this),i=$("#user_token").val(),n="/cart/checkout/";$.ajax({url:n,method:"post",dataType:"json",data:{token:i},beforeSend:function(){t.find(":submit").addClass("disabled"),t.find(":submit").attr("disabled",!0)}}).done(function(e){$("#cart_items").html(e.html_content),$(".tooltip").tooltipster({maxWidth:250}),$("#cart_items").removeClass("hidden"),$("#cart_loading").addClass("hidden"),$(".cart_item_quantity").addClass("disabled"),$(".cart_item_quantity").attr("disabled",!0),$(".cart_item_service_upgrade").addClass("disabled"),$(".cart_item_service_upgrade").attr("disabled",!0),$(".remove_cart_item").remove(),creditCardControl.init(),u()}).fail(function(e,t,i){"timeout"==i?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):302==e.status?window.location.href=e.responseText:alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText).set("onok",function(){window.location.reload()})}).complete(function(){t.find(":submit").removeClass("disabled"),t.find(":submit").attr("disabled",!1),$(".cart_suggested_services").removeClass("hidden")})})}function u(){$("#pay_account_credit").live("click",function(e){if(e.preventDefault(),!$(this).prop("disabled")){var t=$(this).closest("form");alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0644\u062f\u0641\u0639 \u0645\u0646 \u0631\u0635\u064a\u062f\u0643 \u0627\u0644\u0645\u062a\u0627\u062d \u0641\u064a \u062e\u0645\u0633\u0627\u062a\u061f \u0644\u0646 \u064a\u062a\u0645 \u062e\u0635\u0645 \u0627\u0644\u0631\u0633\u0648\u0645 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u062d\u0627\u0644\u0629.").set("onok",function(){t.submit()}),alertsControl.clear_style()}})}function d(e){e.prop("disabled",!0),e.addClass("disabled"),e.find("i").addClass("fa-spinner fa-spin")}function h(e){e.removeClass("disabled"),e.prop("disabled",!1),e.find("i").removeClass("fa-spinner fa-spin")}function f(e){count=e.count,0<count&&(alertify.confirm("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a").set("onok",function(){window.location="/cart"}).set({labels:{ok:"\u0627\u062f\u0641\u0639 \u0627\u0644\u0622\u0646",cancel:"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0632\u064a\u062f"}}),alertsControl.clear_style())}function p(){notificationsUtil.get_notifications()}return{init:e,enabled:t}}(),comments=function(){function e(){return 0<$('[data-commentable="true"]').length}function t(){return $('[data-commentable="true"]').data("commentable-id")}function i(){return $('[data-commentable="true"]').data("commentable-type")}function d(){return n().data("id")}function n(){return $('[data-commentable="true"] .comments').children().last()}function o(){return{commentable_type:i(),commentable_id:t(),last_id:d()}}function r(){e()&&(a(),m=d()||0,$(window).on("resize focus scroll",f),s())}function a(){$("#commentable_form").live("submit",function(e){e.preventDefault();var t=$(this),i=$("#commentable_submit"),n=disable_btn(i),o=$("#commentable_form textarea[name=content]:first").val(),r=$("#commentable_form input[name=confirm]:first"),a=$("#user_token").val(),s=AttachmentUploader.get_attachments(),l=$("#commentable_form input[name=voicemessage]:first").val(),c={content:o,token:a,"attachments[]":s};l&&(c.voicemessage=l);var u={type:"post",url:t.attr("action"),data:c};r.length&&r.is(":checked")&&(c.confirm=0),d()&&(c.last_id=d()),u={type:"post",url:t.attr("action"),data:c},$.ajax(u).done(function(e){h(e),t.trigger("reset"),t.find("textarea").focus(),AttachmentUploader.reset_dropzone(),VoiceMessageUploader.clear_recorder()}).fail(function(e,t,i){"timeout"==i?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.")}).always(function(){enable_btn(i,n)})})}function s(e){e=void 0===e||e;var i={iconUrl:"https://khamsat.hsoubcdn.com/assets/images/plyr-74659570e7ea771a2671c58786c0d10ab7e3fd325d0229844758b30c2fa73f5f.svg",invertTime:!1,autopause:!0,i18n:{restart:"\u0625\u0639\u0627\u062f\u0629",rewind:"Rewind {seektime} secs",play:"\u062a\u0634\u063a\u064a\u0644",pause:"\u0627\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0627\u0644\u064a",duration:"\u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",volume:"\u0627\u0644\u0635\u0648\u062a",mute:"\u0635\u0627\u0645\u062a",unmute:"\u063a\u064a\u0631 \u0635\u0627\u0645\u062a",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",normal:"\u0637\u0628\u064a\u0639\u0649",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",loop:"\u062a\u0643\u0631\u0627\u0631",start:"\u0628\u062f\u0627\u064a\u0629",end:"\u0646\u0647\u0627\u064a\u0629",all:"\u0627\u0644\u0643\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",disabled:"\u0645\u0639\u0637\u0651\u0644",advertisement:"Ad"},controls:["play","progress","current-time","volume","settings"]};i.enable=e,Array.from($('[data-type="comment-audio-player"]')).map(function(e){var t=e.parentElement;new Plyr(e,i),t.style.visibility="visible"}),$(".comment-voicemessage").show()}function h(e){$('[data-commentable="true"]').removeClass("hidden");for(var t=$('[data-commentable="true"] .comments'),i=d(),n=0;n<e.length;n++)e[n].id<=i||(t.append(e[n].html_content),e[n].highlight&&l(e[n].id));s(),0<e.length&&u()}function l(e){var t=$(".discussion-item[data-id="+e+"]");document.hasFocus()&&isElementInViewport(t[0])?c(t):p.push(t)}function c(e){e.addClass("highlighted"),setTimeout(function(){e.removeClass("highlighted")},3e3)}function u(){d()>m&&isElementInViewport(n()[0])&&(m=d(),$.post(window.location.pathname+"/seen"))}function f(){for(var e=0;e<p.length;e++)isElementInViewport(p[e][0])&&(c(p[e]),p.splice(e,1));u()}var p=[],m=0;return{init:r,fetch_params:o,append:h,enabled:e}}(),ordersUtil=function(){function e(e){var t=$("#manage-order-template").children().clone(),i="\u0627\u0644\u062d\u0627\u0644\u0629: "+e.print_status,n=$(".page_header--title span"),o="label label-"+e.status;n.removeAttr("class"),n.addClass(o),n.html(e.print_status);var r=e.seller_status_message;t.find(".order-status").html(i),t.find(".order-status-message").html(r),e.show_delivery_date?(t.find(".order-status-date span:first").html(e.expected_at),e.order_delivery_delay&&t.find(".order-delivery-date").html(e.order_delivery_delay)):t.find(".order-status-date").remove(),e.can_seller_deliver||(t.find("a#deliver_order").parent().remove(),alertify.confirm().close()),e.can_seller_decline||(t.find("a#decline_order_main").parent().remove(),$("#decline_order_wrapper").hide()),$(".manage-order-body").html(t)}function t(e){var t=$("#manage-order-template").children().clone(),i="\u0627\u0644\u062d\u0627\u0644\u0629: "+e.print_status,n=e.buyer_status_message;t.find(".order-status").html(i),t.find(".order-status-message").html(n);var o=$(".page_header--title span"),r="label label-"+e.status;o.removeAttr("class"),o.addClass(r),o.html(e.print_status),e.show_delivery_date?(t.find(".order-status-date span:first").html(e.expected_at),e.order_delivery_delay&&t.find(".order-delivery-date").html(e.order_delivery_delay)):t.find(".order-status-date").remove(),e.can_buyer_approve||(t.find("a#approve_purchase").parent().remove(),alertify.confirm().close()),e.can_buyer_reject||(t.find("a#reject_purchase_main").parent().remove(),$("#reject_purchase_wrapper").hide()),e.can_buyer_decline||(t.find("a#decline_purchase_main").parent().remove(),$("#decline_purchase_wrapper").hide()),e.can_buyer_request_decline||(t.find("a#request_purchase_decline_main").parent().remove(),$("#request_purchase_decline_wrapper").hide()),$(".manage-order-body").html(t)}function i(){}return{init:i,append_manage_order:e,append_manage_purchase:t}}();!function(t,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("jquery")):t.jQueryBridget=i(t,t.jQuery)}(window,function(e,n){"use strict";function t(c,o,u){function t(e,r,a){var s,l="$()."+c+'("'+r+'")';return e.each(function(e,t){var i=u.data(t,c);if(i){var n=i[r];if(n&&"_"!=r.charAt(0)){var o=n.apply(i,a);s=void 0===s?o:s}else d(l+" is not a valid method")}else d(c+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==s?s:e}function i(e,n){e.each(function(e,t){var i=u.data(t,c);i?(i.option(n),i._init()):(i=new o(t,n),u.data(t,c,i))})}(u=u||n||e.jQuery)&&(o.prototype.option||(o.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[c]=function(e){return"string"==typeof e?t(this,e,a.call(arguments,1)):(i(this,e),this)},r(u))}function r(e){!e||e&&e.bridget||(e.bridget=t)}var a=Array.prototype.slice,i=e.console,d=void 0===i?function(){}:function(e){i.error(e)};return r(n||e.jQuery),t}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function v(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function e(){}function y(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<C;t++){e[k[t]]=0}return e}function b(e){var t=getComputedStyle(e);return t||i("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function _(){if(!o){o=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var i=b(e);w=200==Math.round(v(i.width)),n.isBoxSizeOuter=w,t.removeChild(e)}}function n(e){if(_(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=b(e);if("none"==t.display)return y();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var n=i.isBorderBox="border-box"==t.boxSizing,o=0;o<C;o++){var r=k[o],a=t[r],s=parseFloat(a);i[r]=isNaN(s)?0:s}var l=i.paddingLeft+i.paddingRight,c=i.paddingTop+i.paddingBottom,u=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,p=n&&w,m=v(t.width);!1!==m&&(i.width=m+(p?0:l+h));var g=v(t.height);return!1!==g&&(i.height=g+(p?0:c+f)),i.innerWidth=i.width-(l+h),i.innerHeight=i.height-(c+f),i.outerWidth=i.width+u,i.outerHeight=i.height+d,i}}var w,i="undefined"==typeof console?e:function(e){console.error(e)},k=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],C=k.length,o=!1;return n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var i=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i]+"MatchesSelector";if(e[n])return n}}();return function(e,t){return e[i](t)}}),function(t,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("desandro-matches-selector")):t.fizzyUIUtils=i(t,t.matchesSelector)}(window,function(n,r){var u={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;u.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},u.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},u.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},u.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},u.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.filterFindElements=function(e,n){e=u.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement){if(!n)return void o.push(e);r(e,n)&&o.push(e);for(var t=e.querySelectorAll(n),i=0;i<t.length;i++)o.push(t[i])}}),o},u.debounceMethod=function(e,t,n){n=n||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,t),delete i[r]},n)}},u.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},u.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var d=n.console;return u.htmlInit=function(l,c){u.docReady(function(){var e=u.toDashed(c),o="data-"+e,r=document.querySelectorAll("["+o+"]"),t=document.querySelectorAll(".js-"+e),i=u.makeArray(r).concat(u.makeArray(t)),a=o+"-options",s=n.jQuery;i.forEach(function(e){var t,i=e.getAttribute(o)||e.getAttribute(a);try{t=i&&JSON.parse(i)}catch(r){return void(d&&d.error("Error parsing "+o+" on "+e.className+": "+r))}var n=new l(e,t);s&&s.data(e,c,n)})})},u}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=i(t,t.getSize))}(window,function(e,t){function i(e,t){this.element=e,this.parent=t,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var e=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[e]=""},n.getSize=function(){this.size=t(this.element)},n.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},n.updateTarget=n.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},n.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},n.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),i=t?t.size[e]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.changeSelected(!0)},t.unselect=function(){this.changeSelected(!1)},t.changeSelected=function(t){var i=t?"add":"remove";this.cells.forEach(function(e){e.element.classList[i]("is-selected"),e.element.setAttribute("aria-selected",t.toString())})},t.getCellElements=function(){return this.cells.map(function(e){return e.element})},e}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=i(t,t.fizzyUIUtils))}(window,function(e,r){var t={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;requestAnimationFrame(function(){t.animate()})}},positionSlider:function(){var e=this.x;this.options.wrapAround&&1<this.cells.length&&(e=r.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var t=this.getPositionValue(e);this.slider.style.transform=this.isAnimating?"translate3d("+t+",0,0)":"translateX("+t+")";var i=this.slides[0];if(i){var n=-this.x-i.target,o=n/this.slidesWidth;this.dispatchEvent("scroll",null,[o,n])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var i=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(e,t,i){for(var n=0;n<e.length;n++){var o=e[n],r=0<t?i:0;o.wrapShift(r),t-=o.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){if(!(this.isDraggable&&this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}};return t}),function(a,s){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(e,t,i,n,o,r){return s(a,e,t,i,n,o,r)});else if("object"==typeof module&&module.exports)module.exports=s(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var e=a.Flickity;a.Flickity=s(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,e.Cell,e.Slide,e.animatePrototype)}}(window,function(n,e,t,s,i,a,o){function r(e,t){for(e=s.makeArray(e);e.length;)t.appendChild(e.shift())}function l(e,t){var i=s.getQueryElement(e);if(i){if(this.element=i,this.element.flickityGUID){var n=f[this.element.flickityGUID];return n.option(t),n}c&&(this.$element=c(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(t),this._create()}else d&&d.error("Bad element for Flickity: "+(i||e))}var c=n.jQuery,u=n.getComputedStyle,d=n.console,h=0,f={};l.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},l.createMethods=[];var p=l.prototype;s.extend(p,e.prototype),p._create=function(){var e=this.guid=++h;for(var t in this.element.flickityGUID=e,(f[e]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[t];this.on(t,i)}l.createMethods.forEach(function(e){this[e]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(e){s.extend(this.options,e)},p.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),r(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,t=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==t&&this.cells[t]?t:0,this.select(e,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},p._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},p._filterFindCellElements=function(e){return s.filterFindElements(e,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),
this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(e){return this._filterFindCellElements(e).map(function(e){return new i(e,this)},this)},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(0<e){var i=this.cells[e-1];t=i.x+i.size.outerWidth}for(var n=this.cells.length,o=e;o<n;o++){var r=this.cells[o];r.setPosition(t),t+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(e){e.forEach(function(e){e.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var n=new a(this);this.slides.push(n);var o="left"==this.originSide?"marginRight":"marginLeft",r=this._getCanCellFit();this.cells.forEach(function(e,t){if(n.cells.length){var i=n.outerWidth-n.firstMargin+(e.size.outerWidth-e.size[o]);r.call(this,t,i)||(n.updateTarget(),n=new a(this),this.slides.push(n)),n.addCell(e)}else n.addCell(e)},this),n.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var i="string"==typeof e&&e.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=t(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var e=m[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},p._getGapCells=function(e,t,i){for(var n=[];0<e;){var o=this.cells[t];if(!o)break;n.push(o),t+=i,e-=o.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",i=e?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],o=n<this.size.innerWidth,r=this.cursorPosition+this.cells[0].size[t],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(e){o?e.target=n*this.cellAlign:(e.target=Math.max(e.target,r),e.target=Math.min(e.target,a))},this)}},p.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),c&&this.$element){var o=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var r=c.Event(t);r.type=e,o=r}this.$element.trigger(o,i)}},p.select=function(e,t,i){if(this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=s.modulo(e,this.slides.length)),this.slides[e])){var n=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=n&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")}},p._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&1<t))return e;var i=s.modulo(e,t),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+t-this.selectedIndex),r=Math.abs(i-t-this.selectedIndex);!this.isDragSelect&&o<n?e+=t:!this.isDragSelect&&r<n&&(e-=t),e<0?this.x-=this.slideableWidth:t<=e&&(this.x+=this.slideableWidth)},p.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},p.next=function(e,t){this.select(this.selectedIndex+1,e,t)},p.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),(this.selectedSlide=e).select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectCell=function(e,t,i){var n=this.queryCell(e);if(n){var o=this.getCellSlideIndex(n);this.select(o,t,i)}},p.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++){if(-1!=this.slides[t].cells.indexOf(e))return t}},p.getCell=function(e){for(var t=0;t<this.cells.length;t++){var i=this.cells[t];if(i.element==e)return i}},p.getCells=function(e){e=s.makeArray(e);var i=[];return e.forEach(function(e){var t=this.getCell(e);t&&i.push(t)},this),i},p.getCellElements=function(){return this.cells.map(function(e){return e.element})},p.getParentCell=function(e){var t=this.getCell(e);return t||(e=s.getParent(e,".flickity-slider > *"),this.getCell(e))},p.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var i=this.slides.length;if(i<=1+2*e)return this.getCellElements();for(var n=[],o=t-e;o<=t+e;o++){var r=this.options.wrapAround?s.modulo(o,i):o,a=this.slides[r];a&&(n=n.concat(a.getCellElements()))}return n},p.queryCell=function(e){return"number"==typeof e?this.cells[e]:("string"==typeof e&&(e=this.element.querySelector(e)),this.getCell(e))},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(e){this.emitEvent("childUIPointerDown",[e])},p.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(l,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},p.watchCSS=function(){this.options.watchCSS&&(-1!=u(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!t){var i=l.keyboardHandlers[e.keyCode];i&&i.call(this)}},l.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},p.focus=function(){var e=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=e&&n.scrollTo(n.pageXOffset,e)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(e){e.destroy()}),this.element.removeChild(this.viewport),r(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.emitEvent("destroy"),c&&this.$element&&c.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete f[this.guid]},s.extend(p,o),l.data=function(e){var t=(e=s.getQueryElement(e))&&e.flickityGUID;return t&&f[t]},s.htmlInit(l,"flickity"),c&&c.bridget&&c.bridget("flickity",l),l.setJQuery=function(e){c=e},l.Cell=i,l}),function(t,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("ev-emitter")):t.Unipointer=i(t,t.EvEmitter)}(window,function(o,e){function t(){}function i(){}var n=i.prototype=Object.create(e.prototype);n.bindStartEvent=function(e){this._bindStartEvent(e,!0)},n.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},n._bindStartEvent=function(e,t){var i=(t=void 0===t||t)?"addEventListener":"removeEventListener",n="mousedown";o.PointerEvent?n="pointerdown":"ontouchstart"in o&&(n="touchstart"),e[i](n,this)},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.getTouch=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.identifier==this.pointerIdentifier)return i}},n.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},n.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},n.onpointerdown=function(e){this._pointerDown(e,e)},n._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},n.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return n._bindPostStartEvents=function(e){if(e){var t=r[e.type];t.forEach(function(e){o.addEventListener(e,this)},this),this._boundPointerEvents=t}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){o.removeEventListener(e,this)},this),delete this._boundPointerEvents)},n.onmousemove=function(e){this._pointerMove(e,e)},n.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},n.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},n._pointerMove=function(e,t){this.pointerMove(e,t)},n.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},n.onmouseup=function(e){this._pointerUp(e,e)},n.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},n.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},n._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},n.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},n._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},n._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},n.pointerDone=t,n.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},n.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},n._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},n.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},i.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},i}),function(t,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("unipointer")):t.Unidragger=i(t,t.Unipointer)}(window,function(r,e){function t(){}var i=t.prototype=Object.create(e.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(e){for(var t=(e=void 0===e||e)?"addEventListener":"removeEventListener",i=e?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,e),o[t]("click",this),r.PointerEvent&&(o.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},a={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(e){var t=o[e.target.nodeName],i=a[e.target.type],n=!t||i;return n||this._pointerReset(),n},i.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},i.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,i]),this._dragMove(e,t,i)},i._dragPointerMove=function(e,t){var i={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(e,t),i},i.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},i._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},i.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},i._dragMove=function(e,t,i){this.isDragging&&this.dragMove(e,t,i)},i.dragMove=function(e,t,i){e.preventDefault(),this.emitEvent("dragMove",[e,t,i])},i._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},i.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},i.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},i._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},t.getPointerPoint=e.getPointerPoint,t}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(e,t,i){return o(n,e,t,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=o(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,e,t,s){function n(){return{x:i.pageXOffset,y:i.pageYOffset}}s.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var o=e.prototype;s.extend(o,t.prototype),o._touchActionValue="pan-y";var r="createTouch"in document,a=!1;o._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),r&&!a&&(i.addEventListener("touchmove",function(){}),a=!0)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},o.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},o.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},o._uiChangeDrag=function(){delete this.isFreeScrolling},o._childUIPointerDownDrag=function(e){e.preventDefault(),this.pointerDownFocus(e)},o.pointerDown=function(e,t){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=n(),i.addEventListener("scroll",this),this._pointerDownDefault(e,t)):this._pointerDownDefault(e,t)},o._pointerDownDefault=function(e,t){this.pointerDownPointer=t,this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var l={INPUT:!0,TEXTAREA:!0,SELECT:!0};return o.pointerDownFocus=function(e){l[e.target.nodeName]||this.focus()},o._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,i="touch"==e.pointerType,n=l[e.target.nodeName];t||i||n||e.preventDefault()},o.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},o.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},o.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(e,t){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[t]))},o.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,i]),this._dragMove(e,t,i)},o.dragMove=function(e,t,i){if(this.isDraggable){e.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);o=r<o?.5*(o+r):o;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<a?.5*(o+a):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,i])}},o.dragEnd=function(e,t){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])}},o.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),i=this._getClosestResting(e,t,1),n=this._getClosestResting(e,t,-1);return i.distance<n.distance?i.index:n.index},o._getClosestResting=function(e,t,i){for(var n=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};r(t,o)&&(n+=i,o=t,null!==(t=this.getSlideDistance(-e,n)));)t=Math.abs(t);return{distance:o,index:n-i}},o.getSlideDistance=function(e,t){var i=this.slides.length,n=this.options.wrapAround&&1<i,o=n?s.modulo(t,i):t,r=this.slides[o];if(!r)return null;var a=n?this.slideableWidth*Math.floor(t/i):0;return e-(r.target+a)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return 0<e&&0<t?1:e<0&&t<0?-1:0},o.staticClick=function(e,t){var i=this.getParentCell(e.target),n=i&&i.element,o=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",e,[t,n,o])},o.onscroll=function(){var e=n(),t=this.pointerDownScroll.x-e.x,i=this.pointerDownScroll.y-e.y;(3<Math.abs(t)||3<Math.abs(i))&&this._pointerDone()},e}),function(t,i){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("unipointer")):t.TapListener=i(t,t.Unipointer)}(window,function(s,l){function e(e){this.bindTap(e)}var t=e.prototype=Object.create(l.prototype);return t.bindTap=function(e){e&&(this.unbindTap(),this.tapElement=e,this._bindStartEvent(e,!0))},t.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},t.pointerUp=function(e,t){if(!this.isIgnoringMouseUp||"mouseup"!=e.type){var i=l.getPointerPoint(t),n=this.tapElement.getBoundingClientRect(),o=s.pageXOffset,r=s.pageYOffset;if(i.x>=n.left+o&&i.x<=n.right+o&&i.y>=n.top+r&&i.y<=n.bottom+r&&this.emitEvent("tap",[e,t]),"mouseup"!=e.type){this.isIgnoringMouseUp=!0;var a=this;setTimeout(function(){delete a.isIgnoringMouseUp},400)}}},t.destroy=function(){this.pointerDone(),this.unbindTap()},e}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(e,t,i){return o(n,e,t,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):o(n,n.Flickity,n.TapListener,n.fizzyUIUtils)}(window,function(e,t,i,n){"use strict";function o(e,t){this.direction=e,this.parent=t,this._create()}function r(e){return"string"==typeof e?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z"}var a="http://www.w3.org/2000/svg";o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();t.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(a,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t=document.createElementNS(a,"path"),i=r(this.parent.options.arrowShape);return t.setAttribute("d",i),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(t),e},o.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(e){var t=document.activeElement;t&&t==this.element&&this.onTap(e,e)},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&1<e.length)this.enable();else{var t=e.length?e.length-1:0,i=this.isPrevious?0:t;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate()},n.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var s=t.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(e,t,i){return o(n,e,t,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):o(n,n.Flickity,n.TapListener,n.fizzyUIUtils)}(window,function(e,t,i,n){function o(e){this.parent=e,this._create()}o.prototype=new i,o.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},o.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;0<e?this.addDots(e):e<0&&this.removeDots(-e)},o.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),i=[],n=this.dots.length,o=n+e,r=n;r<o;r++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(r+1)),t.appendChild(a),i.push(a)}this.holder.appendChild(t),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach(function(e){this.holder.removeChild(e)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var i=this.dots.indexOf(t);this.parent.select(i)}},o.prototype.destroy=function(){this.deactivate()},t.PageDots=o,n.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var r=t.prototype;return r._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},r.activatePageDots=function(){this.pageDots.activate()},r.updateSelectedPageDots=function(){this.pageDots.updateSelected()},r.updatePageDots=function(){this.pageDots.setDots()},r.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=o,t}),function(e,n){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(e,t,i){return n(e,t,i)}):"object"==typeof module&&module.exports?module.exports=n(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):n(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,function(e,t,i){function n(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(e.prototype),n.prototype.play=function(){if("playing"!=this.state){if(document.hidden)return void document.addEventListener("visibilitychange",this.onVisibilityPlay);this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()}},n.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout(function(){t.parent.next(!0),t.tick()},e)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var o=i.prototype;return o._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},o.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},o.playPlayer=function(){this.player.play()},o.stopPlayer=function(){this.player.stop()},o.pausePlayer=function(){this.player.pause()},o.unpausePlayer=function(){this.player.unpause()},o.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},o.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},o.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(e,t,n){function l(e){var t=document.createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element)}),t}var i=t.prototype;return i.insert=function(e,t){var i=this._makeCells(e);if(i&&i.length){var n=this.cells.length;t=void 0===t?n:t;var o=l(i),r=t==n;if(r)this.slider.appendChild(o);else{var a=this.cells[t].element;this.slider.insertBefore(o,a)}if(0===t)this.cells=i.concat(this.cells);else if(r)this.cells=this.cells.concat(i);else{var s=this.cells.splice(t,n-t);this.cells=this.cells.concat(i).concat(s)}this._sizeCells(i),this.cellChange(t,!0)}},i.append=function(e){this.insert(e,this.cells.length)},i.prepend=function(e){this.insert(e,0)},i.remove=function(e){var t=this.getCells(e);if(t&&t.length){var i=this.cells.length-1;t.forEach(function(e){e.remove();var t=this.cells.indexOf(e);i=Math.min(t,i),n.removeFrom(this.cells,e)},this),this.cellChange(i,!0)}},i.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var i=this.cells.indexOf(t);this.cellChange(i)}},i.cellChange=function(e,t){var i=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(e,t,a){"use strict";function o(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),i=e.getAttribute("data-flickity-lazyload-src"),n=e.getAttribute("data-flickity-lazyload-srcset");if(t||i||n)return[e]}var o="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",r=e.querySelectorAll(o);return a.makeArray(r)}function r(e,t){this.img=e,this.flickity=t,this.load()}t.createMethods.push("_createLazyload");var i=t.prototype;return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,i=this.getAdjacentCellElements(t),n=[];i.forEach(function(e){var t=o(e);n=n.concat(t)}),n.forEach(function(e){new r(e,this)},this)}},r.prototype.handleEvent=a.handleEvent,r.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},r.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},r.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},r.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,n)},t.LazyLoader=r,t}),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))
}(window,function(e){return e}),function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,function(n,o){function a(e,t,i){return(t-e)*i+e}n.createMethods.push("_createAsNavFor");var e=n.prototype;return e._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e=this.options.asNavFor;if(e){var t=this;setTimeout(function(){t.setNavCompanion(e)})}},e.setNavCompanion=function(e){e=o.getQueryElement(e);var t=n.data(e);if(t&&t!=this){this.navCompanion=t;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()},t.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},e.navCompanionSelect=function(e){if(this.navCompanion){var t=this.navCompanion.selectedCells[0],i=this.navCompanion.cells.indexOf(t),n=i+this.navCompanion.selectedCells.length-1,o=Math.floor(a(i,n,this.navCompanion.cellAlign));if(this.selectCell(o,!1,e),this.removeNavSelectedElements(),!(o>=this.cells.length)){var r=this.cells.slice(i,n+1);this.navSelectedElements=r.map(function(e){return e.element}),this.changeNavSelectedClass("add")}}},e.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},e.activateAsNavFor=function(){this.navCompanionSelect(!0)},e.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},e.onNavStaticClick=function(e,t,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},e.deactivateAsNavFor=function(){this.removeNavSelectedElements()},e.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(t,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("ev-emitter")):t.imagesLoaded=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function o(e,t){for(var i in t)e[i]=t[i];return e}function r(e){return Array.isArray(e)?e:"object"==typeof e&&"number"==typeof e.length?c.call(e):[e]}function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);var n=e;return"string"==typeof e&&(n=document.querySelectorAll(e)),n?(this.elements=r(n),this.options=o({},this.options),"function"==typeof t?i=t:o(this.options,t),i&&this.on("always",i),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(n||e))}function i(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}var s=t.jQuery,l=t.console,c=Array.prototype.slice;a.prototype=Object.create(e.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var a=r[n];this.addElementBackgroundImages(a)}}}};var u={1:!0,9:!0,11:!0};return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new i(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var i=new n(e,t);this.images.push(i)},a.prototype.check=function(){function t(e,t,i){setTimeout(function(){n.progress(e,t,i)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},a.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},i.prototype=Object.create(e.prototype),i.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},i.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype=Object.create(i.prototype),n.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a}),function(i,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(e,t){return n(i,e,t)}):"object"==typeof module&&module.exports?module.exports=n(i,require("flickity"),require("imagesloaded")):i.Flickity=n(i,i.Flickity,i.imagesLoaded)}(window,function(e,t,i){"use strict";t.createMethods.push("_createImagesLoaded");var n=t.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){function e(e,t){var i=n.getParentCell(t.img);n.cellSizeChange(i&&i.element),n.options.freeScroll||n.positionSliderAtSelected()}if(this.options.imagesLoaded){var n=this;i(this.slider).on("progress",e)}},t});var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,n,o,r,a,s,l="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)o=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(i=e.charCodeAt(c++))>>4,a=(15&i)<<2|(n=e.charCodeAt(c++))>>6,s=63&n,isNaN(i)?a=s=64:isNaN(n)&&(s=64),l=l+Base64._keyStr.charAt(o)+Base64._keyStr.charAt(r)+Base64._keyStr.charAt(a)+Base64._keyStr.charAt(s);return l},decode:function(e){var t,i,n,o,r,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=Base64._keyStr.indexOf(e.charAt(l++))<<2|(o=Base64._keyStr.indexOf(e.charAt(l++)))>>4,i=(15&o)<<4|(r=Base64._keyStr.indexOf(e.charAt(l++)))>>2,n=(3&r)<<6|(a=Base64._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(i)),64!=a&&(s+=String.fromCharCode(n));return s=Base64._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):(127<n&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){for(var t="",i=0,n=c1=c2=0;i<e.length;)(n=e.charCodeAt(i))<128?(t+=String.fromCharCode(n),i++):191<n&&n<224?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),i+=3);return t}};$.fn.replace_urls=function(){var e=/(\b(https?|ftp):\/\/[^\s<>"'\(\)]+)/gi,t=["khamsat.com","blog.khamsat.com","support.khamsat.com","suar.me","i.suar.me","mostaql.com","blog.mostaql.com","baaeed.com","blog.baaeed.com","academy.hsoub.com","wiki.hsoub.com","io.hsoub.com","ana.hsoub.com"];return this.each(function(){var n=!1;$(this).html($(this).html().replace(e,function(e,i){return $.each(t,function(e,t){-1<i.indexOf(t)&&(n=!0)}),n?'<a href="'+i+'" rel="nofollow" target="_blank" style="color:#52b035;direction:ltr;display:inline-block;word-break:break-all">'+i+"</a>":'<a href="/redirect?url='+Base64.encode(encodeURI(i))+'" target="_blank" rel="nofollow" style="color:#52b035;direction:ltr;display:inline-block;word-break:break-all">'+i+"</a>"}))}),$(this)},window.show_sub_categories=show_sub_categories,document.addEventListener("DOMContentLoaded",function(){var e,t=document.getElementsByClassName("video__iframe-responsive__youtube");for(e=0;e<t.length;e++)t[e].onclick=labnolIframe}),$(document).ready(function(){function t(){alertify.YoutubeDialog||alertify.dialog("YoutubeDialog",function(){var n;return{main:function(e){return this.set({videoId:e})},setup:function(){return{buttons:[{key:27}],focus:{element:0},options:{padding:!1,overflow:!1}}},build:function(){(n=document.createElement("iframe")).frameBorder="no",n.width="100%",n.height="100%",this.elements.content.appendChild(n),this.elements.body.style.minHeight=.5*screen.height+"px"},settings:{videoId:undefined},settingUpdated:function(e,t,i){switch(e){case"videoId":n.src="https://www.youtube.com/embed/"+i+"?enablejsapi=1&rel=0&showinfo=0"}},hooks:{onclose:function(){n.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")},onupdate:function(e,t,i){switch(e){case"resizable":i?(this.elements.content.removeAttribute("style"),n&&n.removeAttribute("style")):(this.elements.content.style.minHeight="inherit",n&&(n.style.minHeight="inherit"))}}}}})}function e(e){var t=e.replace(/(\/)/,"");t||(t="home"),window.pageYOffset>$(".js-page").offset().top&&$("html,body").animate({scrollTop:0},"fast"),$(".js-page").fadeOut(300,function(){$("#loading").fadeIn(100),$.getJSON("/ajax/"+t,function(e){e.content&&$(".js-page").html(e.content),$("#loading").fadeOut(300,function(){$(".js-page").fadeIn(100)})})}),e!=window.location&&window.history.pushState({path:e},"",e)}function i(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".services_block_list .service-block").each(function(){t.push(this.id.split("-")[1])}),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"service_ids[]":t},function(e){e.count<32?$("#more_content").fadeOut(300,function(){$(".services_block_list:first").append(e.content)}):$(".services_block_list:first").append(e.content),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1},"json")}function n(){!0,$("#loadmore_collection_btn").html("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_collection_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".services_block_list .service-block").each(function(){t.push(this.id.split("-")[1])}),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"service_ids[]":t,token:h},function(e){e.count<32?$("#more_content").fadeOut(300,function(){$(".services_block_list:first").append(e.content)}):$(".services_block_list:first").append(e.content),$("#loadmore_collection_btn").html("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_collection_btn").attr("disabled",!1),!1},"json")}function o(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".reviews_block_list .discussion-item.review").each(function(){t.push(this.id.split("-")[1])}),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"reviews_ids[]":t},function(e){e.count<32?$("#more_content").fadeOut(300,function(){$(".reviews_block_list:first").append(e.content)}):$(".reviews_block_list:first").append(e.content),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1},"json")}function r(){!0,$("#loadmore_pages_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_pages_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=$(".services_block_list .service-block").length/32+1;$.post("/ajax/load_more/"+e,{page:t},function(e){e.count<32?$("#more_content").fadeOut(300,function(){$(".services_block_list:first").append(e.content)}):$(".services_block_list:first").append(e.content),$("#loadmore_pages_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_pages_btn").attr("disabled",!1),!1},"json")}function a(){!0,$("#community_loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#community_loadmore_btn").attr("disabled",!0);var e=$("#community_page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#forums_table .forum_post").each(function(){t.push(this.id.split("-")[1])}),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"posts_ids[]":t},function(e){e.count<25?$("#community_more_content").fadeOut(300,function(){$("#forums_table tbody").append(e.content)}):$("#forums_table tbody").append(e.content),$("#community_loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#community_loadmore_btn").attr("disabled",!1),!1},"json")}function s(){!0,$("#loadmore_notifications_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_notifications_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#notifications_table .notification-item").each(function(){t.push(this.id.split("-")[1])}),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"notification_ids[]":t,token:h},function(e){e.count<100?$("#more_content").fadeOut(300,function(){$("#notifications_table tbody").append(e.content)}):$("#notifications_table tbody").append(e.content),$("#loadmore_notifications_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_notifications_btn").attr("disabled",!1),!1},"json")}function l(){!0,$("#payments_loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#payments_loadmore_btn").attr("disabled",!0);var e=$("#payments_page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#payments_table .payment_id").each(function(){t.push(this.id.split("-")[1])}),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"payments_ids[]":t},function(e){e.count<25?$("#payments_more_content").fadeOut(300,function(){$("#payments_table").append(e.content)}):$("#payments_table").append(e.content),$("#payments_loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#payments_loadmore_btn").attr("disabled",!1),!1},"json")}function c(){var e=$("#forum_name_select").val(),t=$("#"+e+"_description").val(),i=$("#"+e+"_confirmation").val();$("#forum_name_description").html(t),$("#forum_post_confirmation").html(i)}function u(){$.each($(".service_upgrade_days_change"),function(){var e=$(this),t=$(this).attr("name").replace("_change_","_"),i=$("select[name='"+t+"']");"same"==e.val()?(i.addClass("hidden"),e.addClass("full_width"),i.parent().addClass("hidden")):(i.removeClass("hidden"),e.removeClass("full_width"),i.parent().removeClass("hidden"))})}function d(){this.parentElement.classList.toggle("active_faq")}ajax_loading=!1,sidebar_fixed=!1,is_mobile=!1;var h=$("#user_token").val();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(is_mobile=!0),$.ajaxSetup({cache:!1}),$("body").ajaxStart(function(){ajax_loading=!0}),$("body").ajaxStop(function(){ajax_loading=!1}),$(".tooltip").tooltipster({maxWidth:250}),$('a[href="#add_to_cart"]').click(function(e){e.preventDefault(),$("body, html").animate({scrollTop:$("#add_to_cart").offset().top-60},0)}),$("#tips_button").on("click",function(e){e.preventDefault(),t(),videoID=$("#tips_button").attr("data-videoid"),alertify.YoutubeDialog(videoID).set({frameless:!0,maximizable:!1,closable:!0,closableByDimmer:!0}).setting("title","5 \u0646\u0635\u0627\u0626\u062d \u0644\u0642\u0628\u0648\u0644 \u062e\u062f\u0645\u0627\u062a\u0643"),$(".alertify").addClass("tips_and_advice"),$(".ajs-body").attr("style","")}),fix_sidebar=function(){$("#search").css("position","fixed"),$("#search").css("top","20px"),$("#categories").css("position","fixed"),$("#categories").css("top",$("#search").height()+40+"px"),sidebar_over_footer()?hide_sidebar():unhide_sidebar()},unfix_sidebar=function(){$("#search").css("position",""),$("#search").css("top",""),$("#categories").css("position",""),$("#categories").css("top",""),sidebar_over_footer()?hide_sidebar():unhide_sidebar()},hide_sidebar=function(){$("#categories").css("visibility","hidden"),$("#search").css("visibility","hidden")},unhide_sidebar=function(){$("#categories").css("visibility",""),$("#search").css("visibility","")},sidebar_over_footer=function(){var e=$("#categories").offset().top+$("#categories").height()+$("#search").height()-10;if($("#footer_categories").length)var t=$("#footer_categories");else t=$("#footer");return e>t.offset().top},is_mobile||$(window).scroll(function(){$("#categories").length&&$("#search").length&&(sidebar_over_footer()?hide_sidebar():unhide_sidebar(),$(window).scrollTop()>$(".fix_sidebar").offset().top?sidebar_fixed||sidebar_over_footer()||(fix_sidebar(),sidebar_fixed=!0):sidebar_fixed&&(unfix_sidebar(),sidebar_fixed=!1))}),show_sub_categories(),centralised_elements=function(e,t){if(!$(e).hasClass("no_center")){var i=$(e).width()-30,n=0,o=0,r=0;jQuery.each($(e+" "+t),function(){n+=$(this).width(),o+=1}),r=parseInt((i-n)/(o-1)),jQuery.each($(e+" "+t),function(){1<o&&0<r&&$(this).css("margin-left",r+"px"),o-=1})}},$("#service_info .service_info_meta").length?centralised_elements("#service_info .service_info_meta","span"):$("#service_info").length&&centralised_elements("#service_info","span"),$("#message_info").length&&centralised_elements("#message_info","span"),$("#main_category, #to_category, #from_category").live("change",function(){show_sub_categories()}),$("#forum_post_content").replace_urls(),$("#service_page .description").replace_urls(),$(".replace_urls").replace_urls(),$("form").live("submit",function(){$("#khamsatinput").val("")}),$("a[data-href]").live("hover click",function(){var e=$(this);e.attr("href",e.attr("data-href"))}),$("a[data-text]").each(function(){var e=$(this);e.text(e.attr("data-text"))}),$("#categories_btn").click(function(e){e.preventDefault(),"hidden"==$("#categories_list").css("visibility")?$("#categories_list").css("visibility","visible"):$("#categories_list").css("visibility","hidden")}),$("#container, #header > :not(#second_header)").click(function(){"visible"==$("#categories_list").css("visibility")&&$("#categories_list").css("visibility","hidden")}),clean_upload_str=function(e){return e.replace("C:\\fakepath\\","")},$("#loadmore_btn").live("click",function(e){e.preventDefault(),i()}),$("#loadmore_collection_btn").live("click",function(e){e.preventDefault(),n()}),$("#loadmore_reviews_btn").live("click",function(e){e.preventDefault(),o()}),$("#loadmore_pages_btn").live("click",function(e){e.preventDefault(),r()}),$("#community_loadmore_btn").live("click",function(e){e.preventDefault(),a()}),$("#loadmore_notifications_btn").live("click",function(e){e.preventDefault(),s()}),$("#payments_loadmore_btn").live("click",function(e){e.preventDefault(),l()}),$("#credit_hold").live("click",function(){this.checked&&$("#credit_requested").val("0.00")}),$("#change_password_btn").live("click",function(e){e.preventDefault(),$("#change_password").slideDown(500)}),$("#transfer_credit_btn").live("click",function(e){e.preventDefault(),$("#transfer_credit").slideDown(500)}),$("#attach_file_btn").live("click",function(e){e.preventDefault(),$("#attach_file").slideDown(500),$("#attach_file").find(".fileupload").trigger("click")}),$("#attach_file").find(".fileupload").live("change",function(e){e.preventDefault();var t=$("#attach_file").find(".upload_display");t.val($(this).val()),""!=t.val()?$("#attach_file_btn").removeClass("c-button--ghost"):$("#attach_file_btn").addClass("c-button--ghost")}),$(".service").live("mouseover mouseleave",function(e){"mouseover"==e.type?$(this).find(".actions").removeClass("hidden"):$(this).find(".actions").addClass("hidden")}),$("#waiting_payment").length){var f=$("#payment_url").val();setInterval(function(){e(f)},5e3)}$("#reply_attachments_btn").live("click",function(e){e.preventDefault(),$("#attachmentsUploader").toggle()}),$("#reply_voicemessage_btn").live("click",function(e){e.preventDefault(),$("#voicemessageUploader").toggle()}),$("#decline_order_main").live("click",function(e){e.preventDefault(),$(this).attr("disabled")||$("#decline_order_wrapper").toggle()}),$("#decline_order").live("click",function(e){e.preventDefault();var t=this,i=$("#order_id").val(),n=$("#decline_reasons").val();if(""==n)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",function(){disable_btn(t),$.post("/order/"+i+"/decline",{token:h,decline_reasons:n},function(e){e.success?window.location="/orders":window.location.reload()},"json").fail(function(){window.location.reload()})}).set({labels:{ok:"\u0623\u0644\u063a\u064a \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}),$("#deliver_order").live("click",function(e){if(e.preventDefault(),!$(this).attr("disabled")){var t=this,i=$("#order_id").val();alertify.confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0631\u0633\u0627\u0644 \u0625\u0634\u0639\u0627\u0631 \u0625\u0644\u0649 \u0627\u0644\u0645\u0634\u062a\u0631\u064a \u0644\u064a\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628\u061f \u0647\u0630\u0627 \u064a\u0639\u0646\u064a \u0623\u0646\u0643 \u0623\u0646\u0647\u064a\u062a \u0627\u0644\u0639\u0645\u0644 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644. \u0644\u0627 \u062a\u0631\u0633\u0644 \u0625\u0634\u0639\u0627\u0631 \u0645\u0627 \u0644\u0645 \u062a\u0646\u062a\u0647\u064a \u0645\u0646 \u0627\u0644\u062a\u0646\u0641\u064a\u0630 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644 \u0648\u0646\u0647\u0627\u0626\u064a.").setting("title","\u0623\u0643\u064a\u062f \u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0637\u0644\u0628").set("onok",function(){disable_btn(t),$.post("/order/"+i+"/deliver",{token:h},function(){window.location.reload()},"json").fail(function(){window.location.reload()})}).set({labels:{ok:"\u0623\u0631\u0633\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}}),$("#approve_purchase").live("click",function(e){e.preventDefault();var t=this,i=$("#order_id").val();alertify.confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0628\u061f \u0627\u0633\u062a\u0644\u0627\u0645\u0643 \u0644\u0644\u0637\u0644\u0628 \u064a\u0639\u0646\u064a \u0623\u0646 \u0627\u0644\u0628\u0627\u0626\u0639 \u0623\u0646\u0647\u0649 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u062e\u062f\u0645\u0629 \u0643\u0645\u0627 \u0647\u0648 \u0645\u0648\u0636\u062d \u0628\u0627\u0644\u0648\u0635\u0641 \u0648\u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644. \u0644\u0627 \u062a\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628 \u0627\u0630\u0627 \u0643\u0627\u0646\u062a \u0647\u0646\u0627\u0643 \u0627\u0645\u0648\u0631 \u0646\u0627\u0642\u0635\u0629 \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u0629 \u0628\u0639\u062f.").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0628").set("onok",function(){disable_btn(t),disable_btn(".ajs-button.ajs-ok"),$.post("/purchase/"+i+"/approve",{token:h},function(){window.location.href=window.location.href+"?review=true"},"json").fail(function(){window.location.reload()})}).set({labels:{ok:"\u0627\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}),$("#reject_purchase_main").live("click",function(e){e.preventDefault(),$("#reject_purchase_wrapper").toggle()}),$("#reject_purchase").live("click",function(e){e.preventDefault();var t=$("#order_id").val(),i=$("#reject_reasons").val();if(""==i)return alertsControl.show("\u0646\u0628\u064a\u0647!","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");disable_btn(this),$.post("/purchase/"+t+"/reject",{token:h,reject_reasons:i},function(){window.location.reload()},"json").fail(function(){window.location.reload()})}),$("#decline_purchase_main").live("click",function(e){e.preventDefault(),$("#decline_purchase_wrapper").toggle()}),$("#decline_purchase").live("click",function(e){e.preventDefault();var t=this,i=$("#order_id").val(),n=$("#decline_reasons").val();if(""==n)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",function(){disable_btn(t),$.post("/purchase/"+i+"/decline",{token:h,decline_reasons:n},function(){window.location.href=window.location.href+"?review=true"},"json").fail(function(){window.location.reload()})}).set({labels:{ok:"\u0623\u0644\u063a\u064a \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}),$("#request_purchase_decline_main").live("click",function(e){e.preventDefault(),$("#request_purchase_decline_wrapper").toggle()}),$("#request_purchase_decline").live("click",function(e){e.preventDefault();var t=this,i=$("#order_id").val(),n=$("#request_purchase_decline_reasons").val();if(""==n)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0637\u0644\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0625\u0644\u063a\u0627\u0621 \u0625\u0644\u0649 \u0627\u0644\u0628\u0627\u0626\u0639\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",function(){disable_btn(t),$.post("/purchase/"+i+"/request_purchase_decline",{token:h,decline_reasons:n},function(){window.location.reload()},"json").fail(function(){window.location.reload()})}).set({labels:{ok:"\u0623\u0631\u0633\u0644 \u0637\u0644\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}),$("#complete_payment_wrapper").length&&update_total_price(),$(".service_upgrade_check, #service_quantity").live("change",function(){update_total_price()}),$("#delete_service").live("click",function(e){e.preventDefault();var t=$("#service_id").val();alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u062e\u062f\u0645\u0629 \u0646\u0647\u0627\u0626\u064a\u0627\u064b\u061f").set("onok",function(){$("#loading").fadeIn(100),$(".c-card").addClass("hidden"),$.post("/service/"+t+"/delete",{token:h},function(e){e.deleted&&(window.location=e.url)},"json")}),alertsControl.clear_style()}),$("#service_reviews .review").live("mouseover mouseleave",function(e){"mouseover"==e.type?$(this).find(".review_reply_btn").removeClass("hidden"):$(this).find(".review_reply_btn").addClass("hidden")}),$(".add_reply_btn").live("click",function(e){e.preventDefault(),$("#seller_reply_form_"+$(this).attr("id")).slideDown(300)}),$(".send_reply_btn").live("click",function(e){e.preventDefault();var t=$("#service_id").val(),i=$(this).closest(".seller_reply"),n=i.attr("id").split("_").slice(-1)[0],o=i.find(".seller_reply_text"),r=$(this).parent();o.val()&&""!==o.val()?($(this).text("\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."),$.post("/service/"+t+"/review/"+n,{token:h,seller_reply:o.val()},function(e){e.reply_created?(o.replaceWith('<p class="comment">'+o.val()+"</p>"),r.css("display","none")):location.reload()},"json")):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u062f\u062e\u0627\u0644 \u0623\u064a \u0631\u062f \u0628\u0639\u062f.")}),$("#order_finished_checkbox").live("click",function(){checkbox=$(this),checkbox.is(":checked")&&(alertify.confirm("\u0647\u0644 \u062a\u0645 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0637\u0644\u0628 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644\u061f\n\n\u062a\u0639\u0644\u064a\u0645 \u0627\u0644\u0637\u0644\u0628 \u0639\u0644\u0649 \u0623\u0646\u0647 \u0645\u0646\u062a\u0647\u064a \u0642\u0628\u0644 \u062a\u0646\u0641\u064a\u0630\u0647 \u0642\u062f \u064a\u0624\u062f\u064a \u0644\u0625\u064a\u0642\u0627\u0641 \u062d\u0633\u0627\u0628\u0643.").set("onok",function(){checkbox.attr("checked",!0)}).set("oncancel",function(){checkbox.removeAttr("checked")}),alertsControl.clear_style())}),c(),$("#forum_name_select").live("change",function(){c()}),$("#service_add_image").live("click",function(e){e.preventDefault(),$(this).addClass("hidden"),$("#service_add_video").removeClass("hidden"),$(".service_video").slideUp(300),$(".service_image").slideToggle(300),$(".service_video .largeview").find("input[name=video_url]").val("")}),$("#service_add_video").live("click",function(e){e.preventDefault(),$(this).addClass("hidden"),$("#service_add_image").removeClass("hidden"),$(".service_image").slideUp(300),$(".service_video").slideToggle(300);var t=$(".uploadbox").html();$(".uploadbox").html(t)}),$("#upgrade_service_btn").live("click",function(e){if(e.preventDefault(),$("#upgrade_service").hasClass("hidden"))$("#upgrade_service").removeClass("hidden");else{var t=$("#upgrade_service .upgrade_service_inputs").length,i=$("#upgrade_service .upgrade_service_inputs:last").clone(),n=hsoub_grs(20);i.attr("id","upgrade_service_inputs_"+n),i.find(".service_upgrade_title").attr("name","service_upgrade_title_"+n),i.find(".service_upgrade_price").attr("name","service_upgrade_price_"+n),i.find(".service_upgrade_days_change").attr("name","service_upgrade_days_change_"+n),i.find(".service_upgrade_days").attr("name","service_upgrade_days_"+n),i.find(".service_upgrade_title").val(""),i.find(".service_upgrade_days").val("01"),i.find(".service_upgrade_days").removeClass("hidden"),
i.find(".service_upgrade_days").parent().removeClass("hidden"),i.find(".service_upgrade_days_change").removeClass("full_width"),$("#upgrade_service_inputs_wrapper").append(i),4<=t&&$("#upgrade_service_btn_wrapper").addClass("hidden")}}),$(".remove_upgrade_btn").live("click",function(e){e.preventDefault();var t=$("#upgrade_service .upgrade_service_inputs").length,i=$(this).parent().parent();i.find(".service_upgrade_title").attr("value",""),t<=1?$("#upgrade_service").addClass("hidden"):i.remove(),t<=5&&$("#upgrade_service_btn_wrapper").removeClass("hidden")}),$("#upgrade_service_inputs_wrapper").length&&(u(),$(".service_upgrade_days_change").live("change",function(){u()})),$(".delete_social_account").live("click",function(e){e.preventDefault(),button=$(this);var t=button.attr("data-id");alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0641\u064a \u062e\u0645\u0633\u0627\u062a\u061f").set("onok",function(){button.find("i").addClass("fa fa-spinner fa-spin fa-fw"),$.post("/ajax/auth/deactivate/"+t,{token:h},function(e){e.success&&$("#sa-"+t).fadeOut(300)},"json")}),alertsControl.clear_style()}),$("#report_spam_message").click(function(e){e.preventDefault(),button=$(this);var t=$("#message_id").val();alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u0627\u0644\u062a\u0628\u0644\u064a\u063a \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0623\u0646\u0647\u0627 \u0645\u0632\u0639\u062c\u0629\u061f\n\n\u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0648\u0645\u0646\u0639 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0646 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0628\u0627\u0644\u0645\u0633\u062a\u0642\u0628\u0644.\n").set("onok",function(){button.find("i").addClass("fa fa-spinner fa-spin fa-fw"),$.post("/ajax/message/"+t+"/report/",{token:h},function(e){e.success&&(window.location="/messages")},"json")}),alertsControl.clear_style()}),$("#turn_off_post_notifications").click(function(){chk=$(this);var e=1;chk.is(":checked")||(e=0),chk.attr("disabled",!0),url=window.location.pathname+"/switch/"+e,$.post(url,{token:h},function(e){e.success&&alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.msg),chk.prop("disabled",!1)},"json")}),galleryFilesControl.init(h),alertsControl.set_alertify_defaults(),searchFilter.init(),ordersFilter.init(),messagesFilter.init(),creditCardControl.init(),paypal.init(),collectionControl.init(),cartControl.init(),comments.init(),AttachmentUploader.init("div#attachmentsUploader"),VoiceMessageUploader.init(),$(".answer").hide(),$(".question").click(function(){var e=$(this).parent("li").find(".answer");"none"==e.css("display")?($(".question").removeClass("active"),$(".answer").slideUp(),e.slideDown(),$(this).addClass("active")):(e.slideUp(),$(this).removeClass("active"))}),$(".QP").click(function(){$(this).next("ul.questions").slideToggle(),$(this).toggleClass("active")}),$(".common-tabs").on("click",".common-tabs__title-item",function(e){e.preventDefault(),$(this).parent().children(".common-tabs__title-item").removeClass("common-tabs__title-item--active"),$(".tab-content").removeClass("show");var t=$(this).parent().parent().find(".common-tabs__body-item");t.hide(),t[$(this).data("tab-index")].style="display: block",$(this).addClass("common-tabs__title-item--active")});for(var p=document.querySelectorAll(".faq__list>div>div"),m=0;m<p.length;m++)p[m].addEventListener("click",d)});var notificationsUtil=function(){function t(){var e=Cookies.get("last_notification_ts");N||(comments.enabled()||cartControl.enabled()||!e||(new Date).getTime()-e>P-100)&&(Cookies.set("last_notification_ts",(new Date).getTime()),N=!0,$.getJSON("/ajax/account_stats",comments.fetch_params(),function(e){n(e)}).always(function(){N=!1}))}function i(e){clearInterval(window.auto_update_interval),window.auto_update_interval=setInterval(function(){t()},e)}function n(e){if(h(e.shoping_cart_count,e.cart_data),loggedIn){f(e.unread_notifications_count,e.notifications_data),p(e.unread_messages_count,e.messages_data),c(e);var t=e.unread_notifications_count+e.unread_messages_count+e.unread_purchases_counts+e.unread_orders_counts;0<t?($(document).attr("title","("+t+") "+pageTitle),k<t&&(L.show(),v())):$(document).attr("title",pageTitle),e.manage_order&&ordersUtil.append_manage_order(e.manage_order),e.manage_purchase&&ordersUtil.append_manage_purchase(e.manage_purchase),k=t,u(e.unread_purchases_counts+e.unread_orders_counts),comments.append(e.comments_data)}}function o(){$(E.element).on("click",function(){var i=[];$.each(x.components.items,function(e,t){i.push(t.config.id.split("-")[1])}),jQuery.unique(i),0!=i.length&&$.post("/notifications/viewed",{"mnotification_ids[]":i},function(e){n(e)},"json")})}function r(){$(window).on("beforeunload",function(){e()}),$(window).on("blur focus",function(e){if($(this).data("previous_type")!=e.type)switch(e.type){case"blur":i(I);break;case"focus":m(),t(),i(P)}$(this).data("previous_type",e.type)}),i(P)}function a(e){E.badge=e}function s(e){A.badge=e}function l(e){D.badge=e,R.badge=e}function c(e){j.mainOrdersItem.badge=e.unread_orders_counts,j.mainPurchasesItem.badge=e.unread_purchases_counts,j.sidebarOrdersItem.badge=e.unread_orders_counts,j.sidebarPurchasesItem.badge=e.unread_purchases_counts}function u(e){screen.width<991&&(C.badge=e)}function d(e){D=e.find("cartTrigger"),R=e.find("cartItem"),S=e.find("cartItems")}function h(e,t){l(e),S.replace(t)}function f(e,t){a(e),x.replace(t)}function p(e,t){s(e),T.replace(t)}function m(){window.HTMLAudioElement&&window.localStorage&&localStorage.setItem("audioKey",z)}function e(){window.HTMLAudioElement&&window.localStorage&&localStorage.removeItem("audioKey")}function g(){if(window.HTMLAudioElement&&window.localStorage)return localStorage.getItem("audioKey")}function v(){try{g()||m(),g()==z&&M.play()}catch(e){}}function y(e){k=current_unread_count,x=(L=e).find("notifications"),T=L.find("messages"),E=L.find("notificationsTrigger"),A=L.find("privateMsgsTrigger"),C=L.find("headerLauncher"),j={mainOrdersItem:L.find("mainOrdersItem"),mainPurchasesItem:L.find("mainPurchasesItem"),sidebarOrdersItem:L.find("sidebarOrdersItem"),sidebarPurchasesItem:L.find("sidebarPurchasesItem")}}function b(){z=1e4*Math.random(),m(),window.HTMLAudioElement&&(M=new Audio("https://khamsat.hsoubcdn.com/assets/media/notification-06ecca16105b21b4882e4dd9ac1180fda3fd7f7a3424daa14e22c028318a85c5.mp3"))}function _(){var i=$("#accounts_token").val();$("body").on("click",".authentication_is_required",function(e){e.preventDefault();var t="\u0627\u0646\u0634\u0623 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f \u0623\u0648 \u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629";alertify.confirm(t).setting("title","\u0625\u0634\u0639\u0627\u0631").set("onok",function(){window.location="/register?t="+i}).set({labels:{ok:"\u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f",cancel:"\u0645\u0648\u0627\u0641\u0642"}}).setting("title","\u0623\u0646\u062a \u063a\u064a\u0631 \u0645\u0633\u062c\u0644 \u062f\u062e\u0648\u0644"),alertsControl.clear_style()})}function w(e){$(function(){loggedIn&&(y(e),b(),o()),d(e),r(),_()})}var k,C,x,T,S,E,A,D,R,L,M,z,j={},N=!1,P=3e4,I=18e4;return{init:w,get_notifications:t}}();$(document).ready(function(){$(".js-filter-sidebar-button").live("click",function(e){e.preventDefault();var t=$(".js-filter-sidebar-group");t.hasClass("slide")?t.removeClass("slide"):t.addClass("slide")}),$(".hdrIcons").click(function(){var e=$(this),t=e.attr("data-menu");e.hasClass("opened")?($(t).slideUp("fast"),$(t).removeClass("opened"),e.removeClass("opened")):($("#menu.opened,.srchMobHdr.opened,.aqsamMobHdr.opened").slideUp("fast"),$("#menu,.srchMobHdr,.aqsamMobHdr").removeClass("opened"),$(".hdrIcons").removeClass("opened"),$(t).slideDown("fast"),$(t).addClass("opened"),e.addClass("opened"))})}),$(document).ready(function(){$("ul.tabs").each(function(){var t,i,e=$(this).find("a");(t=$(e.filter('[href="'+location.hash+'"]')[0]||e[0])).parent().addClass("active"),i=$(t[0].hash),e.not(t).each(function(){$(this.hash).hide()}),$(this).on("click","a",function(e){t.parent().removeClass("active"),i.hide(),t=$(this),i=$(this.hash),t.parent().addClass("active"),i.show(),e.preventDefault()})})}),jQuery&&function(r){function i(e,t){var i=e?r(this):t,n=r(i.attr("data-jq-dropdown")),o=i.hasClass("jq-dropdown-open");if(e){if(r(e.target).hasClass("jq-dropdown-ignore"))return;e.preventDefault(),e.stopPropagation()}else if(i!==t.target&&r(t.target).hasClass("jq-dropdown-ignore"))return;a(),o||i.hasClass("jq-dropdown-disabled")||(i.addClass("jq-dropdown-open"),n.data("jq-dropdown-trigger",i).show(),s(),n.trigger("show",{jqDropdown:n,trigger:i}))}function a(e){var t=e?r(e.target).parents().addBack():null;if(t&&t.is(".jq-dropdown")){if(!t.is(".jq-dropdown-menu"))return;if(!t.is("A"))return}var i=jQuery.Event("hide");r(document).find(".jq-dropdown:visible").each(function(){var e=r(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),i.isDefaultPrevented()||(r(document).find(".jq-dropdown:visible").each(function(){var e=r(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),r(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open"))}function s(){var e=r(".jq-dropdown:visible").eq(0),t=e.data("jq-dropdown-trigger"),i=t?parseInt(t.attr("data-horizontal-offset")||0,10):null,n=t?parseInt(t.attr("data-vertical-offset")||0,10):null;0!==e.length&&t&&(e.hasClass("jq-dropdown-relative")?e.css({right:e.hasClass("jq-dropdown-anchor-right")?t.position().right-(e.outerWidth(!0)-t.outerWidth(!0))-parseInt(t.css("margin-right"),10)+i:t.position().right+parseInt(t.css("margin-right"),10)+i,top:t.position().top+t.outerHeight(!0)-parseInt(t.css("margin-top"),10)+n}):e.css({right:e.hasClass("jq-dropdown-anchor-right")?t.offset().right-(e.outerWidth()-t.outerWidth())+i:t.offset().right+i,top:t.offset().top+t.outerHeight()+n}))}r.extend(r.fn,{jqDropdown:function(e,t){switch(e){case"show":return i(null,r(this)),r(this);case"hide":return a(),r(this);case"attach":return r(this).attr("data-jq-dropdown",t);case"detach":return a(),r(this).removeAttr("data-jq-dropdown");case"disable":return r(this).addClass("jq-dropdown-disabled");case"enable":return a(),r(this).removeClass("jq-dropdown-disabled")}}}),r(document).on("click.jq-dropdown","[data-jq-dropdown]",i),r(document).on("click.jq-dropdown",a),r(window).on("resize",s)}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(E){function t(e){this.$container,this.constraints=null,this.__$tooltip,this.__init(e)}function r(t,i){var n=!0;return E.each(t,function(e){return void 0===i[e]||t[e]!==i[e]?n=!1:void 0}),n}function u(e){var t=e.attr("id"),i=t?A.window.document.getElementById(t):null;return i?i===e[0]:E.contains(A.window.document.body,e[0])}function e(){if(!o)return!1;var e=(o.document.body||o.document.documentElement).style,t="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof e[i[n]+t])return!0;return!1}var d={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},o="undefined"!=typeof window?window:null,A={hasTouchCapability:!(!o||!("ontouchstart"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch||o.navigator.maxTouchPoints)),hasTransitions:e(),IE:!1,semVer:"4.2.6",window:o},i=function(){this.__$emitterPrivate=E({}),this.__$emitterPublic=E({}),this.__instancesLatestArr=[],this.__plugins={},this._env=A};i.prototype={__bridge:function(e,t,i){if(!t[i]){var n=function(){};n.prototype=e;var o=new n;o.__init&&o.__init(t),E.each(e,function(e){0!=e.indexOf("__")&&(t[e]?d.debug&&console.log("The "+e+" method of the "+i+" plugin conflicts with another plugin or native methods"):(t[e]=function(){return o[e].apply(o,Array.prototype.slice.apply(arguments))},t[e].bridged=o))}),t[i]=o}return this},__setWindow:function(e){return A.window=e,this},_getRuler:function(e){return new t(e)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var t=this;if("string"==typeof e){var i=e,n=null;return 0<i.indexOf(".")?n=t.__plugins[i]:E.each(t.__plugins,function(e,t){return t.name.substring(t.name.length-i.length-1)=="."+i?(n=t,!1):void 0}),n}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return(t.__plugins[e.name]=e).core&&t.__bridge(e.core,t,e.name),this},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},instances:function(e){var n=[];return E(e||".tooltipstered").each(function(){var i=E(this),e=i.data("tooltipster-ns");e&&E.each(e,function(e,t){n.push(i.data(t))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return E((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return E.extend(d,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},E.tooltipster=new i,E.Tooltipster=function(e,t){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=E({}),this.__$emitterPublic=E({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,t)},E.Tooltipster.prototype={__init:function(e,t){var i=this;if(i._$origin=E(e),i.__options=E.extend(!0,{},d,t),i.__optionsFormat(),!A.IE||A.IE>=i.__options.IEmin){var n=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(n=i._$origin.attr("title"))&&(n=null),i._$origin.data("tooltipster-initialTitle",n)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var o,r=i._$origin.attr("data-tooltip-content");r&&(o=E(r)),o&&o[0]?i.__contentSet(o.first()):i.__contentSet(n)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),E.each(i.__options.plugins,function(e,t){i._plug(t)}),A.hasTouchCapability&&E(A.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",function(e){i._touchRecordEvent(e)}),i._on("created",function(){i.__prepareTooltip()})._on("repositioned",function(e){i.__lastPosition=e.position})}else i.__options.disabled=!0},__contentInsert:function(){var e=this,t=e._$tooltip.find(".tooltipster-content"),i=e.__Content,n=function(e){i=e};return e._trigger({type:"format",content:e.__Content,format:n}),e.__options.functionFormat&&(i=e.__options.functionFormat.call(e,e,{origin:e._$origin[0]},e.__Content)),"string"!=typeof i||e.__options.contentAsHTML?t.empty().append(i):t.text(i),e},__contentSet:function(e){return e instanceof E&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,t=e._$origin,i=e._$origin.is("area");if(i){var n=e._$origin.parent().attr("name");t=E('img[usemap="#'+n+'"]')}var o=t[0].getBoundingClientRect(),r=E(A.window.document),a=E(A.window),s=t,l={available:{document:null,window:null},document:{size:{height:r.height(),width:r.width()}},window:{scroll:{left:A.window.scrollX||A.window.document.documentElement.scrollLeft,top:A.window.scrollY||A.window.document.documentElement.scrollTop},size:{height:a.height(),width:a.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:i?t[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(i){var c=e._$origin.attr("shape"),u=e._$origin.attr("coords");if(u&&(u=u.split(","),E.map(u,function(e,t){u[t]=parseInt(e)})),"default"!=c)switch(c){case"circle":var d=u[0],h=u[1],f=u[2],p=h-f,m=d-f;l.origin.size.height=2*f,l.origin.size.width=l.origin.size.height,l.origin.windowOffset.left+=m,l.origin.windowOffset.top+=p;break;case"rect":var g=u[0],v=u[1],y=u[2],b=u[3];l.origin.size.height=b-v,l.origin.size.width=y-g,l.origin.windowOffset.left+=g,l.origin.windowOffset.top+=v;break;case"poly":for(var _=0,w=0,k=0,C=0,x="even",T=0;T<u.length;T++){var S=u[T];"even"==x?(k<S&&(k=S,0===T&&(_=k)),S<_&&(_=S),x="odd"):(C<S&&(C=S,1==T&&(w=C)),S<w&&(w=S),x="even")}l.origin.size.height=C-w,l.origin.size.width=k-_,l.origin.windowOffset.left+=_,l.origin.windowOffset.top+=w}}var $=function(e){l.origin.size.height=e.height,l.origin.windowOffset.left=e.left,l.origin.windowOffset.top=e.top,l.origin.size.width=e.width};for(e._trigger({type:"geometry",edit:$,geometry:{height:l.origin.size.height,left:l.origin.windowOffset.left,top:l.origin.windowOffset.top,width:l.origin.size.width}}),l.origin.windowOffset.right=l.origin.windowOffset.left+l.origin.size.width,l.origin.windowOffset.bottom=l.origin.windowOffset.top+l.origin.size.height,l.origin.offset.left=l.origin.windowOffset.left+l.window.scroll.left,l.origin.offset.top=l.origin.windowOffset.top+l.window.scroll.top,l.origin.offset.bottom=l.origin.offset.top+l.origin.size.height,l.origin.offset.right=l.origin.offset.left+l.origin.size.width,l.available.document={bottom:{height:l.document.size.height-l.origin.offset.bottom,width:l.document.size.width},left:{height:l.document.size.height,width:l.origin.offset.left},right:{height:l.document.size.height,width:l.document.size.width-l.origin.offset.right},top:{height:l.origin.offset.top,width:l.document.size.width}},l.available.window={bottom:{height:Math.max(l.window.size.height-Math.max(l.origin.windowOffset.bottom,0),0),width:l.window.size.width},left:{height:l.window.size.height,width:Math.max(l.origin.windowOffset.left,0)},right:{height:l.window.size.height,width:Math.max(l.window.size.width-Math.max(l.origin.windowOffset.right,0),0)},top:{height:Math.max(l.origin.windowOffset.top,0),width:l.window.size.width}};"html"!=s[0].tagName.toLowerCase();){if("fixed"==s.css("position")){l.origin.fixedLineage=!0;break}s=s.parent()}return l},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=E(A.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=E(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var t=(new Date).getTime();e.__touchEvents=E.grep(e.__touchEvents,function(e){return 6e4<t-e.time}),u(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),A.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&A.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&A.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&A.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&A.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&A.hasTouchCapability){e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&A.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var i=this,e=i.__options.interactive?"auto":"";return i._$tooltip.attr("id",i.__namespace).css({"pointer-events":e,zIndex:i.__options.zIndex}),E.each(i.__previousThemes,function(e,t){i._$tooltip.removeClass(t)}),E.each(i.__options.theme,function(e,t){i._$tooltip.addClass(t)}),i.__previousThemes=E.merge([],i.__options.theme),i},__scrollHandler:function(e){var t=this;if(t.__options.triggerClose.scroll)t._close(e);else if(u(t._$origin)&&u(t._$tooltip)){var a=null;if(e.target===A.window.document)t.__Geometry.origin.fixedLineage||t.__options.repositionOnScroll&&t.reposition(e);else{a=t.__geometry();var s=!1;if("fixed"!=t._$origin.css("position")&&t.__$originParents.each(function(e,t){var i=E(t),n=i.css("overflow-x"),o=i.css("overflow-y");if("visible"!=n||"visible"!=o){var r=t.getBoundingClientRect();if("visible"!=n&&(a.origin.windowOffset.left<r.left||a.origin.windowOffset.right>r.right))return!(s=!0);if("visible"!=o&&(a.origin.windowOffset.top<r.top||a.origin.windowOffset.bottom>r.bottom))return!(s=!0)}return"fixed"!=i.css("position")&&void 0}),s)t._$tooltip.css("visibility","hidden");else if(t._$tooltip.css("visibility","visible"),t.__options.repositionOnScroll)t.reposition(e);else{var i=a.origin.offset.left-t.__Geometry.origin.offset.left,n=a.origin.offset.top-t.__Geometry.origin.offset.top;t._$tooltip.css({left:t.__lastPosition.coord.left+i,top:t.__lastPosition.coord.top+n})}}t._trigger({type:"scroll",event:e,geo:a})}return t},__stateSet:function(e){return this.__state=e,this._trigger({type:"state",state:e}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,E.each(this.__timeouts.close,function(e,t){clearTimeout(t)}),this.__timeouts.close=[],this},__trackerStart:function(){var n=this,o=n._$tooltip.find(".tooltipster-content");return n.__options.trackTooltip&&(n.__contentBcr=o[0].getBoundingClientRect()),n.__tracker=setInterval(function(){if(u(n._$origin)&&u(n._$tooltip)){if(n.__options.trackOrigin){var e=n.__geometry(),t=!1;r(e.origin.size,n.__Geometry.origin.size)&&(n.__Geometry.origin.fixedLineage?r(e.origin.windowOffset,n.__Geometry.origin.windowOffset)&&(t=!0):r(e.origin.offset,n.__Geometry.origin.offset)&&(t=!0)),t||(n.__options.triggerClose.mouseleave?n._close():n.reposition())}if(n.__options.trackTooltip){var i=o[0].getBoundingClientRect();i.height===n.__contentBcr.height&&i.width===n.__contentBcr.width||(n.reposition(),n.__contentBcr=i)}}else n._close()},n.__options.trackerInterval),n},_close:function(i,e,t){var n=this,o=!0;if(n._trigger({type:"close",event:i,stop:function(){o=!1}}),o||t){e&&n.__callbacks.close.push(e),n.__callbacks.open=[],n.__timeoutsClear();var r=function(){E.each(n.__callbacks.close,function(e,t){t.call(n,n,{event:i,origin:n._$origin[0]})}),n.__callbacks.close=[]};if("closed"!=n.__state){var a=!0,s=(new Date).getTime()+n.__options.animationDuration[1];if("disappearing"==n.__state&&s>n.__closingTime&&0<n.__options.animationDuration[1]&&(a=!1),a){n.__closingTime=s,"disappearing"!=n.__state&&n.__stateSet("disappearing");var l=function(){clearInterval(n.__tracker),n._trigger({type:"closing",event:i}),n._$tooltip.off("."+n.__namespace+"-triggerClose").removeClass("tooltipster-dying"),E(A.window).off("."+n.__namespace+"-triggerClose"),n.__$originParents.each(function(e,t){E(t).off("scroll."+n.__namespace+"-triggerClose")}),n.__$originParents=null,E(A.window.document.body).off("."+n.__namespace+"-triggerClose"),n._$origin.off("."+n.__namespace+"-triggerClose"),n._off("dismissable"),n.__stateSet("closed"),n._trigger({type:"after",event:i}),n.__options.functionAfter&&n.__options.functionAfter.call(n,n,{event:i,origin:n._$origin[0]}),r()};A.hasTransitions?(n._$tooltip.css({"-moz-animation-duration":n.__options.animationDuration[1]+"ms","-ms-animation-duration":n.__options.animationDuration[1]+"ms","-o-animation-duration":n.__options.animationDuration[1]+"ms","-webkit-animation-duration":n.__options.animationDuration[1]+"ms","animation-duration":n.__options.animationDuration[1]+"ms","transition-duration":n.__options.animationDuration[1]+"ms"}),n._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<n.__options.animationDuration[1]&&n._$tooltip.delay(n.__options.animationDuration[1]),n._$tooltip.queue(l)):n._$tooltip.stop().fadeOut(n.__options.animationDuration[1],l)}}else r()}return n},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,t){var i=this;if(!i.__destroying&&u(i._$origin)&&i.__enabled){var n=!0;if("closed"==i.__state&&(i._trigger({type:"before",event:e,stop:function(){n=!1}}),n&&i.__options.functionBefore&&(n=i.__options.functionBefore.call(i,i,{event:e,origin:i._$origin[0]}))),!1!==n&&null!==i.__Content){t&&i.__callbacks.open.push(t),i.__callbacks.close=[],i.__timeoutsClear();var o,r=function(){"stable"!=i.__state&&i.__stateSet("stable"),E.each(i.__callbacks.open,function(e,t){t.call(i,i,{origin:i._$origin[0],tooltip:i._$tooltip[0]})}),i.__callbacks.open=[]};if("closed"!==i.__state)o=0,"disappearing"===i.__state?(i.__stateSet("appearing"),A.hasTransitions?(i._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<i.__options.animationDuration[0]&&i._$tooltip.delay(i.__options.animationDuration[0]),i._$tooltip.queue(r)):i._$tooltip.stop().fadeIn(r)):"stable"==i.__state&&r();else{if(i.__stateSet("appearing"),o=i.__options.animationDuration[0],i.__contentInsert(),i.reposition(e,!0),A.hasTransitions?(i._$tooltip.addClass("tooltipster-"+i.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":i.__options.animationDuration[0]+"ms","-ms-animation-duration":i.__options.animationDuration[0]+"ms","-o-animation-duration":i.__options.animationDuration[0]+"ms","-webkit-animation-duration":i.__options.animationDuration[0]+"ms","animation-duration":i.__options.animationDuration[0]+"ms","transition-duration":i.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=i.__state&&(i._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<i.__options.animationDuration[0]&&i._$tooltip.delay(i.__options.animationDuration[0]),i._$tooltip.queue(r))},0)):i._$tooltip.css("display","none").fadeIn(i.__options.animationDuration[0],r),i.__trackerStart(),E(A.window).on("resize."+i.__namespace+"-triggerClose",function(e){var t=E(document.activeElement);(t.is("input")||t.is("textarea"))&&E.contains(i._$tooltip[0],t[0])||i.reposition(e)}).on("scroll."+i.__namespace+"-triggerClose",function(e){i.__scrollHandler(e)}),i.__$originParents=i._$origin.parents(),i.__$originParents.each(function(e,t){E(t).on("scroll."+i.__namespace+"-triggerClose",function(e){i.__scrollHandler(e)})}),i.__options.triggerClose.mouseleave||i.__options.triggerClose.touchleave&&A.hasTouchCapability){i._on("dismissable",function(e){e.dismissable?e.delay?(c=setTimeout(function(){i._close(e.event)},e.delay),i.__timeouts.close.push(c)):i._close(e):clearTimeout(c)});var a=i._$origin,s="",l="",c=null;i.__options.interactive&&(a=a.add(i._$tooltip)),i.__options.triggerClose.mouseleave&&(s+="mouseenter."+i.__namespace+"-triggerClose ",l+="mouseleave."+i.__namespace+"-triggerClose "),i.__options.triggerClose.touchleave&&A.hasTouchCapability&&(s+="touchstart."+i.__namespace+"-triggerClose",l+="touchend."+i.__namespace+"-triggerClose touchcancel."+i.__namespace+"-triggerClose"),a.on(l,function(e){if(i._touchIsTouchEvent(e)||!i._touchIsEmulatedEvent(e)){var t="mouseleave"==e.type?i.__options.delay:i.__options.delayTouch;i._trigger({delay:t[1],dismissable:!0,event:e,type:"dismissable"})}}).on(s,function(e){!i._touchIsTouchEvent(e)&&i._touchIsEmulatedEvent(e)||i._trigger({dismissable:!1,event:e,type:"dismissable"})})}i.__options.triggerClose.originClick&&i._$origin.on("click."+i.__namespace+"-triggerClose",function(e){i._touchIsTouchEvent(e)||i._touchIsEmulatedEvent(e)||i._close(e)}),(i.__options.triggerClose.click||i.__options.triggerClose.tap&&A.hasTouchCapability)&&setTimeout(function(){if("closed"!=i.__state){var e="",t=E(A.window.document.body);i.__options.triggerClose.click&&(e+="click."+i.__namespace+"-triggerClose "),i.__options.triggerClose.tap&&A.hasTouchCapability&&(e+="touchend."+i.__namespace+"-triggerClose"),t.on(e,function(e){i._touchIsMeaningfulEvent(e)&&(i._touchRecordEvent(e),i.__options.interactive&&E.contains(i._$tooltip[0],e.target)||i._close(e))}),i.__options.triggerClose.tap&&A.hasTouchCapability&&t.on("touchstart."+i.__namespace+"-triggerClose",function(e){i._touchRecordEvent(e)})}},0),i._trigger("ready"),i.__options.functionReady&&i.__options.functionReady.call(i,i,{origin:i._$origin[0],tooltip:i._$tooltip[0]})}if(0<i.__options.timer){c=setTimeout(function(){i._close()},i.__options.timer+o);i.__timeouts.close.push(c)}}}return i},_openShortly:function(e){var t=this,i=!0;if("stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:e,stop:function(){i=!1}}),i)){var n=0==e.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay;n[0]?t.__timeouts.open=setTimeout(function(){t.__timeouts.open=null,t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(e)?(t._trigger("startend"),t._open(e)):t._trigger("startcancel")},n[0]):(t._trigger("startend"),t._open(e))}return t},_optionsExtract:function(e,t){var i=this,n=E.extend(!0,{},t),o=i.__options[e];return o||(o={},E.each(t,function(e){var t=i.__options[e];void 0!==t&&(o[e]=t)})),E.each(n,function(e,t){void 0!==o[e]&&("object"!=typeof t||t instanceof Array||null==t||"object"!=typeof o[e]||o[e]instanceof Array||null==o[e]?n[e]=o[e]:E.extend(n[e],o[e]))}),n},_plug:function(e){
var t=E.tooltipster._plugin(e);if(!t)throw new Error('The "'+e+'" plugin is not defined');return t.instance&&E.tooltipster.__bridge(t.instance,this,t.name),this},_touchIsEmulatedEvent:function(e){for(var t=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;0<=n;n--){var o=this.__touchEvents[n];if(!(i-o.time<500))break;o.target===e.target&&(t=!0)}return t},_touchIsMeaningfulEvent:function(e){return this._touchIsTouchEvent(e)&&!this._touchSwiped(e.target)||!this._touchIsTouchEvent(e)&&!this._touchIsEmulatedEvent(e)},_touchIsTouchEvent:function(e){return 0==e.type.indexOf("touch")},_touchRecordEvent:function(e){return this._touchIsTouchEvent(e)&&(e.time=(new Date).getTime(),this.__touchEvents.push(e)),this},_touchSwiped:function(e){for(var t=!1,i=this.__touchEvents.length-1;0<=i;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){t=!0;break}if("touchstart"==n.type&&e===n.target)break}return t},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),E.tooltipster._trigger.apply(E.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(t){var i=this;if(i[t]){var e=E.tooltipster._plugin(t);e.instance&&E.each(e.instance,function(e){i[e]&&i[e].bridged===i[t]&&delete i[e]}),i[t].__destroy&&i[t].__destroy(),delete i[t]}return i},close:function(e){return this.__destroyed?this.__destroyError():this._close(null,e),this},content:function(e){var t=this;if(void 0===e)return t.__Content;if(t.__destroyed)t.__destroyError();else if(t.__contentSet(e),null!==t.__Content){if("closed"!==t.__state&&(t.__contentInsert(),t.reposition(),t.__options.updateAnimation))if(A.hasTransitions){var i=t.__options.updateAnimation;t._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=t.__state&&t._$tooltip.removeClass("tooltipster-update-"+i)},1e3)}else t._$tooltip.fadeTo(200,.5,function(){"closed"!=t.__state&&t._$tooltip.fadeTo(200,1)})}else t._close();return t},destroy:function(){var t=this;if(t.__destroyed)t.__destroyError();else{"closed"!=t.__state?t.option("animationDuration",0)._close(null,null,!0):t.__timeoutsClear(),t._trigger("destroy"),t.__destroyed=!0,t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen"),E(A.window.document.body).off("."+t.__namespace+"-triggerOpen");var e=t._$origin.data("tooltipster-ns");if(e)if(1===e.length){var i=null;"previous"==t.__options.restoration?i=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(i="string"==typeof t.__Content?t.__Content:E("<div></div>").append(t.__Content).html()),i&&t._$origin.attr("title",i),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else e=E.grep(e,function(e){return e!==t.__namespace}),t._$origin.data("tooltipster-ns",e);t._trigger("destroyed"),t._off(),t.off(),t.__Content=null,t.__$emitterPrivate=null,t.__$emitterPublic=null,t.__options.parent=null,t._$origin=null,t._$tooltip=null,E.tooltipster.__instancesLatestArr=E.grep(E.tooltipster.__instancesLatestArr,function(e){return t!==e}),clearInterval(t.__garbageCollector)}return t},disable:function(){return this.__destroyed?this.__destroyError():(this._close(),this.__enabled=!1),this},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(e){return this.close(e)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(e){return this.__destroyed?this.__destroyError():this._open(null,e),this},option:function(e,t){return void 0===t?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=t,this.__optionsFormat(),0<=E.inArray(e,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(e,t){var i=this;return i.__destroyed?i.__destroyError():"closed"!=i.__state&&u(i._$origin)&&(t||u(i._$tooltip))&&(t||i._$tooltip.detach(),i.__Geometry=i.__geometry(),i._trigger({type:"reposition",event:e,helper:{geo:i.__Geometry}})),i},show:function(e){return this.open(e)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},E.fn.tooltipster=function(){var o=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof o[0]){var r="#*$~&";return this.each(function(){var e=E(this).data("tooltipster-ns"),t=e?E(this).data(e[0]):null;if(!t)throw new Error("You called Tooltipster's \""+o[0]+'" method on an uninitialized element');if("function"!=typeof t[o[0]])throw new Error('Unknown method "'+o[0]+'"');1<this.length&&"content"==o[0]&&(o[1]instanceof E||"object"==typeof o[1]&&null!=o[1]&&o[1].tagName)&&!t.__options.contentCloning&&t.__options.debug&&console.log(n);var i=t[o[0]](o[1],o[2]);return i!==t||"instance"===o[0]?(r=i,!1):void 0}),"#*$~&"!==r?r:this}E.tooltipster.__instancesLatestArr=[];var e=o[0]&&void 0!==o[0].multiple,a=e&&o[0].multiple||!e&&d.multiple,t=o[0]&&void 0!==o[0].content,i=t&&o[0].content||!t&&d.content,s=o[0]&&void 0!==o[0].contentCloning,l=s&&o[0].contentCloning||!s&&d.contentCloning,c=o[0]&&void 0!==o[0].debug,u=c&&o[0].debug||!c&&d.debug;return 1<this.length&&(i instanceof E||"object"==typeof i&&null!=i&&i.tagName)&&!l&&u&&console.log(n),this.each(function(){var e=!1,t=E(this),i=t.data("tooltipster-ns"),n=null;i?a?e=!0:u&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0,e&&(n=new E.Tooltipster(this,o[0]),i||(i=[]),i.push(n.__namespace),t.data("tooltipster-ns",i),t.data(n.__namespace,n),n.__options.functionInit&&n.__options.functionInit.call(n,n,{origin:this}),n._trigger("init")),E.tooltipster.__instancesLatestArr.push(n)}),this},t.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=E('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(A.window.document.body)},__forceRedraw:function(){var e=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(e)},constrain:function(e,t){return this.constraints={width:e,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:e}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var e=this.__$tooltip[0].getBoundingClientRect(),t={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),o=i[0].getBoundingClientRect(),r={height:n<=this.constraints.height,width:e.width<=this.constraints.width&&o.width>=i[0].scrollWidth-1};t.fits=r.height&&r.width}return A.IE&&A.IE<=11&&t.size.width!==A.window.document.documentElement.clientWidth&&(t.size.width=Math.ceil(t.size.width)+1),t}};var n=navigator.userAgent.toLowerCase();-1!=n.indexOf("msie")?A.IE=parseInt(n.split("msie")[1]):-1!==n.toLowerCase().indexOf("trident")&&-1!==n.indexOf(" rv:11")?A.IE=11:-1!=n.toLowerCase().indexOf("edge/")&&(A.IE=parseInt(n.toLowerCase().split("edge/")[1]));var a="tooltipster.sideTip";return E.tooltipster._plugin({name:a,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(e){var t=this;t.__instance=e,t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),t.__previousState="closed",t.__options,t.__optionsFormat(),t.__instance._on("state."+t.__namespace,function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state}),t.__instance._on("options."+t.__namespace,function(){t.__optionsFormat()}),t.__instance._on("reposition."+t.__namespace,function(e){t.__reposition(e.event,e.helper)})},__close:function(){this.__instance.content()instanceof E&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=E('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(a,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1]),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]}),"string"==typeof e.__options.side){var t={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,t[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===E.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(l,c){var t,u=this,d=u.__targetFind(c),h=[];u.__instance._$tooltip.detach();var i=u.__instance._$tooltip.clone(),f=E.tooltipster._getRuler(i),p=!1,e=u.__instance.option("animation");switch(e&&i.removeClass("tooltipster-"+e),E.each(["window","document"],function(e,o){var r=null;if(u.__instance._trigger({container:o,helper:c,satisfied:p,takeTest:function(e){r=e},results:h,type:"positionTest"}),1==r||0!=r&&0==p&&("window"!=o||u.__options.viewportAware))for(e=0;e<u.__options.side.length;e++){var a={horizontal:0,vertical:0},s=u.__options.side[e];"top"==s||"bottom"==s?a.vertical=u.__options.distance[s]:a.horizontal=u.__options.distance[s],u.__sideChange(i,s),E.each(["natural","constrained"],function(e,t){if(r=null,u.__instance._trigger({container:o,event:l,helper:c,mode:t,results:h,satisfied:p,side:s,takeTest:function(e){r=e},type:"positionTest"}),1==r||0!=r&&0==p){var i={container:o,distance:a,fits:null,mode:t,outerSize:null,side:s,size:null,target:d[s],whole:null},n=("natural"==t?f.free():f.constrain(c.geo.available[o][s].width-a.horizontal,c.geo.available[o][s].height-a.vertical)).measure();if(i.size=n.size,i.outerSize={height:n.size.height+a.vertical,width:n.size.width+a.horizontal},"natural"==t?c.geo.available[o][s].width>=i.outerSize.width&&c.geo.available[o][s].height>=i.outerSize.height?i.fits=!0:i.fits=!1:i.fits=n.fits,"window"==o&&(i.fits?i.whole="top"==s||"bottom"==s?c.geo.origin.windowOffset.right>=u.__options.minIntersection&&c.geo.window.size.width-c.geo.origin.windowOffset.left>=u.__options.minIntersection:c.geo.origin.windowOffset.bottom>=u.__options.minIntersection&&c.geo.window.size.height-c.geo.origin.windowOffset.top>=u.__options.minIntersection:i.whole=!1),h.push(i),i.whole)p=!0;else if("natural"==i.mode&&(i.fits||i.size.width<=c.geo.available[o][s].width))return!1}})}}),u.__instance._trigger({edit:function(e){h=e},event:l,helper:c,results:h,type:"positionTested"}),h.sort(function(e,t){return e.whole&&!t.whole?-1:!e.whole&&t.whole?1:e.whole&&t.whole?(i=u.__options.side.indexOf(e.side))<(n=u.__options.side.indexOf(t.side))?-1:n<i?1:"natural"==e.mode?-1:1:e.fits&&!t.fits?-1:!e.fits&&t.fits?1:e.fits&&t.fits?(i=u.__options.side.indexOf(e.side))<(n=u.__options.side.indexOf(t.side))?-1:n<i?1:"natural"==e.mode?-1:1:"document"==e.container&&"bottom"==e.side&&"natural"==e.mode?-1:1;var i,n}),(t=h[0]).coord={},t.side){case"left":case"right":t.coord.top=Math.floor(t.target-t.size.height/2);break;case"bottom":case"top":t.coord.left=Math.floor(t.target-t.size.width/2)}switch(t.side){case"left":t.coord.left=c.geo.origin.windowOffset.left-t.outerSize.width;break;case"right":t.coord.left=c.geo.origin.windowOffset.right+t.distance.horizontal;break;case"top":t.coord.top=c.geo.origin.windowOffset.top-t.outerSize.height;break;case"bottom":t.coord.top=c.geo.origin.windowOffset.bottom+t.distance.vertical}"window"==t.container?"top"==t.side||"bottom"==t.side?t.coord.left<0?0<=c.geo.origin.windowOffset.right-this.__options.minIntersection?t.coord.left=0:t.coord.left=c.geo.origin.windowOffset.right-this.__options.minIntersection-1:t.coord.left>c.geo.window.size.width-t.size.width&&(c.geo.origin.windowOffset.left+this.__options.minIntersection<=c.geo.window.size.width?t.coord.left=c.geo.window.size.width-t.size.width:t.coord.left=c.geo.origin.windowOffset.left+this.__options.minIntersection+1-t.size.width):t.coord.top<0?0<=c.geo.origin.windowOffset.bottom-this.__options.minIntersection?t.coord.top=0:t.coord.top=c.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:t.coord.top>c.geo.window.size.height-t.size.height&&(c.geo.origin.windowOffset.top+this.__options.minIntersection<=c.geo.window.size.height?t.coord.top=c.geo.window.size.height-t.size.height:t.coord.top=c.geo.origin.windowOffset.top+this.__options.minIntersection+1-t.size.height):(t.coord.left>c.geo.window.size.width-t.size.width&&(t.coord.left=c.geo.window.size.width-t.size.width),t.coord.left<0&&(t.coord.left=0)),u.__sideChange(i,t.side),c.tooltipClone=i[0],c.tooltipParent=u.__instance.option("parent").parent[0],c.mode=t.mode,c.whole=t.whole,c.origin=u.__instance._$origin[0],c.tooltip=u.__instance._$tooltip[0],delete t.container,delete t.fits,delete t.mode,delete t.outerSize,delete t.whole,t.distance=t.distance.horizontal||t.distance.vertical;var n,o,r,a=E.extend(!0,{},t);if(u.__instance._trigger({edit:function(e){t=e},event:l,helper:c,position:a,type:"position"}),u.__options.functionPosition){var s=u.__options.functionPosition.call(u,u.__instance,c,a);s&&(t=s)}f.destroy(),"top"==t.side||"bottom"==t.side?(n={prop:"left",val:t.target-t.coord.left},o=t.size.width-this.__options.minIntersection):(n={prop:"top",val:t.target-t.coord.top},o=t.size.height-this.__options.minIntersection),n.val<this.__options.minIntersection?n.val=this.__options.minIntersection:n.val>o&&(n.val=o),r=c.geo.origin.fixedLineage?c.geo.origin.windowOffset:{left:c.geo.origin.windowOffset.left+c.geo.window.scroll.left,top:c.geo.origin.windowOffset.top+c.geo.window.scroll.top},t.coord={left:r.left+(t.coord.left-c.geo.origin.windowOffset.left),top:r.top+(t.coord.top-c.geo.origin.windowOffset.top)},u.__sideChange(u.__instance._$tooltip,t.side),c.geo.origin.fixedLineage?u.__instance._$tooltip.css("position","fixed"):u.__instance._$tooltip.css("position",""),u.__instance._$tooltip.css({left:t.coord.left,top:t.coord.top,height:t.size.height,width:t.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(n.prop,n.val),u.__instance._$tooltip.appendTo(u.__instance.option("parent")),u.__instance._trigger({type:"repositioned",event:l,position:t})},__sideChange:function(e,t){e.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(e){var t={},i=this.__instance._$origin[0].getClientRects();1<i.length&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(i.length<2)t.top=Math.floor(e.geo.origin.windowOffset.left+e.geo.origin.size.width/2),t.bottom=t.top,t.left=Math.floor(e.geo.origin.windowOffset.top+e.geo.origin.size.height/2),t.right=t.left;else{var n=i[0];t.top=Math.floor(n.left+(n.right-n.left)/2),n=2<i.length?i[Math.ceil(i.length/2)-1]:i[0],t.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],t.bottom=Math.floor(n.left+(n.right-n.left)/2),n=2<i.length?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],t.left=Math.floor(n.top+(n.bottom-n.top)/2)}return t}}}),E});var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var r=t,a=!0,s=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(s>=r.length)break;l=r[s++]}else{if((s=r.next()).done)break;l=s.value}l.apply(this,n)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var n=0;n<i.length;n++){if(i[n]===t){i.splice(n,1);break}}return this}}]),e}(),Dropzone=function(){function x(e,t){_classCallCheck(this,x);var i=_possibleConstructorReturn(this,(x.__proto__||Object.getPrototypeOf(x)).call(this)),n=void 0,o=void 0;if(i.element=e,i.version=x.version,i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,""),i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");x.instances.push(i),i.element.dropzone=i;var r,a=null!=(o=x.optionsForElement(i.element))?o:{};if(i.options=x.extend({},i.defaultOptions,a,null!=t?t:{}),i.options.forceFallback||!x.isBrowserSupported())return r=i.options.fallback.call(i),_possibleConstructorReturn(i,r);if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(i,e.name,e)}),i.options.method=i.options.method.toUpperCase(),(n=i.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=x.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=x.getElements(i.options.clickable,"clickable")),i.init(),i}return _inherits(x,Emitter),_createClass(x,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";var t=this.element.getElementsByTagName("div"),i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;if(/(^| )dz-message($| )/.test(r.className)){(e=r).className="dz-message";break}}e||(e=x.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var a=e.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,n){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},r=e.width/e.height;null==t&&null==i?(t=o.srcWidth,i=o.srcHeight):null==t?t=i*r:null==i&&(i=t/r);var a=(t=Math.min(t,o.srcWidth))/(i=Math.min(i,o.srcHeight));if(o.srcWidth>t||o.srcHeight>i)if("crop"===n)a<r?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==n)throw new Error("Unknown resizeMethod '"+n+"'");a<r?i=t/r:t=i*r}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=i,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=x.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var e=t.previewElement.querySelectorAll("[data-dz-name]"),n=!0,o=0;for(e=n?e:e[Symbol.iterator]();;){var r;if(n){if(o>=e.length)break;r=e[o++]}else{if((o=e.next()).done)break;r=o.value}var a=r;a.textContent=t.name}var s=t.previewElement.querySelectorAll("[data-dz-size]"),l=!0,c=0;for(s=l?s:s[Symbol.iterator]();;){if(l){if(c>=s.length)break;a=s[c++]}else{if((c=s.next()).done)break;a=c.value}a.innerHTML=this.filesize(t.size)}this.options.addRemoveLinks&&(t._removeLink=x.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));var u=function(e){return e.preventDefault(),e.stopPropagation(),t.status===x.UPLOADING?x.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):i.options.dictRemoveFileConfirmation?x.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(t)}):i.removeFile(t)},d=t.previewElement.querySelectorAll("[data-dz-remove]"),h=!0,f=0;for(d=h?d:d[Symbol.iterator]();;){var p;if(h){if(f>=d.length)break;p=d[f++]}else{if((f=d.next()).done)break;p=f.value}p.addEventListener("click",u)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var i=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=!0,o=0;for(i=n?i:i[Symbol.iterator]();;){var r;if(n){if(o>=i.length)break;r=i[o++]}else{if((o=i.next()).done)break;r=o.value}var a=r;a.alt=e.name,a.src=t}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var i=e.previewElement.querySelectorAll("[data-dz-errormessage]"),n=!0,o=0;for(i=n?i:i[Symbol.iterator]();;){var r;if(n){if(o>=i.length)break;r=i[o++]}else{if((o=i.next()).done)break;r=o.value}r.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){if(e.previewElement){var i=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),n=!0,o=0;for(i=n?i:i[Symbol.iterator]();;){var r;if(n){if(o>=i.length)break;r=i[o++]}else{if((o=i.next()).done)break;r=o.value}var a=r;"PROGRESS"===a.nodeName?a.value=t:a.style.width=t+"%"}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o=i,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;for(var c in l){var u=l[c];e[c]=u}}return e}}]),_createClass(x,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(x.QUEUED)}},{key:"getUploadingFiles",value:function(){
return this.getFilesWithStatus(x.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(x.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===x.UPLOADING||e.status===x.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var s=this;("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(x.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length)&&function a(){return s.hiddenFileInput&&s.hiddenFileInput.parentNode.removeChild(s.hiddenFileInput),s.hiddenFileInput=document.createElement("input"),s.hiddenFileInput.setAttribute("type","file"),(null===s.options.maxFiles||1<s.options.maxFiles)&&s.hiddenFileInput.setAttribute("multiple","multiple"),s.hiddenFileInput.className="dz-hidden-input",null!==s.options.acceptedFiles&&s.hiddenFileInput.setAttribute("accept",s.options.acceptedFiles),null!==s.options.capture&&s.hiddenFileInput.setAttribute("capture",s.options.capture),s.hiddenFileInput.style.visibility="hidden",s.hiddenFileInput.style.position="absolute",s.hiddenFileInput.style.top="0",s.hiddenFileInput.style.left="0",s.hiddenFileInput.style.height="0",s.hiddenFileInput.style.width="0",x.getElement(s.options.hiddenInputContainer,"hiddenInputContainer").appendChild(s.hiddenFileInput),s.hiddenFileInput.addEventListener("change",function(){var e=s.hiddenFileInput.files;if(e.length){var t=e,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;s.addFile(r)}}return s.emit("addedfiles",e),a()})}();this.URL=null!==window.URL?window.URL:window.webkitURL;var e=this.events,t=!0,i=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(i>=e.length)break;n=e[i++]}else{if((i=e.next()).done)break;n=i.value}var o=n;this.on(o,this.options[o])}this.on("uploadprogress",function(){return s.updateTotalUploadProgress()}),this.on("removedfile",function(){return s.updateTotalUploadProgress()}),this.on("canceled",function(e){return s.emit("complete",e)}),this.on("complete",function(){if(0===s.getAddedFiles().length&&0===s.getUploadingFiles().length&&0===s.getQueuedFiles().length)return setTimeout(function(){return s.emit("queuecomplete")},0)});var r=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return s.emit("dragstart",e)},dragenter:function(e){return r(e),s.emit("dragenter",e)},dragover:function(e){var t=void 0;try{t=e.dataTransfer.effectAllowed}catch(i){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",r(e),s.emit("dragover",e)},dragleave:function(e){return s.emit("dragleave",e)},drop:function(e){return r(e),s.drop(e)},dragend:function(e){return s.emit("dragend",e)}}}],this.clickableElements.forEach(function(t){return s.listeners.push({element:t,events:{click:function(e){return(t!==s.element||e.target===s.element||x.elementInside(e.target,s.element.querySelector(".dz-message")))&&s.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:undefined)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,x.instances.splice(x.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,i=0;if(this.getActiveFiles().length){var n=this.getActiveFiles(),o=!0,r=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var s=a;t+=s.upload.bytesSent,i+=s.upload.total}e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e=void 0,t=void 0;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"></div>';var n=x.createElement(i);return"FORM"!==this.element.tagName?(t=x.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:n}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t=e,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;if(/(^| )fallback($| )/.test(r.className))return r}},t=["div","form"],i=0;i<t.length;i++){var n,o=t[i];if(n=e(this.element.getElementsByTagName(o)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(n){return function(){var e=[];for(var t in n.events){var i=n.events[t];e.push(n.element.addEventListener(t,i,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(n){return function(){var e=[];for(var t in n.events){var i=n.events[t];e.push(n.element.removeEventListener(t,i,!1))}return e}()})}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,i="b";if(0<e){for(var n=["tb","gb","mb","kb","b"],o=0;o<n.length;o++){var r=n[o];if(Math.pow(this.options.filesizeBase,4-o)/10<=e){t=e/Math.pow(this.options.filesizeBase,4-o),i=r;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(this.emit("addedfiles",t),t.length){var n=e.dataTransfer.items;n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:undefined,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t=e,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;this.addFile(r)}}},{key:"_addFilesFromItems",value:function(s){var l=this;return function(){var e=[],t=s,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r,a=o;null!=a.webkitGetAsEntry&&(r=a.webkitGetAsEntry())?r.isFile?e.push(l.addFile(a.getAsFile())):r.isDirectory?e.push(l._addFilesFromDirectory(r,r.name)):e.push(undefined):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?e.push(l.addFile(a.getAsFile())):e.push(undefined)}return e}()}},{key:"_addFilesFromDirectory",value:function(e,s){var l=this,t=e.createReader(),i=function(t){return __guardMethod__(console,"log",function(e){return e.log(t)})};return function a(){return t.readEntries(function(e){if(0<e.length){var t=e,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;r.isFile?r.file(function(e){if(!l.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=s+"/"+e.name,l.addFile(e)}):r.isDirectory&&l._addFilesFromDirectory(r,s+"/"+r.name)}a()}return null},i)}()}},{key:"accept",value:function(e,t){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):x.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var i=this;return t.upload={uuid:x.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t),chunked:this.options.chunking&&(this.options.forceChunking||t.size>this.options.chunkSize),totalChunkCount:Math.ceil(t.size/this.options.chunkSize)},this.files.push(t),t.status=x.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t=e,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;this.enqueueFile(r)}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==x.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=x.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var i=this._thumbnailQueue.shift();return this.createThumbnail(i,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return t.emit("thumbnail",i,e),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===x.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t=this.files.slice(),i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;(r.status!==x.UPLOADING||e)&&this.removeFile(r)}return null}},{key:"resizeImage",value:function(o,e,t,i,r){var a=this;return this.createThumbnail(o,e,t,i,!0,function(e,t){if(null==t)return r(o);var i=a.options.resizeMimeType;null==i&&(i=o.type);var n=t.toDataURL(i,a.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(n=ExifRestore.restore(o.dataURL,n)),r(x.dataURItoBlob(n))})}},{key:"createThumbnail",value:function(e,t,i,n,o,r){var a=this,s=new FileReader;return s.onload=function(){if(e.dataURL=s.result,"image/svg+xml"!==e.type)return a.createThumbnailFromUrl(e,t,i,n,o,r);null!=r&&r(s.result)},s.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(r,a,s,l,t,c,e){var u=this,d=document.createElement("img");return e&&(d.crossOrigin=e),d.onload=function(){var e=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&t&&(e=function(e){return EXIF.getData(d,function(){return e(EXIF.getTag(this,"Orientation"))})}),e(function(e){r.width=d.width,r.height=d.height;var t=u.options.resize.call(u,r,a,s,l),i=document.createElement("canvas"),n=i.getContext("2d");switch(i.width=t.trgWidth,i.height=t.trgHeight,4<e&&(i.width=t.trgHeight,i.height=t.trgWidth),e){case 2:n.translate(i.width,0),n.scale(-1,1);break;case 3:n.translate(i.width,i.height),n.rotate(Math.PI);break;case 4:n.translate(0,i.height),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i.width);break;case 7:n.rotate(.5*Math.PI),n.translate(i.height,-i.width),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-i.height,0)}drawImageIOSFix(n,d,null!=t.srcX?t.srcX:0,null!=t.srcY?t.srcY:0,t.srcWidth,t.srcHeight,null!=t.trgX?t.trgX:0,null!=t.trgY?t.trgY:0,t.trgWidth,t.trgHeight);var o=i.toDataURL("image/png");if(null!=c)return c(o,i)})},null!=c&&(d.onerror=c),d.src=r.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,i=t;if(!(e<=t)){var n=this.getQueuedFiles();if(0<n.length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t));for(;i<e;){if(!n.length)return;this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t=e,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;r.processing=!0,r.status=x.UPLOADING,this.emit("processing",r)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===x.UPLOADING){var t=this._getFilesWithXhr(e.xhr),i=t,n=!0,o=0;for(i=n?i:i[Symbol.iterator]();;){var r;if(n){if(o>=i.length)break;r=i[o++]}else{if((o=i.next()).done)break;r=o.value}r.status=x.CANCELED}"undefined"!=typeof e.xhr&&e.xhr.abort();var a=t,s=!0,l=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}var u=c;this.emit("canceled",u)}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==x.ADDED&&e.status!==x.QUEUED||(e.status=x.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.apply(this,i)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(s){var l=this;this._transformFiles(s,function(e){if(s[0].upload.chunked){var o=s[0],r=e[0];o.upload.chunks=[];var n=function(){for(var e=0;o.upload.chunks[e]!==undefined;)e++;if(!(e>=o.upload.totalChunkCount)){0;var t=e*l.options.chunkSize,i=Math.min(t+l.options.chunkSize,o.size),n={name:l._getParamName(0),data:r.webkitSlice?r.webkitSlice(t,i):r.slice(t,i),filename:o.upload.filename,chunkIndex:e};o.upload.chunks[e]={file:o,index:e,dataBlock:n,status:x.UPLOADING,progress:0,retries:0},l._uploadData(s,[n])}};if(o.upload.finishedChunkUpload=function(e){var t=!0;e.status=x.SUCCESS,e.dataBlock=null,e.xhr=null;for(var i=0;i<o.upload.totalChunkCount;i++){if(o.upload.chunks[i]===undefined)return n();o.upload.chunks[i].status!==x.SUCCESS&&(t=!1)}t&&l.options.chunksUploaded(o,function(){l._finished(s,"",null)})},l.options.parallelChunkUploads)for(var t=0;t<o.upload.totalChunkCount;t++)n();else n()}else{for(var i=[],a=0;a<s.length;a++)i[a]={name:l._getParamName(a),data:e[a],filename:s[a].upload.filename};l._uploadData(s,i)}})}},{key:"_getChunk",value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==undefined&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}},{key:"_uploadData",value:function(t,e){var i=this,n=new XMLHttpRequest,o=t,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}s.xhr=n}t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=n);var l=this.resolveOption(this.options.method,t),c=this.resolveOption(this.options.url,t);n.open(l,c,!0),n.timeout=this.resolveOption(this.options.timeout,t),n.withCredentials=!!this.options.withCredentials,n.onload=function(e){i._finishedUploading(t,n,e)},n.onerror=function(){i._handleUploadError(t,n)},(null!=n.upload?n.upload:n).onprogress=function(e){return i._updateFilesUploadProgress(t,n,e)};var u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&x.extend(u,this.options.headers),u){var h=u[d];h&&n.setRequestHeader(d,h)}var f=new FormData;if(this.options.params){var p=this.options.params;for(var m in"function"==typeof p&&(p=p.call(this,t,n,t[0].upload.chunked?this._getChunk(t[0],n):null)),p){var g=p[m];f.append(m,g)}}var v=t,y=!0,b=0;for(v=y?v:v[Symbol.iterator]();;){var _;if(y){if(b>=v.length)break;_=v[b++]}else{if((b=v.next()).done)break;_=b.value}var w=_;this.emit("sending",w,n,f)}this.options.uploadMultiple&&this.emit("sendingmultiple",t,n,f),this._addFormElementData(f);for(var k=0;k<e.length;k++){var C=e[k];f.append(C.name,C.data,C.filename)}this.submitRequest(n,f,t)}},{key:"_transformFiles",value:function(i,n){for(var e=this,o=[],r=0,t=function(t){e.options.transformFile.call(e,i[t],function(e){o[t]=e,++r===i.length&&n(o)})},a=0;a<i.length;a++)t(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=this.element.querySelectorAll("input, textarea, select, button"),i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o,a=r.getAttribute("name"),s=r.getAttribute("type");if(s&&(s=s.toLowerCase()),null!=a)if("SELECT"===r.tagName&&r.hasAttribute("multiple")){var l=r.options,c=!0,u=0;for(l=c?l:l[Symbol.iterator]();;){var d;if(c){if(u>=l.length)break;d=l[u++]}else{if((u=l.next()).done)break;d=u.value}var h=d;h.selected&&e.append(a,h.value)}}else(!s||"checkbox"!==s&&"radio"!==s||r.checked)&&e.append(a,r.value)}}}},{key:"_updateFilesUploadProgress",value:function(e,t,i){var n=void 0;if(void 0!==i){if(n=100*i.loaded/i.total,e[0].upload.chunked){var o=e[0],r=this._getChunk(o,t);r.progress=n,r.total=i.total,r.bytesSent=i.loaded;o.upload.progress=0,o.upload.total=0;for(var a=o.upload.bytesSent=0;a<o.upload.totalChunkCount;a++)o.upload.chunks[a]!==undefined&&o.upload.chunks[a].progress!==undefined&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else{var s=e,l=!0,c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var d=u;d.upload.progress=n,d.upload.total=i.total,d.upload.bytesSent=i.loaded}}var h=e,f=!0,p=0;for(h=f?h:h[Symbol.iterator]();;){var m;if(f){if(p>=h.length)break;m=h[p++]}else{if((p=h.next()).done)break;m=p.value}var g=m;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}else{var v=!0;n=100;var y=e,b=!0,_=0;for(y=b?y:y[Symbol.iterator]();;){var w;if(b){if(_>=y.length)break;w=y[_++]}else{if((_=y.next()).done)break;w=_.value}var k=w;100===k.upload.progress&&k.upload.bytesSent===k.upload.total||(v=!1),k.upload.progress=n,k.upload.bytesSent=k.upload.total}if(v)return;var C=e,x=!0,T=0;for(C=x?C:C[Symbol.iterator]();;){var S;if(x){if(T>=C.length)break;S=C[T++]}else{if((T=C.next()).done)break;S=T.value}var $=S;this.emit("uploadprogress",$,n,$.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,t,i){var n=void 0;if(e[0].status!==x.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(n=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(o){i=o,n="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,n,i):this._handleUploadError(e,t,n)}}},{key:"_handleUploadError",value:function(e,t,i){if(e[0].status!==x.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var n=this._getChunk(e[0],t);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}var o=e,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){if(r){if(a>=o.length)break;o[a++]}else{if((a=o.next()).done)break;a.value}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}}},{key:"submitRequest",value:function(e,t){e.send(t)}},{key:"_finished",value:function(e,t,i){var n=e,o=!0,r=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var s=a;s.status=x.SUCCESS,this.emit("success",s,t,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,i){var n=e,o=!0,r=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var s=a;s.status=x.ERROR,this.emit("error",s,t,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),x}();Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:undefined},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:undefined))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var s=void 0;if(document.querySelectorAll)s=document.querySelectorAll(".dropzone");else{s=[];var e=function(a){return function(){var e=[],t=a,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;/(^| )dropzone($| )/.test(r.className)?e.push(s.push(r)):e.push(undefined)}return e}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){var e=[],t=s,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var r=o;!1!==Dropzone.optionsForElement(r)?e.push(new Dropzone(r)):e.push(undefined)}return e}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=Dropzone.blacklistedBrowsers,i=!0,n=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}o.test(navigator.userAgent)&&(e=!1)}}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),r=0,a=t.length,s=0<=a;s?r<=a:a<=r;s?r++:r--)o[r]=t.charCodeAt(r);return new Blob([n],{type:i})};var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var i=void 0;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},Dropzone.getElements=function(e,t){var i=void 0,n=void 0;if(e instanceof Array){n=[];try{var o=e,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){if(r){if(a>=o.length)break;i=o[a++]}else{if((a=o.next()).done)break;i=a.value}n.push(this.getElement(i,t))}}catch(u){n=null}}else if("string"==typeof e){n=[];var s=document.querySelectorAll(e),l=!0,c=0;for(s=l?s:s[Symbol.iterator]();;){if(l){if(c>=s.length)break;i=s[c++]}else{if((c=s.next()).done)break;i=c.value}n.push(i)}}else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},Dropzone.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var i=e.type,n=i.replace(/\/.*$/,""),o=t,r=!0,a=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;if("."===(l=l.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return!0}else if(/\/\*$/.test(l)){if(n===l.replace(/\/.*$/,""))return!0}else if(i===l)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){e.naturalWidth;var t=e.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=t;var n=i.getContext("2d");n.drawImage(e,0,0);for(var o=n.getImageData(1,0,1,t).data,r=0,a=t,s=t;r<s;){0===o[4*(s-1)+3]?a=s:r=s,s=a+r>>1}var l=s/t;return 0===l?1:l},drawImageIOSFix=function(e,t,i,n,o,r,a,s,l,c){var u=detectVerticalSquash(t);return e.drawImage(t,i,n,o,r,a,s,l,c/u)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",i=undefined,n=undefined,o="",r=undefined,a=undefined,s=undefined,l="",c=0;r=(i=e[c++])>>2,a=(3&i)<<4|(n=e[c++])>>4,s=(15&n)<<2|(o=e[c++])>>6,l=63&o,isNaN(n)?s=l=64:isNaN(o)&&(l=64),t=t+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),i=n=o="",r=a=s=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var i=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),o=this.exifManipulation(t,n);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i);return new Uint8Array(n)}},{key:"getExifArray",value:function(e){for(var t=undefined,i=0;i<e.length;){if(255===(t=e[i])[0]&225===t[1])return t;i++}return[]}},{key:"insertExif",value:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),o=n.indexOf(255,3),r=n.slice(0,o),a=n.slice(o),s=r;return s=(s=s.concat(t)).concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,i=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var n=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,n);i.push(o),t=n}if(t>e.length)break}return i}},{key:"decode64",value:function(e){var t=undefined,i=undefined,n="",o=(undefined,undefined),r=undefined,a="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(o=this.KEY_STR.indexOf(e.charAt(s++)))>>4,i=(15&o)<<4|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>2,n=(3&r)<<6|(a=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==r&&l.push(i),64!==a&&l.push(n),t=i=n="",o=r=a="",s<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function(i,n){var o=!1,t=!0,r=i.document,a=r.documentElement,s=r.addEventListener?"addEventListener":"attachEvent",l=r.addEventListener?"removeEventListener":"detachEvent",c=r.addEventListener?"":"on",u=function e(t){if("readystatechange"!==t.type||"complete"===r.readyState)return("load"===t.type?i:r)[l](c+t.type,e,!1),!o&&(o=!0)?n.call(i,t.type||t):void 0},d=function e(){try{a.doScroll("left")}catch(t){return void setTimeout(e,50)}return u("poll")};if("complete"!==r.readyState){if(r.createEventObject&&a.doScroll){try{t=!i.frameElement}catch(h){}t&&d()}return r[s](c+"DOMContentLoaded",u,!1),r[s](c+"readystatechange",u,!1),i[s](c+"load",u,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},writable:!0,configurable:!0}),RecordRTC.version="5.5.7","undefined"!=typeof module&&(module.exports=RecordRTC),"function"==typeof define&&define.amd&&define("RecordRTC",[],function(){return RecordRTC}),RecordRTC.getFromDisk=function(i,n){if(!n)throw"callback is mandatory.";console.log("Getting recorded "+("all"===i?"blobs":i+" blob ")+" from disk!"),DiskStorage.Fetch(function(e,t){"all"!==i&&t===i+"Blob"&&n&&n(e),"all"===i&&n&&n(e,t.replace("Blob",""))})},RecordRTC.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL(function(i){e.video.getDataURL(function(t){e.gif.getDataURL(function(e){DiskStorage.Store({audioBlob:i,videoBlob:t,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){DiskStorage.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){DiskStorage.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){DiskStorage.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){DiskStorage.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){DiskStorage.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){DiskStorage.Store({gifBlob:e})})},MRecordRTC.getFromDisk=RecordRTC.getFromDisk,MRecordRTC.writeToDisk=RecordRTC.writeToDisk,void 0!==RecordRTC&&(RecordRTC.MRecordRTC=MRecordRTC);var browserFakeUserAgent="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";!function(e){e&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},global.console||(global.console={}),"undefined"!=typeof global.console.log&&"undefined"!=typeof global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),
"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),void 0===URL&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=global)}("undefined"!=typeof global?global:null);var requestAnimationFrame=window.requestAnimationFrame;if(void 0===requestAnimationFrame)if("undefined"!=typeof webkitRequestAnimationFrame)requestAnimationFrame=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)requestAnimationFrame=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)requestAnimationFrame=msRequestAnimationFrame;else if(void 0===requestAnimationFrame){var lastTime=0;requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-lastTime)),n=setTimeout(function(){e(t+i)},i);return lastTime=t+i,n}}var cancelAnimationFrame=window.cancelAnimationFrame;void 0===cancelAnimationFrame&&("undefined"!=typeof webkitCancelAnimationFrame?cancelAnimationFrame=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?cancelAnimationFrame=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?cancelAnimationFrame=msCancelAnimationFrame:void 0===cancelAnimationFrame&&(cancelAnimationFrame=function(e){clearTimeout(e)}));var AudioContext=window.AudioContext;void 0===AudioContext&&("undefined"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;void 0===URL&&"undefined"!=typeof webkitURL&&(URL=webkitURL),"undefined"!=typeof navigator&&"undefined"==typeof navigator.getUserMedia&&("undefined"!=typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!=typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var isEdge=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),isOpera=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),isFirefox=-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&"netscape"in window&&/ rv:/.test(navigator.userAgent),isChrome=!isOpera&&!isEdge&&!!navigator.webkitGetUserMedia||isElectron()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);isSafari&&!isChrome&&-1!==navigator.userAgent.indexOf("CriOS")&&(isChrome=!(isSafari=!1));var MediaStream=window.MediaStream;void 0===MediaStream&&"undefined"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),void 0!==MediaStream&&"undefined"==typeof MediaStream.prototype.stop&&(MediaStream.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}),void 0!==RecordRTC&&(RecordRTC.invokeSaveAsDialog=invokeSaveAsDialog,RecordRTC.getTracks=getTracks,RecordRTC.getSeekableBlob=getSeekableBlob,RecordRTC.bytesToSize=bytesToSize,RecordRTC.isElectron=isElectron);var Storage={};void 0!==AudioContext?Storage.AudioContext=AudioContext:"undefined"!=typeof webkitAudioContext&&(Storage.AudioContext=webkitAudioContext),void 0!==RecordRTC&&(RecordRTC.Storage=Storage),void 0!==RecordRTC&&(RecordRTC.MediaStreamRecorder=MediaStreamRecorder),void 0!==RecordRTC&&(RecordRTC.StereoAudioRecorder=StereoAudioRecorder),void 0!==RecordRTC&&(RecordRTC.CanvasRecorder=CanvasRecorder),void 0!==RecordRTC&&(RecordRTC.WhammyRecorder=WhammyRecorder);var Whammy=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function i(e){var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(t);return URL.revokeObjectURL(t),i}function n(e){function t(e){var t=u(e);if(!t)return[];for(var i=3e4,n=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:m(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],o=0,r=0;o<e.length;){for(var a=[],s=0;a.push(e[o]),s+=e[o].duration,++o<e.length&&s<i;);var l={id:524531317,data:c(r,0,a)};n[1].data.push(l),r+=s}return p(n)}function c(e,i,t){return[{data:e,id:231}].concat(t.map(function(e){var t=n({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(i)});return i+=e.duration,{data:t,id:163}}))}function u(e){if(e[0]){for(var t=e[0].width,i=e[0].height,n=e[0].duration,o=1;o<e.length;o++)n+=e[o].duration;return{duration:n,width:t,height:i}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}function d(e){for(var t=[];0<e;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function h(e){return new Uint8Array(e.split("").map(function(e){return e.charCodeAt(0)}))}function f(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var i=0;i<e.length;i+=8)t.push(parseInt(e.substr(i,8),2));return new Uint8Array(t)}function p(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].data;"object"==typeof n&&(n=p(n)),"number"==typeof n&&(n=f(n.toString(2))),"string"==typeof n&&(n=h(n));var o=n.size||n.byteLength||n.length,r=Math.ceil(Math.ceil(Math.log(o)/Math.log(2))/8),a=o.toString(2),s=new Array(7*r+7+1-a.length).join("0")+a,l=new Array(r).join("0")+"1"+s;t.push(d(e[i].id)),t.push(f(l)),t.push(n)}return new Blob(t,{type:"video/webm"})}function n(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),127<e.trackNum)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}function i(e){for(var t=e.RIFF[0].WEBP[0],i=t.indexOf("\x9d\x01*"),n=0,o=[];n<4;n++)o[n]=t.charCodeAt(i+3+n);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}function a(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}function s(e){for(var t=0,i={};t<e.length;){var n=e.substr(t,4),o=a(e,t),r=e.substr(t+4+4,o);t+=8+o,i[n]=i[n]||[],"RIFF"===n||"LIST"===n?i[n].push(s(r)):i[n].push(r)}return i}function m(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}var o=new t(e.map(function(e){var t=i(s(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(o)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(t){var e=i(n);e.onmessage=function(e){return e.data.error?void console.error(e.data.error):void t(e.data)},e.postMessage(this.frames)},{Video:e}}();void 0!==RecordRTC&&(RecordRTC.Whammy=Whammy);var DiskStorage={init:function(){function t(e){e.createObjectStore(n.dataStoreName)}function e(){function e(t){i.objectStore(n.dataStoreName).get(t).onsuccess=function(e){n.callback&&n.callback(e.target.result,t)}}var i=o.transaction([n.dataStoreName],"readwrite");n.videoBlob&&i.objectStore(n.dataStoreName).put(n.videoBlob,"videoBlob"),n.gifBlob&&i.objectStore(n.dataStoreName).put(n.gifBlob,"gifBlob"),n.audioBlob&&i.objectStore(n.dataStoreName).put(n.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var n=this;if("undefined"!=typeof indexedDB&&"undefined"!=typeof indexedDB.open){var o,i=1,r=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),a=indexedDB.open(r,i);a.onerror=n.onError,a.onsuccess=function(){if((o=a.result).onerror=n.onError,o.setVersion)if(o.version!==i){o.setVersion(i).onsuccess=function(){t(o),e()}}else e();else e()},a.onupgradeneeded=function(e){t(e.target.result)}}else console.error("IndexedDB API are not available in this browser.")},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};void 0!==RecordRTC&&(RecordRTC.DiskStorage=DiskStorage),void 0!==RecordRTC&&(RecordRTC.GifRecorder=GifRecorder),void 0===RecordRTC&&("undefined"!=typeof module&&(module.exports=MultiStreamsMixer),"function"==typeof define&&define.amd&&define("MultiStreamsMixer",[],function(){return MultiStreamsMixer})),void 0!==RecordRTC&&(RecordRTC.MultiStreamRecorder=MultiStreamRecorder),void 0!==RecordRTC&&(RecordRTC.RecordRTCPromisesHandler=RecordRTCPromisesHandler),void 0!==RecordRTC&&(RecordRTC.WebAssemblyRecorder=WebAssemblyRecorder),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e=e||self).Plyr=t()}(this,function(){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function e(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==s["return"]||s["return"]()}finally{if(o)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){if(t<1){var i=(n="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(n[1]?n[1].length:0)-(n[2]?+n[2]:0)):0;return parseFloat(e.toFixed(i))}var n;return Math.round(e/t)*t}function f(t,e,i,n,o,r){var a=this,s=3<arguments.length&&void 0!==n&&n,l=!(4<arguments.length&&void 0!==o)||o,c=5<arguments.length&&void 0!==r&&r;if(t&&"addEventListener"in t&&!_e.empty(e)&&_e["function"](i)){var u=e.split(" "),d=c;we&&(d={passive:l,capture:c}),u.forEach(function(e){a&&a.eventListeners&&s&&a.eventListeners.push({element:t,type:e,callback:i,options:d}),t[s?"addEventListener":"removeEventListener"](e,i,d)})}}function C(e,t,i,n,o){var r=1<arguments.length&&void 0!==t?t:"",a=2<arguments.length?i:void 0,s=!(3<arguments.length&&void 0!==n)||n,l=4<arguments.length&&void 0!==o&&o;f.call(this,e,r,a,!0,s,l)}function p(e,t,i,n,o){var r=1<arguments.length&&void 0!==t?t:"",a=2<arguments.length?i:void 0,s=!(3<arguments.length&&void 0!==n)||n,l=4<arguments.length&&void 0!==o&&o;f.call(this,e,r,a,!1,s,l)}function o(o,t,i,n,r){var a=this,s=1<arguments.length&&void 0!==t?t:"",l=2<arguments.length?i:void 0,c=!(3<arguments.length&&void 0!==n)||n,u=4<arguments.length&&void 0!==r&&r;f.call(this,o,s,function e(){p(o,s,e,c,u);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];l.apply(a,i)},!0,c,u)}function v(e,t,i,n){var o=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==i&&i,a=3<arguments.length&&void 0!==n?n:{};if(_e.element(e)&&!_e.empty(o)){var s=new CustomEvent(o,{bubbles:r,detail:Object.assign({},a,{plyr:this})});e.dispatchEvent(s)}}function s(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function x(e){for(var t=0<arguments.length&&void 0!==e?e:{},i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];if(!n.length)return t;var r=n.shift();return _e.object(r)?(Object.keys(r).forEach(function(e){_e.object(r[e])?(Object.keys(t).includes(e)||Object.assign(t,a({},e,{})),x(t[e],r[e])):Object.assign(t,a({},e,r[e]))}),x.apply(void 0,[t].concat(n))):t}function u(e,r){var t=e.length?e:[e];Array.from(t).reverse().forEach(function(e,t){var i=0<t?r.cloneNode(!0):r,n=e.parentNode,o=e.nextSibling;i.appendChild(e),o?n.insertBefore(i,o):n.appendChild(i)})}function c(o,e){_e.element(o)&&!_e.empty(e)&&Object.entries(e).filter(function(e){var t=g(e,2)[1];return!_e.nullOrUndefined(t)}).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];return o.setAttribute(i,n)})}function T(e,t,i){var n=document.createElement(e);return _e.object(t)&&c(n,t),_e.string(i)&&(n.innerText=i),n}function r(e,t,i,n){_e.element(t)&&t.appendChild(T(e,i,n))}function m(e){_e.nodeList(e)||_e.array(e)?Array.from(e).forEach(m):_e.element(e)&&_e.element(e.parentNode)&&e.parentNode.removeChild(e)}function y(e){if(_e.element(e))for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),t-=1}function b(e,t){return _e.element(t)&&_e.element(t.parentNode)&&_e.element(e)?(t.parentNode.replaceChild(e,t),e):null}function S(e,t){if(!_e.string(e)||_e.empty(e))return{};var a={},s=x({},t);return e.split(",").forEach(function(e){var t=e.trim(),i=t.replace(".",""),n=t.replace(/[[\]]/g,"").split("="),o=g(n,1)[0],r=1<n.length?n[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":_e.string(s["class"])?a["class"]="".concat(s["class"]," ").concat(i):a["class"]=i;break;case"#":a.id=t.replace("#","");break;case"[":a[o]=r}}),x(s,a)}function _(e,t){if(_e.element(e)){var i=t;_e["boolean"](i)||(i=!e.hidden),i?e.setAttribute("hidden",""):e.removeAttribute("hidden")}}function w(e,t,i){if(_e.nodeList(e))return Array.from(e).map(function(e){return w(e,t,i)});if(_e.element(e)){var n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function k(e,t){return _e.element(e)&&e.classList.contains(t)}function $(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function E(e){return this.elements.container.querySelectorAll(e)}function A(e){return this.elements.container.querySelector(e)}function D(e,t){var i=0<arguments.length&&void 0!==e?e:null,n=1<arguments.length&&void 0!==t&&t;_e.element(i)&&(i.focus({preventScroll:!0}),n&&w(i,this.config.classNames.tabFocus))}function R(e){setTimeout(function(){try{_(e,!0),e.offsetHeight,_(e,!1)}catch(e){}},0)}function L(e){return!!(_e.array(e)||_e.string(e)&&e.includes(":"))&&(_e.array(e)?e:e.split(":")).map(Number).every(_e.number)}function M(t){if(!_e.array(t)||!t.every(_e.number))return null;var i=g(t,2),n=i[0],o=i[1],r=function e(t,i){return 0===i?t:e(i,t%i)}(n,o);return[n/r,o/r]}function z(e){var t=function(e){return L(e)?e.split(":").map(Number):null},i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!_e.empty(this.embed)&&_e.array(this.embed.ratio)&&(i=this.embed.ratio),null===i&&this.isHTML5){var n=this.media;i=M([n.videoWidth,n.videoHeight])}return i}function j(e){if(!this.isVideo)return{};var t=z.call(this,e),i=g(_e.array(t)?t:[0,0],2),n=100/i[0]*i[1];if(this.elements.wrapper.style.paddingBottom="".concat(n,"%"),this.isVimeo&&this.supported.ui){var o=(240-n)/4.8;this.media.style.transform="translateY(-".concat(o,"%)")}else this.isHTML5&&this.elements.wrapper.classList.toggle(this.config.classNames.videoFixedRatio,null!==t);return{padding:n,ratio:t}}function N(i){return _e.array(i)?i.filter(function(e,t){return i.indexOf(e)===t}):i}function P(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return _e.empty(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return i[t].toString()})}function I(e,t,i){var n=0<arguments.length&&void 0!==e?e:"",o=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==i?i:"";return n.replace(new RegExp(o.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),r.toString())}function F(e){return(0<arguments.length&&void 0!==e?e:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function O(e){var t=(0<arguments.length&&void 0!==e?e:"").toString();return(t=function(e){var t=(0<arguments.length&&void 0!==e?e:"").toString();return I(t=F(t=I(t=I(t,"-"," "),"_"," "))," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}function q(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function H(n,e){var o=1<arguments.length&&void 0!==e?e:"text";return new Promise(function(e,t){try{var i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",function(){if("text"===o)try{e(JSON.parse(i.responseText))}catch(n){e(i.responseText)}else e(i.response)}),i.addEventListener("error",function(){throw new Error(i.status)}),i.open("GET",n,!0),i.responseType=o,i.send()}catch(n){t(n)}})}function U(e,t){if(_e.string(e)){var i=_e.string(t),n=function(){return null!==document.getElementById(t)},o=function(e,t){e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){var r=Ae.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),i&&a.setAttribute("id",t),r){var s=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==s){var l=JSON.parse(s);o(a,l.content)}}H(e).then(function(e){_e.empty(e)||(r&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),o(a,e))})["catch"](function(){})}}}function B(e,t,i){var n=0<arguments.length&&void 0!==e?e:0,o=1<arguments.length&&void 0!==t&&t,r=2<arguments.length&&void 0!==i&&i;if(!_e.number(n))return B(null,o,r);var a=function(e){return"0".concat(e).slice(-2)},s=De(n),l=Re(n),c=Le(n);return s=o||0<s?"".concat(s,":"):"","".concat(r&&0<n?"-":"").concat(s).concat(a(l),":").concat(a(c))}function W(e,t){var i=e;if(!(1<arguments.length&&void 0!==t)||t){var n=document.createElement("a");n.href=i,i=n.href}try{return new URL(i)}catch(e){return null}}function V(e){var o=new URLSearchParams;return _e.object(e)&&Object.entries(e).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];o.set(i,n)}),o}function G(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;_e.element(e)&&(e.pressed=this.active),v.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),Ce.isIos||function(e,t){var i=0<arguments.length&&void 0!==e?e:null,n=1<arguments.length&&void 0!==t&&t;if(_e.element(i)){var o=E.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),r=o[0],a=o[o.length-1];f.call(this,this.elements.container,"keydown",function(e){if("Tab"===e.key&&9===e.keyCode){var t=document.activeElement;t!==a||e.shiftKey?t===r&&e.shiftKey&&(a.focus(),e.preventDefault()):(r.focus(),e.preventDefault())}},n,!1)}}.call(this.player,this.target,this.active)}}function t(e){var t=this,i=0<arguments.length&&void 0!==e&&e;if(i?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=i?"hidden":"",w(this.target,this.player.config.classNames.fullscreen.fallback,i),Ce.isIos){var n=document.head.querySelector('meta[name="viewport"]'),o="viewport-fit=cover";n||(n=document.createElement("meta")).setAttribute("name","viewport");var r=_e.string(n.content)&&n.content.includes(o);i?(this.cleanupViewport=!r,r||(n.content+=",".concat(o))):this.cleanupViewport&&(n.content=n.content.split(",").filter(function(e){return e.trim()!==o}).join(",")),setTimeout(function(){return R(t.target)},100)}G.call(this)}function Q(o,e){var r=1<arguments.length&&void 0!==e?e:1;return new Promise(function(e,t){var i=new Image,n=function(){delete i.onload,delete i.onerror,(i.naturalWidth>=r?e:t)(i)};Object.assign(i,{onload:n,onerror:n,src:o})})}function i(i){return new Promise(function(e,t){Qe(i,{success:e,error:t})})}function X(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,v.call(this,this.media,e?"play":"pause"))}function Y(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,v.call(this,this.media,e?"play":"pause"))}function J(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var K,Z,ee,te,ie={addCSS:!0,thumbWidth:15,watch:!0},ne=function(e){return null!=e?e.constructor:null},oe=function(e,t){return Boolean(e&&t&&e instanceof t)},re=function(e){return null==e},ae=function(e){return ne(e)===Object},se=function(e){return ne(e)===String},le=function(e){return Array.isArray(e)},ce=function(e){return oe(e,NodeList)},ue={nullOrUndefined:re,object:ae,number:function(e){return ne(e)===Number&&!Number.isNaN(e)},string:se,"boolean":function(e){return ne(e)===Boolean},"function":function(e){return ne(e)===Function},array:le,nodeList:ce,element:function(e){return oe(e,Element)},event:function(e){return oe(e,Event)},empty:function(e){return re(e)||(se(e)||le(e)||ce(e))&&!e.length||ae(e)&&!Object.keys(e).length}},de=function(){function u(e,t){d(this,u),ue.element(e)?this.element=e:ue.string(e)&&(this.element=document.querySelector(e)),ue.element(this.element)&&ue.empty(this.element.rangeTouch)&&(this.config=Object.assign({},ie,t),this.init())}return e(u,[{key:"init",value:function(){u.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){u.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[i](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!u.enabled||!ue.event(e))return null;var t,i=e.target,n=e.changedTouches[0],o=parseFloat(i.getAttribute("min"))||0,r=parseFloat(i.getAttribute("max"))||100,a=parseFloat(i.getAttribute("step"))||1,s=r-o,l=i.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return(t=100/l.width*(n.clientX-l.left))<0?t=0:100<t&&(t=100),t<50?t-=(100-2*t)*c:50<t&&(t+=2*(t-50)*c),o+h(s*(t/100),a)}},{key:"set",value:function(e){u.enabled&&ue.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var i=new Event(t);e.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(i,e){var t=1<arguments.length&&void 0!==e?e:{},n=null;if(ue.empty(i)||ue.string(i)?n=Array.from(document.querySelectorAll(ue.string(i)?i:'input[type="range"]')):ue.element(i)?n=[i]:ue.nodeList(i)?n=Array.from(i):ue.array(i)&&(n=i.filter(ue.element)),ue.empty(n))return null;var o=Object.assign({},ie,t);return ue.string(i)&&o.watch&&new MutationObserver(function(e){Array.from(e).forEach(function(e){Array.from(e.addedNodes).forEach(function(e){var t;ue.element(e)&&function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t=i)&&new u(e,o)})})}).observe(document.body,{childList:!0,subtree:!0}),n.map(function(e){return new u(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),u}(),he=function(e){return null!=e?e.constructor:null},fe=function(e,t){return Boolean(e&&t&&e instanceof t)},pe=function(e){return null==e},me=function(e){return he(e)===Object},ge=function(e){return he(e)===String},ve=function(e){return Array.isArray(e)},ye=function(e){return fe(e,NodeList)},be=function(e){return pe(e)||(ge(e)||ve(e)||ye(e))&&!e.length||me(e)&&!Object.keys(e).length},_e={nullOrUndefined:pe,object:me,number:function(e){return he(e)===Number&&!Number.isNaN(e)},string:ge,"boolean":function(e){return he(e)===Boolean},"function":function(e){return he(e)===Function},array:ve,weakMap:function(e){return fe(e,WeakMap)},nodeList:ye,element:function(e){return fe(e,Element)},textNode:function(e){return he(e)===Text},event:function(e){return fe(e,Event)},keyboardEvent:function(e){return fe(e,KeyboardEvent)},cue:function(e){return fe(e,window.TextTrackCue)||fe(e,window.VTTCue)},track:function(e){return fe(e,TextTrack)||!pe(e)&&ge(e.kind)},promise:function(e){return fe(e,Promise)},url:function(e){if(fe(e,window.URL))return!0;if(!ge(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!be(new URL(t).hostname)}catch(e){return!1}},empty:be},we=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}(),ke=(K=document.createElement("span"),Z={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},ee=Object.keys(Z).find(function(e){return void 0!==K.style[e]}),!!_e.string(ee)&&Z[ee]),Ce={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},xe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Te={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var n=Ce.isIPhone&&i&&Te.playsinline,o=Te[e]||"html5"!==t;return{api:o,ui:o&&Te.rangeInput&&("video"!==e||!Ce.isIPhone||n)}},pip:!(Ce.isIPhone||!_e["function"](T("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||T("video").disablePictureInPicture)),airplay:_e["function"](window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(_e.empty(e))return!1;var t=g(e.split("/"),1)[0],i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(xe).includes(i)&&(i+='; codecs="'.concat(xe[e],'"'));try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(te=document.createElement("input"),te.type="range","range"===te.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==ke,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Se={getSources:function(){var i=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){var t=e.getAttribute("type");return!!_e.empty(t)||Te.mime.call(i,t)}):[]},getQualityOptions:function(){return Se.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},extend:function(){if(this.isHTML5){var s=this;j.call(s),Object.defineProperty(s.media,"quality",{get:function(){var e=Se.getSources.call(s).find(function(e){return e.getAttribute("src")===s.source});return e&&Number(e.getAttribute("size"))},set:function(t){var e=Se.getSources.call(s).find(function(e){return Number(e.getAttribute("size"))===t});if(e){var i=s.media,n=i.currentTime,o=i.paused,r=i.preload,a=i.readyState;s.media.src=e.getAttribute("src"),("none"!==r||a)&&(s.once("loadedmetadata",function(){s.currentTime=n,o||s.play()}),s.media.load()),v.call(s,s.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(m(Se.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},$e={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Ee=function(e,t){var i=0<arguments.length&&void 0!==e?e:"",n=1<arguments.length&&void 0!==t?t:{};if(_e.empty(i)||_e.empty(n))return"";var o=s(n.i18n,i);if(_e.empty(o))return Object.keys($e).includes(i)?$e[i]:"";var r={"{seektime}":n.seekTime,"{title}":n.title};return Object.entries(r).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];o=I(o,i,n)}),o},Ae=function(){function n(e){d(this,n),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return e(n,[{key:"get",value:function(e){if(!n.supported||!this.enabled)return null;var t=window.localStorage.getItem(this.key);if(_e.empty(t))return null;var i=JSON.parse(t);return _e.string(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(n.supported&&this.enabled&&_e.object(e)){var t=this.get();_e.empty(t)&&(t={}),x(t,e),window.localStorage.setItem(this.key,JSON.stringify(t))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(d){return!1}}}]),n}(),De=function(e){return Math.trunc(e/60/60%60,10)},Re=function(e){return Math.trunc(e/60%60,10)},Le=function(e){return Math.trunc(e%60,10)},Me={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||Ce.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=A.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:E.call(this,this.config.selectors.buttons.play),pause:A.call(this,this.config.selectors.buttons.pause),restart:A.call(this,this.config.selectors.buttons.restart),rewind:A.call(this,this.config.selectors.buttons.rewind),fastForward:A.call(this,this.config.selectors.buttons.fastForward),mute:A.call(this,this.config.selectors.buttons.mute),pip:A.call(this,this.config.selectors.buttons.pip),airplay:A.call(this,this.config.selectors.buttons.airplay),settings:A.call(this,this.config.selectors.buttons.settings),captions:A.call(this,this.config.selectors.buttons.captions),fullscreen:A.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=A.call(this,this.config.selectors.progress),this.elements.inputs={seek:A.call(this,this.config.selectors.inputs.seek),volume:A.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:A.call(this,this.config.selectors.display.buffer),currentTime:A.call(this,this.config.selectors.display.currentTime),duration:A.call(this,this.config.selectors.display.duration)},_e.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(d){return this.debug.warn("It looks like there is a problem with your custom controls HTML",d),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var i=Me.getIconUrl.call(this),n="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),o=document.createElementNS("http://www.w3.org/2000/svg","svg");c(o,x(t,{role:"presentation",focusable:"false"}));var r=document.createElementNS("http://www.w3.org/2000/svg","use"),a="".concat(n,"-").concat(e);return"href"in r&&r.setAttributeNS("http://www.w3.org/1999/xlink","href",a),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(r),o},createLabel:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},n=Ee(e,this.config);return T("span",Object.assign({},i,{"class":[i["class"],this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(_e.empty(e))return null;var t=T("span",{"class":this.config.classNames.menu.value});return t.appendChild(T("span",{"class":this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=this,n=x({},t),o=O(e),r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(n).includes(e)&&(r[e]=n[e],delete n[e])}),"button"!==r.element||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n["class"].split(" ").some(function(e){return e===i.config.classNames.control})||x(n,{"class":"".concat(n["class"]," ").concat(this.config.classNames.control)}):n["class"]=this.config.classNames.control,e){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",
r.iconPressed="exit-fullscreen";break;case"play-large":n["class"]+=" ".concat(this.config.classNames.control,"--overlaid"),o="play",r.label="play",r.icon="play";break;default:_e.empty(r.label)&&(r.label=o),_e.empty(r.icon)&&(r.icon=e)}var a=T(r.element);return r.toggle?(a.appendChild(Me.createIcon.call(this,r.iconPressed,{"class":"icon--pressed"})),a.appendChild(Me.createIcon.call(this,r.icon,{"class":"icon--not-pressed"})),a.appendChild(Me.createLabel.call(this,r.labelPressed,{"class":"label--pressed"})),a.appendChild(Me.createLabel.call(this,r.label,{"class":"label--not-pressed"}))):(a.appendChild(Me.createIcon.call(this,r.icon)),a.appendChild(Me.createLabel.call(this,r.label))),x(n,S(this.config.selectors.buttons[o],n)),c(a,n),"play"===o?(_e.array(this.elements.buttons[o])||(this.elements.buttons[o]=[]),this.elements.buttons[o].push(a)):this.elements.buttons[o]=a,a},createRange:function(e,t){var i=T("input",x(S(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Ee(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Me.updateRangeFill.call(this,i),de.setup(i),i},createProgress:function(e,t){var i=T("progress",x(S(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(T("span",null,"0"));var n={played:"played",buffer:"buffered"}[e],o=n?Ee(n,this.config):"";i.innerText="% ".concat(o.toLowerCase())}return this.elements.display[e]=i},createTime:function(e,t){var i=S(this.config.selectors.display[e],t),n=T("div",x(i,{"class":"".concat(i["class"]?i["class"]:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Ee(e,this.config)}),"00:00");return this.elements.display[e]=n},bindMenuItemShortcuts:function(n,o){var r=this;C(n,"keydown keyup",function(e){if([32,38,39,40].includes(e.which)&&(e.preventDefault(),e.stopPropagation(),"keydown"!==e.type)){var t,i=$(n,'[role="menuitemradio"]');!i&&[32,39].includes(e.which)?Me.showMenuPanel.call(r,o,!0):32!==e.which&&(40===e.which||i&&39===e.which?(t=n.nextElementSibling,_e.element(t)||(t=n.parentNode.firstElementChild)):(t=n.previousElementSibling,_e.element(t)||(t=n.parentNode.lastElementChild)),D.call(r,t,!0))}},!1),C(n,"keyup",function(e){13===e.which&&Me.focusFirstMenuItem.call(r,null,!0)})},createMenuItem:function(e){var t=this,i=e.value,n=e.list,o=e.type,r=e.title,a=e.badge,s=void 0===a?null:a,l=e.checked,c=void 0!==l&&l,u=S(this.config.selectors.inputs[o]),d=T("button",x(u,{type:"button",role:"menuitemradio","class":"".concat(this.config.classNames.control," ").concat(u["class"]?u["class"]:"").trim(),"aria-checked":c,value:i})),h=T("span");h.innerHTML=r,_e.element(s)&&h.appendChild(s),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter(function(e){return $(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",function(e){if(!_e.keyboardEvent(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,o){case"language":t.currentTrack=Number(i);break;case"quality":t.quality=i;break;case"speed":t.speed=parseFloat(i)}Me.showMenuPanel.call(t,"home",_e.keyboardEvent(e))}},o,!1),Me.bindMenuItemShortcuts.call(this,d,o),n.appendChild(d)},formatTime:function(e,t){var i=0<arguments.length&&void 0!==e?e:0,n=1<arguments.length&&void 0!==t&&t;return _e.number(i)?B(i,0<De(this.duration),n):i},updateTimeDisplay:function(e,t,i){var n=0<arguments.length&&void 0!==e?e:null,o=1<arguments.length&&void 0!==t?t:0,r=2<arguments.length&&void 0!==i&&i;_e.element(n)&&_e.number(o)&&(n.innerText=Me.formatTime(o,r))},updateVolume:function(){this.supported.ui&&(_e.element(this.elements.inputs.volume)&&Me.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),_e.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e,t){var i=1<arguments.length&&void 0!==t?t:0;_e.element(e)&&(e.value=i,Me.updateRangeFill.call(this,e))},updateProgress:function(e){var r=this;if(this.supported.ui&&_e.event(e)){var t,i,n=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,i=this.duration,n=0===t||0===i||Number.isNaN(t)||Number.isNaN(i)?0:(t/i*100).toFixed(2),"timeupdate"===e.type&&Me.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":!function(e,t){var i=_e.number(t)?t:0,n=_e.element(e)?e:r.elements.display.buffer;if(_e.element(n)){n.value=i;var o=n.getElementsByTagName("span")[0];_e.element(o)&&(o.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=_e.event(e)?e.target:e;if(_e.element(t)&&"range"===t.getAttribute("type")){if($(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var i=Me.formatTime(this.currentTime),n=Me.formatTime(this.duration),o=Ee("seekLabel",this.config);t.setAttribute("aria-valuetext",o.replace("{currentTime}",i).replace("{duration}",n))}else if($(t,this.config.selectors.inputs.volume)){var r=100*t.value;t.setAttribute("aria-valuenow",r),t.setAttribute("aria-valuetext","".concat(r.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);Ce.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&_e.element(this.elements.inputs.seek)&&_e.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.progress.getBoundingClientRect(),o="".concat(this.config.classNames.tooltip,"--visible"),r=function(e){w(t.elements.display.seekTooltip,o,e)};if(this.touch)r(!1);else{if(_e.event(e))i=100/n.width*(e.pageX-n.left);else{if(!k(this.elements.display.seekTooltip,o))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:100<i&&(i=100),Me.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left="".concat(i,"%"),_e.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&r("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!_e.element(this.elements.display.duration)&&this.config.invertTime;Me.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Me.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return _(this.elements.display.currentTime,!0),void _(this.elements.progress,!0);_e.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=_e.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Me.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Me.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Me.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){_(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,i){var n=this.elements.settings.panels[e],o=null,r=t;if("captions"===e)o=this.currentTrack;else{if(o=_e.empty(i)?this[e]:i,_e.empty(o)&&(o=this.config[e]["default"]),!_e.empty(this.options[e])&&!this.options[e].includes(o))return void this.debug.warn("Unsupported value of '".concat(o,"' for ").concat(e));if(!this.config[e].options.includes(o))return void this.debug.warn("Disabled value of '".concat(o,"' for ").concat(e))}if(_e.element(r)||(r=n&&n.querySelector('[role="menu"]')),_e.element(r)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Me.getLabel.call(this,e,o);var a=r&&r.querySelector('[value="'.concat(o,'"]'));_e.element(a)&&(a.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Ee("normal",this.config):"".concat(t,"&times;");case"quality":if(_e.number(t)){var i=Ee("qualityLabel.".concat(t),this.config);return i.length?i:"".concat(t,"p")}return F(t);case"captions":return ze.getLabel.call(this);default:return null}},setQualityMenu:function(e){var n=this;if(_e.element(this.elements.settings.panels.quality)){var t=this.elements.settings.panels.quality.querySelector('[role="menu"]');_e.array(e)&&(this.options.quality=N(e).filter(function(e){return n.config.quality.options.includes(e)}));var i=!_e.empty(this.options.quality)&&1<this.options.quality.length;if(Me.toggleMenuButton.call(this,"quality",i),y(t),Me.checkMenu.call(this),i){var o=function(e){var t=Ee("qualityBadge.".concat(e),n.config);return t.length?Me.createBadge.call(n,t):null};this.options.quality.sort(function(e,t){var i=n.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1}).forEach(function(e){Me.createMenuItem.call(n,{value:e,list:t,type:"quality",title:Me.getLabel.call(n,"quality",e),badge:o(e)})}),Me.updateSetting.call(this,"quality",t)}}},setCaptionsMenu:function(){var i=this;if(_e.element(this.elements.settings.panels.captions)){var n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),e=ze.getTracks.call(this),t=Boolean(e.length);if(Me.toggleMenuButton.call(this,"captions",t),y(n),Me.checkMenu.call(this),t){var o=e.map(function(e,t){return{value:t,checked:i.captions.toggled&&i.currentTrack===t,title:ze.getLabel.call(i,e),badge:e.language&&Me.createBadge.call(i,e.language.toUpperCase()),list:n,type:"language"}});o.unshift({value:-1,checked:!this.captions.toggled,title:Ee("disabled",this.config),list:n,type:"language"}),o.forEach(Me.createMenuItem.bind(this)),Me.updateSetting.call(this,"captions",n)}}},setSpeedMenu:function(e){var t=this;if(_e.element(this.elements.settings.panels.speed)){var i=this.elements.settings.panels.speed.querySelector('[role="menu"]');_e.array(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(e){return t.config.speed.options.includes(e)});var n=!_e.empty(this.options.speed)&&1<this.options.speed.length;Me.toggleMenuButton.call(this,"speed",n),y(i),Me.checkMenu.call(this),n&&(this.options.speed.forEach(function(e){Me.createMenuItem.call(t,{value:e,list:i,type:"speed",title:Me.getLabel.call(t,"speed",e)})}),Me.updateSetting.call(this,"speed",i))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!_e.empty(e)&&Object.values(e).some(function(e){return!e.hidden});_(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!this.elements.settings.popup.hidden){var n=e;_e.element(n)||(n=Object.values(this.elements.settings.panels).find(function(e){return!e.hidden}));var o=n.querySelector('[role^="menuitem"]');D.call(this,o,i)}},toggleMenu:function(e){var t=this.elements.settings.popup,i=this.elements.buttons.settings;if(_e.element(t)&&_e.element(i)){var n=t.hidden,o=n;if(_e["boolean"](e))o=e;else if(_e.keyboardEvent(e)&&27===e.which)o=!1;else if(_e.event(e)){var r=_e["function"](e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(r);if(a||!a&&e.target!==i&&o)return}i.setAttribute("aria-expanded",o),_(t,!o),w(this.elements.container,this.config.classNames.menu.open,o),o&&_e.keyboardEvent(e)?Me.focusFirstMenuItem.call(this,null,!0):o||n||D.call(this,i,_e.keyboardEvent(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var i=t.scrollWidth,n=t.scrollHeight;return m(t),{width:i,height:n}},showMenuPanel:function(t,i){var n=this,o=0<arguments.length&&void 0!==t?t:"",r=1<arguments.length&&void 0!==i&&i,a=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(o));if(_e.element(a)){var s=a.parentNode,l=Array.from(s.children).find(function(e){return!e.hidden});if(Te.transitions&&!Te.reducedMotion){s.style.width="".concat(l.scrollWidth,"px"),s.style.height="".concat(l.scrollHeight,"px");var c=Me.getMenuSize.call(this,a);C.call(this,s,ke,function e(t){t.target===s&&["width","height"].includes(t.propertyName)&&(s.style.width="",s.style.height="",p.call(n,s,ke,e))}),s.style.width="".concat(c.width,"px"),s.style.height="".concat(c.height,"px")}_(l,!0),_(a,!1),Me.focusFirstMenuItem.call(this,a,r)}},setDownloadUrl:function(){var e=this.elements.buttons.download;_e.element(e)&&e.setAttribute("href",this.download)},create:function(f){var p=this,m=Me.bindMenuItemShortcuts,g=Me.createButton,v=Me.createProgress,y=Me.createRange,b=Me.createTime,e=Me.setQualityMenu,t=Me.setSpeedMenu,_=Me.showMenuPanel;this.elements.controls=null,this.config.controls.includes("play-large")&&this.elements.container.appendChild(g.call(this,"play-large"));var w=T("div",S(this.config.selectors.controls.wrapper));this.elements.controls=w;var k={"class":"plyr__controls__item"};return N(this.config.controls).forEach(function(e){if("restart"===e&&w.appendChild(g.call(p,"restart",k)),"rewind"===e&&w.appendChild(g.call(p,"rewind",k)),"play"===e&&w.appendChild(g.call(p,"play",k)),"fast-forward"===e&&w.appendChild(g.call(p,"fast-forward",k)),"progress"===e){var t=T("div",{"class":"".concat(k["class"]," plyr__progress__container")}),i=T("div",S(p.config.selectors.progress));if(i.appendChild(y.call(p,"seek",{id:"plyr-seek-".concat(f.id)})),i.appendChild(v.call(p,"buffer")),p.config.tooltips.seek){var n=T("span",{"class":p.config.classNames.tooltip},"00:00");i.appendChild(n),p.elements.display.seekTooltip=n}p.elements.progress=i,t.appendChild(p.elements.progress),w.appendChild(t)}if("current-time"===e&&w.appendChild(b.call(p,"currentTime",k)),"duration"===e&&w.appendChild(b.call(p,"duration",k)),"mute"===e||"volume"===e){var o=p.elements.volume;if(_e.element(o)&&w.contains(o)||(o=T("div",x({},k,{"class":"".concat(k["class"]," plyr__volume").trim()})),p.elements.volume=o,w.appendChild(o)),"mute"===e&&o.appendChild(g.call(p,"mute")),"volume"===e){var r={max:1,step:.05,value:p.config.volume};o.appendChild(y.call(p,"volume",x(r,{id:"plyr-volume-".concat(f.id)})))}}if("captions"===e&&w.appendChild(g.call(p,"captions",k)),"settings"===e&&!_e.empty(p.config.settings)){var a=T("div",x({},k,{"class":"".concat(k["class"]," plyr__menu").trim(),hidden:""}));a.appendChild(g.call(p,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(f.id),"aria-expanded":!1}));var s=T("div",{"class":"plyr__menu__container",id:"plyr-settings-".concat(f.id),hidden:""}),l=T("div"),c=T("div",{id:"plyr-settings-".concat(f.id,"-home")}),u=T("div",{role:"menu"});c.appendChild(u),l.appendChild(c),p.elements.settings.panels.home=c,p.config.settings.forEach(function(e){var t=T("button",x(S(p.config.selectors.buttons.settings),{type:"button","class":"".concat(p.config.classNames.control," ").concat(p.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));m.call(p,t,e),C(t,"click",function(){_.call(p,e,!1)});var i=T("span",null,Ee(e,p.config)),n=T("span",{"class":p.config.classNames.menu.value});n.innerHTML=f[e],i.appendChild(n),t.appendChild(i),u.appendChild(t);var o=T("div",{id:"plyr-settings-".concat(f.id,"-").concat(e),hidden:""}),r=T("button",{type:"button","class":"".concat(p.config.classNames.control," ").concat(p.config.classNames.control,"--back")});r.appendChild(T("span",{"aria-hidden":!0},Ee(e,p.config))),r.appendChild(T("span",{"class":p.config.classNames.hidden},Ee("menuBack",p.config))),C(o,"keydown",function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),_.call(p,"home",!0))},!1),C(r,"click",function(){_.call(p,"home",!1)}),o.appendChild(r),o.appendChild(T("div",{role:"menu"})),l.appendChild(o),p.elements.settings.buttons[e]=t,p.elements.settings.panels[e]=o}),s.appendChild(l),a.appendChild(s),w.appendChild(a),p.elements.settings.popup=s,p.elements.settings.menu=a}if("pip"===e&&Te.pip&&w.appendChild(g.call(p,"pip",k)),"airplay"===e&&Te.airplay&&w.appendChild(g.call(p,"airplay",k)),"download"===e){var d=x({},k,{element:"a",href:p.download,target:"_blank"}),h=p.config.urls.download;!_e.url(h)&&p.isEmbed&&x(d,{icon:"logo-".concat(p.provider),label:p.provider}),w.appendChild(g.call(p,"download",d))}"fullscreen"===e&&w.appendChild(g.call(p,"fullscreen",k))}),this.isHTML5&&e.call(this,Se.getQualityOptions.call(this)),t.call(this),w},inject:function(){var t=this;if(this.config.loadSprite){var e=Me.getIconUrl.call(this);e.cors&&U(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i=null;this.elements.controls=null;var n={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;_e["function"](this.config.controls)&&(this.config.controls=this.config.controls.call(this,n)),this.config.controls||(this.config.controls=[]),_e.element(this.config.controls)||_e.string(this.config.controls)?i=this.config.controls:(i=Me.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ze.getLabel.call(this)}),o=!1);var r,a=function(e){var o=e;return Object.entries(n).forEach(function(e){var t=g(e,2),i=t[0],n=t[1];o=I(o,"{".concat(i,"}"),n)}),o};if(o&&(_e.string(this.config.controls)?i=a(i):_e.element(i)&&(i.innerHTML=a(i.innerHTML))),_e.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),_e.element(r)||(r=this.elements.container),r[_e.element(i)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",i),_e.element(this.elements.controls)||Me.findElements.call(this),!_e.empty(this.elements.buttons)){var s=function(i){var n=t.config.classNames.controlPressed;Object.defineProperty(i,"pressed",{enumerable:!0,get:function(){return k(i,n)},set:function(e){var t=0<arguments.length&&void 0!==e&&e;w(i,n,t)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){_e.array(e)||_e.nodeList(e)?Array.from(e).filter(Boolean).forEach(s):s(e)})}if(Ce.isEdge&&R(r),this.config.tooltips.controls){var l=this.config,c=l.classNames,u=l.selectors,d="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(c.hidden),h=E.call(this,d);Array.from(h).forEach(function(e){w(e,t.config.classNames.hidden,!1),w(e,t.config.classNames.tooltip,!0)})}}},ze={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!Te.textTracks)_e.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Me.setCaptionsMenu.call(this);else{var e,t;if(_e.element(this.elements.captions)||(this.elements.captions=T("div",S(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,_e.element(e)&&_e.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),Ce.isIE&&window.URL){var i=this.media.querySelectorAll("track");Array.from(i).forEach(function(t){var e=t.getAttribute("src"),i=W(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&H(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))})["catch"](function(){m(t)})})}var n=N((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),o=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===o&&(o=g(n,1)[0]);var r=this.storage.get("captions");if(_e["boolean"](r)||(r=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:r,language:o,languages:n}),this.isHTML5){var a=this.config.captions.update?"addtrack removetrack":"removetrack";C.call(this,this.media.textTracks,a,ze.update.bind(this))}setTimeout(ze.update.bind(this),0)}},update:function(){var t=this,e=ze.getTracks.call(this,!0),i=this.captions,n=i.active,o=i.language,r=i.meta,a=i.currentTrackNode,s=Boolean(e.find(function(e){return e.language===o}));this.isHTML5&&this.isVideo&&e.filter(function(e){return!r.get(e)}).forEach(function(e){t.debug.log("Track added",e),r.set(e,{"default":"showing"===e.mode}),e.mode="hidden",C.call(t,e,"cuechange",function(){return ze.updateCues.call(t)})}),(s&&this.language!==o||!e.includes(a))&&(ze.setLanguage.call(this,o),ze.toggle.call(this,n&&s)),w(this.elements.container,this.config.classNames.captions.enabled,!_e.empty(e)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&Me.setCaptionsMenu.call(this)},toggle:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;if(this.supported.ui){var n=this.captions.toggled,o=this.config.classNames.captions.active,r=_e.nullOrUndefined(e)?!n:e;if(r!==n){if(i||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!i){var a=ze.getTracks.call(this),s=ze.findTrack.call(this,[this.captions.language].concat(l(this.captions.languages)),!0);return this.captions.language=s.language,void ze.set.call(this,a.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),w(this.elements.container,o,r),this.captions.toggled=r,Me.updateSetting.call(this,"captions"),v.call(this,this.media,r?"captionsenabled":"captionsdisabled")}}},set:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t,n=ze.getTracks.call(this);if(-1!==e)if(_e.number(e))if(e in n){if(this.captions.currentTrack!==e){var o=n[this.captions.currentTrack=e],r=(o||{}).language;this.captions.currentTrackNode=o,Me.updateSetting.call(this,"captions"),i||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),v.call(this,this.media,"languagechange")}ze.toggle.call(this,!0,i),this.isHTML5&&this.isVideo&&ze.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else ze.toggle.call(this,!1,i)},setLanguage:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;if(_e.string(e)){var n=e.toLowerCase();this.captions.language=n;var o=ze.getTracks.call(this),r=ze.findTrack.call(this,[n]);ze.set.call(this,o.indexOf(r),i)}else this.debug.warn("Invalid language argument",e)},getTracks:function(e){var t=this,i=0<arguments.length&&void 0!==e&&e;return Array.from((this.media||{}).textTracks||[]).filter(function(e){return!t.isHTML5||i||t.captions.meta.has(e)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e,t){var i,n=this,o=1<arguments.length&&void 0!==t&&t,r=ze.getTracks.call(this),a=function(e){return Number((n.captions.meta.get(e)||{})["default"])},s=Array.from(r).sort(function(e,t){return a(t)-a(e)});return e.every(function(t){return!(i=s.find(function(e){return e.language===t}))}),i||(o?s[0]:void 0)},getCurrentTrack:function(){return ze.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!_e.track(t)&&Te.textTracks&&this.captions.toggled&&(t=ze.getCurrentTrack.call(this)),_e.track(t)?_e.empty(t.label)?_e.empty(t.language)?Ee("enabled",this.config):e.language.toUpperCase():t.label:Ee("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(_e.element(this.elements.captions))if(_e.nullOrUndefined(e)||Array.isArray(e)){var t=e;if(!t){var i=ze.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(q)}var n=t.map(function(e){return e.trim()}).join("\n");if(n!==this.elements.captions.innerHTML){y(this.elements.captions);var o=T("span",S(this.config.selectors.caption));o.innerHTML=n,this.elements.captions.appendChild(o),v.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},je={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.4/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{"default":576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Ne="picture-in-picture",Pe="inline",Ie={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Fe={audio:"audio",video:"video"},Oe=function(){},qe=function(){function i(e){var t=0<arguments.length&&void 0!==e&&e;d(this,i),this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}return e(i,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Oe}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Oe}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Oe}}]),i}(),He=function(){function i(e){var t=this;d(this,i),this.player=e,this.prefix=i.prefix,this.property=i.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,C.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){G.call(t)}),C.call(this.player,this.player.elements.container,"dblclick",function(e){_e.element(t.player.elements.controls)&&t.player.elements.controls.contains(e.target)||t.toggle()}),this.update()}return e(i,[{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":i["native"]?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),w(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(Ce.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!i["native"]||this.forceFallback?t.call(this,!0):this.prefix?_e.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen())}},{key:"exit",value:function(){if(this.enabled)if(Ce.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!i["native"]||this.forceFallback)t.call(this,!1);else if(this.prefix){if(!_e.empty(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return i["native"]&&!this.forceFallback}},{key:"enabled",get:function(){return(i["native"]||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!i["native"]||this.forceFallback?k(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return Ce.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(_e["function"](document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!_e["function"](document["".concat(e,"ExitFullscreen")])&&!_e["function"](document["".concat(e,"CancelFullScreen")])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),i}(),Ue={addStyleHook:function(){
w(this.elements.container,this.config.selectors.container.replace(".",""),!0),w(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(e){0<arguments.length&&void 0!==e&&e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Ue.toggleNativeControls.call(this,!0);_e.element(this.elements.controls)||(Me.inject.call(this),this.listeners.controls()),Ue.toggleNativeControls.call(this),this.isHTML5&&ze.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Me.updateVolume.call(this),Me.timeUpdate.call(this),Ue.checkPlaying.call(this),w(this.elements.container,this.config.classNames.pip.supported,Te.pip&&this.isHTML5&&this.isVideo),w(this.elements.container,this.config.classNames.airplay.supported,Te.airplay&&this.isHTML5),w(this.elements.container,this.config.classNames.isIos,Ce.isIos),w(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){v.call(e,e.media,"ready")},0),Ue.setTitle.call(this),this.poster&&Ue.setPoster.call(this,this.poster,!1)["catch"](function(){}),this.config.duration&&Me.durationUpdate.call(this)},setTitle:function(){var t=Ee("play",this.config);if(_e.string(this.config.title)&&!_e.empty(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=A.call(this,"iframe");if(!_e.element(e))return;var i=_e.empty(this.config.title)?"video":this.config.title,n=Ee("frameTitle",this.config);e.setAttribute("title",n.replace("{title}",i))}},togglePoster:function(e){w(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(t,e){var i=this;return 1<arguments.length&&void 0!==e&&!e||!this.poster?(this.media.setAttribute("poster",t),function(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):C.call(t,t.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return Q(t)})["catch"](function(e){throw t===i.poster&&Ue.togglePoster.call(i,!1),e}).then(function(){if(t!==i.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(i.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),Ue.togglePoster.call(i,!0),t})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;w(this.elements.container,this.config.classNames.playing,this.playing),w(this.elements.container,this.config.classNames.paused,this.paused),w(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.pressed=t.playing}),_e.event(e)&&"timeupdate"===e.type||Ue.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){w(t.elements.container,t.config.classNames.loading,t.loading),Ue.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}}},Be=function(){function t(e){d(this,t),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return e(t,[{key:"handleKey",value:function(e){var t=this.player,i=t.elements,n=e.keyCode?e.keyCode:e.which,o="keydown"===e.type,r=o&&n===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&_e.number(n))if(o){var a=document.activeElement;if(_e.element(a)){var s=t.config.selectors.editable;if(a!==i.inputs.seek&&$(a,s))return;if(32===e.which&&$(a,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r||(t.currentTime=t.duration/10*(n-48));break;case 32:case 75:r||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:r||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:r||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===n&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Me.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,w(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,i=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var n,o=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||o)&&(n=t.config.classNames.tabFocus,w(E.call(t,".".concat(n)),n,!1),this.focusTimer=setTimeout(function(){var e=document.activeElement;i.container.contains(e)&&w(document.activeElement,t.config.classNames.tabFocus,!0)},10))}}},{key:"global",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,i=this.player;i.config.keyboard.global&&f.call(i,window,"keydown keyup",this.handleKey,t,!1),f.call(i,document.body,"click",this.toggleMenu,t),o.call(i,document.body,"touchstart",this.firstTouch),f.call(i,document.body,"keydown focus blur",this.setTabFocus,t,!1,!0)}},{key:"container",value:function(){var l=this.player,e=l.config,a=l.elements,n=l.timers;!e.keyboard.global&&e.keyboard.focused&&C.call(l,a.container,"keydown keyup",this.handleKey,!1),C.call(l,a.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var t=a.controls;t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1);var i=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(Ue.toggleControls.call(l,!0),i=l.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(function(){return Ue.toggleControls.call(l,!1)},i)});var s=function(e){if(!e)return j.call(l);var t=a.container.getBoundingClientRect(),i=t.width,n=t.height;return j.call(l,"".concat(i,":").concat(n))},c=function(){window.clearTimeout(n.resized),n.resized=window.setTimeout(s,50)};C.call(l,a.container,"enterfullscreen exitfullscreen",function(e){var t=l.fullscreen,i=t.target,n=t.usingNative;if(l.isEmbed&&i===a.container){var o="enterfullscreen"===e.type,r=s(o);r.padding,!function(e,t,i){if(l.isVimeo){var n=l.elements.wrapper.firstChild,o=g(e,2)[1],r=g(z.call(l),2),a=r[0],s=r[1];n.style.maxWidth=i?"".concat(o/s*a,"px"):null,n.style.margin=i?"0 auto":null}}(r.ratio,0,o),n||(o?C.call(l,window,"resize",c):p.call(l,window,"resize",c))}})}},{key:"media",value:function(){var t=this,n=this.player,o=n.elements;if(C.call(n,n.media,"timeupdate seeking seeked",function(e){return Me.timeUpdate.call(n,e)}),C.call(n,n.media,"durationchange loadeddata loadedmetadata",function(e){return Me.durationUpdate.call(n,e)}),C.call(n,n.media,"canplay loadeddata",function(){_(o.volume,!n.hasAudio),_(o.buttons.mute,!n.hasAudio)}),C.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&n.restart()}),C.call(n,n.media,"progress playing seeking seeked",function(e){return Me.updateProgress.call(n,e)}),C.call(n,n.media,"volumechange",function(e){return Me.updateVolume.call(n,e)}),C.call(n,n.media,"playing play pause ended emptied timeupdate",function(e){return Ue.checkPlaying.call(n,e)}),C.call(n,n.media,"waiting canplay seeked playing",function(e){return Ue.checkLoading.call(n,e)}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var i=A.call(n,".".concat(n.config.classNames.video));if(!_e.element(i))return;C.call(n,o.container,"click",function(e){([o.container,i].includes(e.target)||i.contains(e.target))&&(n.touch&&n.config.hideControls||(n.ended?(t.proxy(e,n.restart,"restart"),t.proxy(e,n.play,"play")):t.proxy(e,n.togglePlay,"play")))})}n.supported.ui&&n.config.disableContextMenu&&C.call(n,o.wrapper,"contextmenu",function(e){e.preventDefault()},!1),C.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),C.call(n,n.media,"ratechange",function(){Me.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),C.call(n,n.media,"qualitychange",function(e){Me.updateSetting.call(n,"quality",null,e.detail.quality)}),C.call(n,n.media,"ready qualitychange",function(){Me.setDownloadUrl.call(n)});var e=n.config.events.concat(["keyup","keydown"]).join(" ");C.call(n,n.media,e,function(e){var t=e.detail,i=void 0===t?{}:t;"error"===e.type&&(i=n.media.error),v.call(n,o.container,e.type,!0,i)})}},{key:"proxy",value:function(e,t,i){var n=this.player,o=n.config.listeners[i],r=!0;_e["function"](o)&&(r=o.call(n,e)),r&&_e["function"](t)&&t.call(n,e)}},{key:"bind",value:function(e,t,i,n,o){var r=this,a=!(4<arguments.length&&void 0!==o)||o,s=this.player,l=s.config.listeners[n],c=_e["function"](l);C.call(s,e,t,function(e){return r.proxy(e,i,n)},a&&!c)}},{key:"controls",value:function(){var o=this,s=this.player,n=s.elements,t=Ce.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach(function(e){o.bind(e,"click",s.togglePlay,"play")}),this.bind(n.buttons.restart,"click",s.restart,"restart"),this.bind(n.buttons.rewind,"click",s.rewind,"rewind"),this.bind(n.buttons.fastForward,"click",s.forward,"fastForward"),this.bind(n.buttons.mute,"click",function(){s.muted=!s.muted},"mute"),this.bind(n.buttons.captions,"click",function(){return s.toggleCaptions()}),this.bind(n.buttons.download,"click",function(){v.call(s,s.media,"download")},"download"),this.bind(n.buttons.fullscreen,"click",function(){s.fullscreen.toggle()},"fullscreen"),this.bind(n.buttons.pip,"click",function(){s.pip="toggle"},"pip"),this.bind(n.buttons.airplay,"click",s.airplay,"airplay"),this.bind(n.buttons.settings,"click",function(e){e.stopPropagation(),Me.toggleMenu.call(s,e)}),this.bind(n.buttons.settings,"keyup",function(e){var t=e.which;[13,32].includes(t)&&(13!==t?(e.preventDefault(),e.stopPropagation(),Me.toggleMenu.call(s,e)):Me.focusFirstMenuItem.call(s,null,!0))},null,!1),this.bind(n.settings.menu,"keydown",function(e){27===e.which&&Me.toggleMenu.call(s,e)}),this.bind(n.inputs.seek,"mousedown mousemove",function(e){var t=n.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)}),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var t=e.currentTarget,i=e.keyCode?e.keyCode:e.which;if(!_e.keyboardEvent(e)||39===i||37===i){s.lastSeekTime=Date.now();var n=t.hasAttribute("play-on-seeked"),o=["mouseup","touchend","keyup"].includes(e.type);n&&o?(t.removeAttribute("play-on-seeked"),s.play()):!o&&s.playing&&(t.setAttribute("play-on-seeked",""),s.pause())}}),Ce.isIos){var e=E.call(s,'input[type="range"]');Array.from(e).forEach(function(e){return o.bind(e,t,function(e){return R(e.target)})})}this.bind(n.inputs.seek,t,function(e){var t=e.currentTarget,i=t.getAttribute("seek-value");_e.empty(i)&&(i=t.value),t.removeAttribute("seek-value"),s.currentTime=i/t.max*s.duration},"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",function(e){return Me.updateSeekTooltip.call(s,e)}),this.bind(n.progress,"mousemove touchmove",function(e){var t=s.previewThumbnails;t&&t.loaded&&t.startMove(e)}),this.bind(n.progress,"mouseleave click",function(){var e=s.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(n.progress,"mousedown touchstart",function(e){var t=s.previewThumbnails;t&&t.loaded&&t.startScrubbing(e)}),this.bind(n.progress,"mouseup touchend",function(e){var t=s.previewThumbnails;t&&t.loaded&&t.endScrubbing(e)}),Ce.isWebkit&&Array.from(E.call(s,'input[type="range"]')).forEach(function(e){o.bind(e,"input",function(e){return Me.updateRangeFill.call(s,e.target)})}),s.config.toggleInvert&&!_e.element(n.display.duration)&&this.bind(n.display.currentTime,"click",function(){0!==s.currentTime&&(s.config.invertTime=!s.config.invertTime,Me.timeUpdate.call(s))}),this.bind(n.inputs.volume,t,function(e){s.volume=e.target.value},"volume"),this.bind(n.controls,"mouseenter mouseleave",function(e){n.controls.hover=!s.touch&&"mouseenter"===e.type}),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){n.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(n.controls,"focusin",function(){var e=s.config,t=s.elements,i=s.timers;w(t.controls,e.classNames.noTransition,!0),Ue.toggleControls.call(s,!0),setTimeout(function(){w(t.controls,e.classNames.noTransition,!1)},0);var n=o.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout(function(){return Ue.toggleControls.call(s,!1)},n)}),this.bind(n.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,i=g([e.deltaX,-e.deltaY].map(function(e){return t?-e:e}),2),n=i[0],o=i[1],r=Math.sign(Math.abs(n)>Math.abs(o)?n:o);s.increaseVolume(r/50);var a=s.media.volume;(1===r&&a<1||-1===r&&0<a)&&e.preventDefault()},"volume",!1)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var We,Ve,Ge,Qe=(Ve=We={exports:{}},We.exports,Ve.exports=function(){function a(e,t){if(e){var i=u[e];if(c[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function s(e,t){e.call&&(e={success:e}),t.length?(e.error||h)(t):(e.success||h)(e)}function d(i,n,o,r){var a,s,e=document,t=o.async,l=(o.numRetries||0)+1,c=o.before||h,u=i.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(i)?((s=e.createElement("link")).rel="stylesheet",s.href=u,(a="hideFocus"in s)&&s.relList&&(a=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(i)?(s=e.createElement("img")).src=u:((s=e.createElement("script")).src=i,s.async=void 0===t||t),!(s.onload=s.onerror=s.onbeforeload=function(e){var t=e.type[0];if(a)try{s.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((r+=1)<l)return d(i,n,o,r)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(i,t,e.defaultPrevented)})!==c(i,s)&&e.head.appendChild(s)}function i(e,t,i){function n(t,i){!function(e,n,t){var i,o,r=(e=e.push?e:[e]).length,a=r,s=[];for(i=function(e,t,i){if("e"==t&&s.push(e),"b"==t){if(!i)return;s.push(e)}--r||n(s)},o=0;o<a;o++)d(e[o],i,t)}(e,function(e){s(r,e),t&&s({success:t,error:i},e),a(o,e)},r)}var o,r;if(t&&t.trim&&(o=t),r=(o?i:t)||{},o){if(o in l)throw"LoadJS";l[o]=!0}if(r.returnPromise)return new Promise(n);n()}var h=function(){},l={},c={},u={};return i.ready=function(e,t){return function(e,i){e=e.push?e:[e];var t,n,o,r=[],a=e.length,s=a;for(t=function(e,t){t.length&&r.push(e),--s||i(r)};a--;)n=e[a],(o=c[n])?t(n,o):(u[n]=u[n]||[]).push(t)}(e,function(e){s(t,e)}),i},i.done=function(e){a(e,[])},i.reset=function(){l={},c={},u={}},i.isDefined=function(e){return e in l},i}(),We.exports),Xe={setup:function(){var t=this;w(this.elements.wrapper,this.config.classNames.embed,!0),j.call(this),_e.object(window.Vimeo)?Xe.ready.call(this):i(this.config.urls.vimeo.sdk).then(function(){Xe.ready.call(t)})["catch"](function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var o=this,a=this,e=a.config.vimeo,t=V(x({},{loop:a.config.loop.active,autoplay:a.autoplay,muted:a.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},e)),i=a.media.getAttribute("src");_e.empty(i)&&(i=a.media.getAttribute(a.config.attributes.embed.id));var n,r=(n=i,_e.empty(n)?null:_e.number(Number(n))?n:n.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:n),s=T("iframe"),l=P(a.config.urls.vimeo.iframe,r,t);s.setAttribute("src",l),s.setAttribute("allowfullscreen",""),s.setAttribute("allowtransparency",""),s.setAttribute("allow","autoplay");var c=T("div",{poster:a.poster,"class":a.config.classNames.embedContainer});c.appendChild(s),a.media=b(c,a.media),H(P(a.config.urls.vimeo.api,r),"json").then(function(e){if(!_e.empty(e)){var t=new URL(e[0].thumbnail_large);t.pathname="".concat(t.pathname.split("_")[0],".jpg"),Ue.setPoster.call(a,t.href)["catch"](function(){})}}),a.embed=new window.Vimeo.Player(s,{autopause:a.config.autopause,muted:a.muted}),a.media.paused=!0,a.media.currentTime=0,a.supported.ui&&a.embed.disableTextTrack(),a.media.play=function(){return X.call(a,!0),a.embed.play()},a.media.pause=function(){return X.call(a,!1),a.embed.pause()},a.media.stop=function(){a.pause(),a.currentTime=0};var u=a.media.currentTime;Object.defineProperty(a.media,"currentTime",{get:function(){return u},set:function(e){var t=a.embed,i=a.media,n=a.paused,o=a.volume,r=n&&!t.hasPlayed;i.seeking=!0,v.call(a,i,"seeking"),Promise.resolve(r&&t.setVolume(0)).then(function(){return t.setCurrentTime(e)}).then(function(){return r&&t.pause()}).then(function(){return r&&t.setVolume(o)})["catch"](function(){})}});var d=a.config.speed.selected;Object.defineProperty(a.media,"playbackRate",{get:function(){return d},set:function(e){a.embed.setPlaybackRate(e).then(function(){d=e,v.call(a,a.media,"ratechange")})["catch"](function(e){"Error"===e.name&&Me.setSpeedMenu.call(a,[])})}});var h=a.config.volume;Object.defineProperty(a.media,"volume",{get:function(){return h},set:function(e){a.embed.setVolume(e).then(function(){h=e,v.call(a,a.media,"volumechange")})}});var f=a.config.muted;Object.defineProperty(a.media,"muted",{get:function(){return f},set:function(e){var t=!!_e["boolean"](e)&&e;a.embed.setVolume(t?0:a.config.volume).then(function(){f=t,v.call(a,a.media,"volumechange")})}});var p,m=a.config.loop;Object.defineProperty(a.media,"loop",{get:function(){return m},set:function(e){var t=_e["boolean"](e)?e:a.config.loop.active;a.embed.setLoop(t).then(function(){m=t})}}),a.embed.getVideoUrl().then(function(e){p=e,Me.setDownloadUrl.call(a)})["catch"](function(e){o.debug.warn(e)}),Object.defineProperty(a.media,"currentSrc",{get:function(){return p}}),Object.defineProperty(a.media,"ended",{get:function(){return a.currentTime===a.duration}}),Promise.all([a.embed.getVideoWidth(),a.embed.getVideoHeight()]).then(function(e){var t=g(e,2),i=t[0],n=t[1];a.embed.ratio=[i,n],j.call(o)}),a.embed.setAutopause(a.config.autopause).then(function(e){a.config.autopause=e}),a.embed.getVideoTitle().then(function(e){a.config.title=e,Ue.setTitle.call(o)}),a.embed.getCurrentTime().then(function(e){u=e,v.call(a,a.media,"timeupdate")}),a.embed.getDuration().then(function(e){a.media.duration=e,v.call(a,a.media,"durationchange")}),a.embed.getTextTracks().then(function(e){a.media.textTracks=e,ze.setup.call(a)}),a.embed.on("cuechange",function(e){var t=e.cues,i=(void 0===t?[]:t).map(function(e){return t=e.text,i=document.createDocumentFragment(),n=document.createElement("div"),i.appendChild(n),n.innerHTML=t,i.firstChild.innerText;var t,i,n});ze.updateCues.call(a,i)}),a.embed.on("loaded",function(){a.embed.getPaused().then(function(e){X.call(a,!e),e||v.call(a,a.media,"playing")}),_e.element(a.embed.element)&&a.supported.ui&&a.embed.element.setAttribute("tabindex",-1)}),a.embed.on("play",function(){X.call(a,!0),v.call(a,a.media,"playing")}),a.embed.on("pause",function(){X.call(a,!1)}),a.embed.on("timeupdate",function(e){a.media.seeking=!1,u=e.seconds,v.call(a,a.media,"timeupdate")}),a.embed.on("progress",function(e){a.media.buffered=e.percent,v.call(a,a.media,"progress"),1===parseInt(e.percent,10)&&v.call(a,a.media,"canplaythrough"),a.embed.getDuration().then(function(e){e!==a.media.duration&&(a.media.duration=e,v.call(a,a.media,"durationchange"))})}),a.embed.on("seeked",function(){a.media.seeking=!1,v.call(a,a.media,"seeked")}),a.embed.on("ended",function(){a.media.paused=!0,v.call(a,a.media,"ended")}),a.embed.on("error",function(e){a.media.error=e,v.call(a,a.media,"error")}),setTimeout(function(){return Ue.build.call(a)},0)}},Ye={setup:function(){var t=this;w(this.elements.wrapper,this.config.classNames.embed,!0),_e.object(window.YT)&&_e["function"](window.YT.Player)?Ye.ready.call(this):(i(this.config.urls.youtube.sdk)["catch"](function(e){t.debug.warn("YouTube API failed to load",e)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){Ye.ready.call(t)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(e){e()})})},getTitle:function(e){var o=this;H(P(this.config.urls.youtube.api,e)).then(function(e){if(_e.object(e)){var t=e.title,i=e.height,n=e.width;o.config.title=t,Ue.setTitle.call(o),o.embed.ratio=[n,i]}j.call(o)})["catch"](function(){j.call(o)})},ready:function(){var o=this,e=o.media.getAttribute("id");if(_e.empty(e)||!e.startsWith("youtube-")){var t=o.media.getAttribute("src");_e.empty(t)&&(t=o.media.getAttribute(this.config.attributes.embed.id));var i,n,r=(i=t,_e.empty(i)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i),a=(n=o.provider,"".concat(n,"-").concat(Math.floor(1e4*Math.random()))),s=T("div",{id:a,poster:o.poster});o.media=b(s,o.media);var l=function(e){return"https://i.ytimg.com/vi/".concat(r,"/").concat(e,"default.jpg")};Q(l("maxres"),121)["catch"](function(){return Q(l("sd"),121)})["catch"](function(){return Q(l("hq"))}).then(function(e){return Ue.setPoster.call(o,e.src)}).then(function(e){e.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")})["catch"](function(){});var c=o.config.youtube;o.embed=new window.YT.Player(a,{videoId:r,host:J(c),playerVars:x({},{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui?0:1,disablekb:1,playsinline:o.config.fullscreen.iosNative?0:1,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language,widget_referrer:window?window.location.href:null},c),events:{onError:function(e){if(!o.media.error){var t=e.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t]||"An unknown error occured";o.media.error={code:t,message:i},v.call(o,o.media,"error")}},onPlaybackRateChange:function(e){var t=e.target;o.media.playbackRate=t.getPlaybackRate(),v.call(o,o.media,"ratechange")},onReady:function(e){if(!_e["function"](o.media.play)){var i=e.target;Ye.getTitle.call(o,r),o.media.play=function(){Y.call(o,!0),i.playVideo()},o.media.pause=function(){Y.call(o,!1),i.pauseVideo()},o.media.stop=function(){i.stopVideo()},o.media.duration=i.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,v.call(o,o.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(o.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var t=o.config.volume;Object.defineProperty(o.media,"volume",{get:function(){return t},set:function(e){t=e,i.setVolume(100*t),v.call(o,o.media,"volumechange")}});var n=o.config.muted;Object.defineProperty(o.media,"muted",{get:function(){return n},set:function(e){var t=_e["boolean"](e)?e:n;i[(n=t)?"mute":"unMute"](),v.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(o.media,"ended",{get:function(){return o.currentTime===o.duration}}),o.options.speed=i.getAvailablePlaybackRates(),o.supported.ui&&o.media.setAttribute("tabindex",-1),v.call(o,o.media,"timeupdate"),v.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(function(){o.media.buffered=i.getVideoLoadedFraction(),(null===o.media.lastBuffered||o.media.lastBuffered<o.media.buffered)&&v.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,1===o.media.buffered&&(clearInterval(o.timers.buffering),v.call(o,o.media,"canplaythrough"))},200),setTimeout(function(){return Ue.build.call(o)},50)}},onStateChange:function(e){var t=e.target;switch(clearInterval(o.timers.playing),o.media.seeking&&[1,2].includes(e.data)&&(o.media.seeking=!1,v.call(o,o.media,"seeked")),e.data){case-1:v.call(o,o.media,"timeupdate"),o.media.buffered=t.getVideoLoadedFraction(),v.call(o,o.media,"progress");break;case 0:Y.call(o,!1),o.media.loop?(t.stopVideo(),t.playVideo()):v.call(o,o.media,"ended");break;case 1:o.config.autoplay||!o.media.paused||o.embed.hasPlayed?(Y.call(o,!0),v.call(o,o.media,"playing"),o.timers.playing=setInterval(function(){v.call(o,o.media,"timeupdate")},50),o.media.duration!==t.getDuration()&&(o.media.duration=t.getDuration(),v.call(o,o.media,"durationchange"))):o.media.pause();break;case 2:o.muted||o.embed.unMute(),Y.call(o,!1)}v.call(o,o.elements.container,"statechange",!1,{code:e.data})}}})}}},Je={setup:function(){this.media?(w(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),w(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&w(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=T("div",{"class":this.config.classNames.video}),u(this.media,this.elements.wrapper),this.elements.poster=T("div",{"class":this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Se.extend.call(this):this.isYouTube?Ye.setup.call(this):this.isVimeo&&Xe.setup.call(this)):this.debug.warn("No media element found!")}},Ke=function(){function t(e){var i=this;d(this,t),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){i.on("loaded",e),i.on("error",t)}),this.load()}return e(t,[{key:"load",value:function(){var e=this;this.enabled&&(_e.object(window.google)&&_e.object(window.google.ima)?this.ready():i(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()})["catch"](function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e,t=this;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){t.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=T("div",{"class":this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=e.offsetWidth,i.linearAdSlotHeight=e.offsetHeight,i.nonLinearAdSlotWidth=e.offsetWidth,i.nonLinearAdSlotHeight=e.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(e){var i=this;if(!(0<arguments.length&&void 0!==e&&e))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=B(Math.max(i.manager.getRemainingTime(),0)),t="".concat(Ee("advertisement",i.player.config)," - ").concat(e);i.elements.container.setAttribute("data-badge-text",t)},100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=e.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return t.onAdEvent(e)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var o=this;_e.empty(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<o.player.duration){var t=o.player.elements.progress;if(_e.element(t)){var i=100/o.player.duration*e,n=T("span",{"class":o.player.config.classNames.cues});n.style.left="".concat(i.toString(),"%"),t.appendChild(n)}}})}},{key:"onAdEvent",value:function(e){var t,i,n=this,o=this.player.elements.container,r=e.getAd(),a=e.getAdData();switch(t=e.type,i="ads".concat(t.replace(/_/g,"").toLowerCase()),v.call(n.player,n.player.media,i),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=o.offsetWidth,r.height=o.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:a.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(a.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var n,o=this,e=this.player.elements.container;this.player.on("canplay",function(){o.addCuePoints()}),this.player.on("ended",function(){o.loader.contentComplete()}),this.player.on("timeupdate",function(){n=o.player.currentTime}),this.player.on("seeked",function(){var i=o.player.currentTime;_e.empty(o.cuePoints)||o.cuePoints.forEach(function(e,t){n<e&&e<i&&(o.manager.discardAdBreak(),o.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){o.manager&&o.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})["catch"](function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()})["catch"](function(){})}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var r=this.events[e];_e.array(r)&&r.forEach(function(e){_e["function"](e)&&e.apply(t,n)})}},{key:"on",value:function(e,t){return _e.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this
;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){_e.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!_e.empty(e.publisherId)||_e.url(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(_e.url(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(V(t))}}]),t}(),Ze=function(){function t(e){d(this,t),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return e(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){e.render(),e.determineContainerAutoSizing(),e.loaded=!0})}},{key:"getThumbnails",value:function(){var n=this;return new Promise(function(e){var t=n.player.config.previewThumbnails.src;if(_e.empty(t))throw new Error("Missing previewThumbnails.src config attribute");var i=(_e.string(t)?[t]:t).map(function(e){return n.getThumbnail(e)});Promise.all(i).then(function(){n.thumbnails.sort(function(e,t){return e.height-t.height}),n.player.debug.log("Preview thumbnails",n.thumbnails),e()})})}},{key:"getThumbnail",value:function(a){var s=this;return new Promise(function(r){H(a).then(function(e){var t,i,n={frames:(t=e,i=[],t.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(e){var r={};e.split(/\r\n|\n|\r/).forEach(function(e){if(_e.number(r.startTime)){if(!_e.empty(e.trim())&&_e.empty(r.text)){var t=e.trim().split("#xywh="),i=g(t,1);if(r.text=i[0],t[1]){var n=g(t[1].split(","),4);r.x=n[0],r.y=n[1],r.w=n[2],r.h=n[3]}}}else{var o=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(r.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+Number("0.".concat(o[4])),r.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+Number("0.".concat(o[9])))}}),r.text&&i.push(r)}),i),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=a.substring(0,a.lastIndexOf("/")+1));var o=new Image;o.onload=function(){n.height=o.naturalHeight,n.width=o.naturalWidth,s.thumbnails.push(n),r()},o.src=n.urlPrefix+n.frames[0].text})})}},{key:"startMove",value:function(e){if(this.loaded&&_e.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=B(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){!1!==e.button&&0!==e.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):o.call(this.player,this.player.media,"timeupdate",function(){e.mouseDown||e.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var e=this;this.player.on("play",function(){e.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){e.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){e.lastTime=e.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=T("div",{"class":this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=T("div",{"class":this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=T("div",{"class":this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=T("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),_e.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=T("div",{"class":this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"showImageAtCurrentTime",value:function(){var i=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var n=this.thumbnails[0].frames.findIndex(function(e){return i.seekTime>=e.startTime&&i.seekTime<=e.endTime}),e=0<=n,o=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach(function(e,t){i.loadedImages.includes(e.frames[n].text)&&(o=t)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(o)))}},{key:"loadImage",value:function(e){var t=this,i=0<arguments.length&&void 0!==e?e:0,n=this.showingThumb,o=this.thumbnails[i],r=o.urlPrefix,a=o.frames[n],s=o.frames[n].text,l=r+s;if(this.currentImageElement&&this.currentImageElement.dataset.filename===s)this.showImage(this.currentImageElement,a,i,n,s,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var c=new Image;c.src=l,c.dataset.index=n,c.dataset.filename=s,this.showingThumbFilename=s,this.player.debug.log("Loading image: ".concat(l)),c.onload=function(){return t.showImage(c,a,i,n,s,!0)},this.loadingImage=c,this.removeOldImages(c)}}},{key:"showImage",value:function(e,t,i,n,o,r){var a=!(5<arguments.length&&void 0!==r)||r;this.player.debug.log("Showing thumb: ".concat(o,". num: ").concat(n,". qual: ").concat(i,". newimg: ").concat(a)),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,e,t,o))}},{key:"removeOldImages",value:function(n){var o=this;Array.from(this.currentImageContainer.children).forEach(function(e){if("img"===e.tagName.toLowerCase()){var t=o.usingSprites?500:1e3;if(e.dataset.index!==n.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;var i=o.currentImageContainer;setTimeout(function(){i.removeChild(e),o.player.debug.log("Removing thumb: ".concat(e.dataset.filename))},t)}}})}},{key:"preloadNearby",value:function(t,e){var s=this,i=!(1<arguments.length&&void 0!==e)||e;return new Promise(function(a){setTimeout(function(){var o=s.thumbnails[0].frames[t].text;if(s.showingThumbFilename===o){var e;e=i?s.thumbnails[0].frames.slice(t):s.thumbnails[0].frames.slice(0,t).reverse();var r=!1;e.forEach(function(e){var t=e.text;if(t!==o&&!s.loadedImages.includes(t)){r=!0,s.player.debug.log("Preloading thumb filename: ".concat(t));var i=s.thumbnails[0].urlPrefix+t,n=new Image;n.src=i,n.onload=function(){s.player.debug.log("Preloaded thumb filename: ".concat(t)),s.loadedImages.includes(t)||s.loadedImages.push(t),a()}}}),r||a()}},300)})}},{key:"getHigherQuality",value:function(e,t,i,n){var o=this;if(e<this.thumbnails.length-1){var r=t.naturalHeight;this.usingSprites&&(r=i.h),r<this.thumbContainerHeight&&setTimeout(function(){o.showingThumbFilename===n&&(o.player.debug.log("Showing higher quality thumb for: ".concat(n)),o.loadImage(e+1))},300)}}},{key:"toggleThumbContainer",value:function(e,t){var i=0<arguments.length&&void 0!==e&&e,n=1<arguments.length&&void 0!==t&&t,o=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(o,i),!i&&n&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(e){var t=0<arguments.length&&void 0!==e&&e,i=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(i,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){20<this.elements.thumb.imageContainer.clientHeight&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(!this.sizeSpecifiedInCSS){var e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(e,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),i=this.elements.thumb.container,n=t.left-e.left+10,o=t.right-e.left-i.clientWidth-10,r=this.mousePosX-e.left-i.clientWidth/2;r<n&&(r=n),o<r&&(r=o),i.style.left="".concat(r,"px")}},{key:"setScrubbingContainerSize",value:function(){this.elements.scrubbing.container.style.width="".concat(this.player.media.clientWidth,"px"),this.elements.scrubbing.container.style.height="".concat(this.player.media.clientWidth/this.thumbAspectRatio,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var i=this.thumbContainerHeight/t.h;e.style.height="".concat(Math.floor(e.naturalHeight*i),"px"),e.style.width="".concat(Math.floor(e.naturalWidth*i),"px"),e.style.left="-".concat(t.x*i,"px"),e.style.top="-".concat(t.y*i,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Math.floor(this.player.media.clientWidth/this.thumbAspectRatio):Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),et={insertElements:function(t,e){var i=this;_e.string(e)?r(t,this.media,{src:e}):_e.array(e)&&e.forEach(function(e){r(t,i.media,e)})},change:function(l){var c=this;s(l,"sources.length")?(Se.cancelRequests.call(this),this.destroy.call(this,function(){c.options.quality=[],m(c.media),c.media=null,_e.element(c.elements.container)&&c.elements.container.removeAttribute("class");var e=l.sources,t=l.type,i=g(e,1)[0],n=i.provider,o=void 0===n?Ie.html5:n,r=i.src,a="html5"===o?t:"div",s="html5"===o?{}:{src:r};Object.assign(c,{provider:o,type:t,supported:Te.check(t,o,c.config.playsinline),media:T(a,s)}),c.elements.container.appendChild(c.media),_e["boolean"](l.autoplay)&&(c.config.autoplay=l.autoplay),c.isHTML5&&(c.config.crossorigin&&c.media.setAttribute("crossorigin",""),c.config.autoplay&&c.media.setAttribute("autoplay",""),_e.empty(l.poster)||(c.poster=l.poster),c.config.loop.active&&c.media.setAttribute("loop",""),c.config.muted&&c.media.setAttribute("muted",""),c.config.playsinline&&c.media.setAttribute("playsinline","")),Ue.addStyleHook.call(c),c.isHTML5&&et.insertElements.call(c,"source",e),c.config.title=l.title,Je.setup.call(c),c.isHTML5&&Object.keys(l).includes("tracks")&&et.insertElements.call(c,"track",l.tracks),(c.isHTML5||c.isEmbed&&!c.supported.ui)&&Ue.build.call(c),c.isHTML5&&c.media.load(),c.previewThumbnails&&c.previewThumbnails.load(),c.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},tt=function(){function c(e,t){var i,n=this;if(d(this,c),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Te.touch,this.media=e,_e.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||_e.nodeList(this.media)||_e.array(this.media))&&(this.media=this.media[0]),this.config=x({},je,c.defaults,t||{},function(){try{return JSON.parse(n.media.getAttribute("data-plyr-config"))}catch(d){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new qe(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Te),!_e.nullOrUndefined(this.media)&&_e.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(Te.check().api){var o=this.media.cloneNode(!0);o.autoplay=!1,this.elements.original=o;var r=this.media.tagName.toLowerCase(),a=null,s=null;switch(r){case"div":if(a=this.media.querySelector("iframe"),_e.element(a)){if(s=W(a.getAttribute("src")),this.provider=(i=s.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(i)?Ie.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(i)?Ie.vimeo:null),this.elements.container=this.media,this.media=a,this.elements.container.className="",s.search.length){var l=["1","true"];l.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(_e.empty(this.provider)||!Object.keys(Ie).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Fe.video;break;case"video":case"audio":this.type=r,this.provider=Ie.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Te.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Be(this),this.storage=new Ae(this),this.media.plyr=this,_e.element(this.elements.container)||(this.elements.container=T("div",{tabindex:0}),u(this.media,this.elements.container)),Ue.addStyleHook.call(this),Je.setup.call(this),this.config.debug&&C.call(this,this.elements.container,this.config.events.join(" "),function(e){n.debug.log("event: ".concat(e.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ue.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new He(this),this.config.ads.enabled&&(this.ads=new Ke(this)),this.isHTML5&&this.config.autoplay&&setTimeout(function(){return n.play()},10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ze(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return e(c,[{key:"play",value:function(){var e=this;return _e["function"](this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return e.ads.play()})["catch"](function(){return e.media.play()}),this.media.play()):null}},{key:"pause",value:function(){this.playing&&_e["function"](this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(_e["boolean"](e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):_e["function"](this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(_e.number(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(_e.number(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(_e.number(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){ze.toggle.call(this,e,!1)}},{key:"airplay",value:function(){Te.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=k(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=w(this.elements.container,this.config.classNames.hideControls,i);if(n&&this.config.controls.includes("settings")&&!_e.empty(this.config.settings)&&Me.toggleMenu.call(this,!1),n!==t){var o=n?"controlshidden":"controlsshown";v.call(this,this.media,o)}return!n}return!1}},{key:"on",value:function(e,t){C.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){o.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){p(this.elements.container,e,t)}},{key:"destroy",value:function(e,t){var i=this,n=1<arguments.length&&void 0!==t&&t;if(this.ready){var o=function(){document.body.style.overflow="",i.embed=null,n?(Object.keys(i.elements).length&&(m(i.elements.buttons.play),m(i.elements.captions),m(i.elements.controls),m(i.elements.wrapper),i.elements.buttons.play=null,i.elements.captions=null,i.elements.controls=null,i.elements.wrapper=null),_e["function"](e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,i=e.type,n=e.callback,o=e.options;t.removeEventListener(i,n,o)}),this.eventListeners=[])}.call(i),b(i.elements.original,i.elements.container),v.call(i,i.elements.original,"destroyed",!0),_e["function"](e)&&e.call(i.elements.original),i.ready=!1,setTimeout(function(){i.elements=null,i.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Ue.toggleNativeControls.call(this,!0),o()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&_e["function"](this.embed.destroy)&&this.embed.destroy(),o()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(o),setTimeout(o,200))}}},{key:"supports",value:function(e){return Te.mime.call(this,e)}},{key:"isHTML5",get:function(){return Boolean(this.provider===Ie.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===Ie.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===Ie.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===Fe.video)}},{key:"isAudio",get:function(){return Boolean(this.type===Fe.audio)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=_e.number(e)&&0<e;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return _e.number(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=_e.number(t)&&t!==1/0?t:0;return e||i}},{key:"volume",set:function(e){var t=e;_e.string(t)&&(t=Number(t)),_e.number(t)||(t=this.storage.get("volume")),_e.number(t)||(t=this.config.volume),1<t&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!_e.empty(e)&&this.muted&&0<t&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;_e["boolean"](t)||(t=this.storage.get("muted")),_e["boolean"](t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,i=null;_e.number(e)&&(i=e),_e.number(i)||(i=this.storage.get("speed")),_e.number(i)||(i=this.config.speed.selected);var n=this.minimumSpeed,o=this.maximumSpeed;i=function(e,t,i){var n=0<arguments.length&&void 0!==e?e:0,o=1<arguments.length&&void 0!==t?t:0,r=2<arguments.length&&void 0!==i?i:255;return Math.min(Math.max(n,o),r)}(i,n,o),this.config.speed.selected=i,setTimeout(function(){t.media.playbackRate=i},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,l(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,l(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t,i,n=this.config.quality,o=this.options.quality;if(o.length){var r=[!_e.empty(e)&&Number(e),this.storage.get("quality"),n.selected,n["default"]].find(_e.number),a=!0;if(!o.includes(r)){var s=(t=o,i=r,_e.array(t)&&t.length?t.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}):null);this.debug.warn("Unsupported quality option: ".concat(r,", using ").concat(s," instead")),r=s,a=!1}n.selected=r,this.media.quality=r,a&&this.storage.set({quality:r})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=_e["boolean"](e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){et.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return _e.url(e)?e:this.source},set:function(e){_e.url(e)&&(this.config.urls.download=e,Me.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?Ue.setPoster.call(this,e,!1)["catch"](function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=M(z.call(this));return _e.array(e)?e.join(":"):e},set:function(e){this.isVideo?_e.string(e)&&L(e)?(this.config.ratio=e,j.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=_e["boolean"](e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){ze.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,i=e.currentTrack;return t?i:-1}},{key:"language",set:function(e){ze.setLanguage.call(this,e,!1)},get:function(){return(ze.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(Te.pip){var t=_e["boolean"](e)?e:!this.pip;_e["function"](this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ne:Pe),_e["function"](this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return Te.pip?_e.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ne:null}}],[{key:"supported",value:function(e,t,i){return Te.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return U(e,t)}},{key:"setup",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},n=null;return _e.string(e)?n=Array.from(document.querySelectorAll(e)):_e.nodeList(e)?n=Array.from(e):_e.array(e)&&(n=e.filter(_e.element)),_e.empty(n)?null:n.map(function(e){return new c(e,i)})}}]),c}();return tt.defaults=(Ge=je,JSON.parse(JSON.stringify(Ge))),tt});var AttachmentUploader=function(){function e(){n&&n.removeAllFiles()}function t(){var i=[];if(n){var e=n.getAcceptedFiles();e.length&&e.forEach(function(e){var t=JSON.parse(e.xhr.response);i.push(t.file+":"+t.file_name)})}return i}function i(e,t){Dropzone.autoDiscover=!1,t===undefined&&(t=o);var i=Object.assign(r,t);if($(e).length)return n=new Dropzone(e,i),$(".dz-hidden-input").css("left",""),n}var n,o={method:"post",url:"/attachment/new",maxFiles:10,maxFilesize:100,createImageThumbnails:!0,acceptedFiles:".3gp,.7z,.7zip,.a,.ai,.apk,.ar,.avi,.bin,.bmp,.bz2,.cab,.cpio,.crx,.css,.csv,.deb,.dll,.dmg,.doc,.docx,.egg,.flv,.gif,.gz,.h264,.htm,.html,.ia,.icns,.ico,.ini,.iso,.jar,.jpeg,.jpg,.key,.lha,.m4v,.mar,.markdown,.md,.mdb,.mkv,.mov,.mp3,.mp4,.mpa,.mpeg,.mpg,.mpga,.octet-stream,.odp,.ods,.odt,.ogg,.otf,.pak,.pdf,.pea,.png,.pps,.ppt,.pptx,.psd,.rar,.rm,.rpm,.rss,.rtf,.s7z,.shar,.sql,.svg,.tar,.tar.gz,.tbz2,.tex,.tgz,.tif,.tiff,.tlz,.ttf,.txt,.vob,.war,.wav,.whl,.wma,.wmv,.xhtml,.xlr,.xls,.xlsx,.xml,.xpi,.xz,.z,.zip,.zipx,.cad",previewTemplate:'<div class="uploaded-image dz-preview"><div class="o-media"><div class="o-media__right u-no--margin u-no--padding perview-block"><img data-dz-thumbnail style="min-width: 80px;" /></div><div class="o-media__body u-padding-right"><h5 class="u-margin-bottom--small"><span class="dz-success-mark u-clr--primary" style="display:none;"><i class="fa fa-check-circle-o"></i></span><span data-dz-name></span><span class="dz-size"> \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641: <span data-dz-size=""></span></span><span class="pull-left"> <a data-dz-remove="" class="c-button c-button--danger dz-delete-button"><i class="fa fa-times"></i> \u062d\u0630\u0641</a></span></h5><div class="dz-error-message" data-dz-errormessage></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div></div></div></div>',paramName:"attachment",clickable:".dropzone-box",dictInvalidFileType:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645",init:function(){this.on("sending",function(e,t,i){i.append("token",$("#user_token").val())}),this.on("queuecomplete",function(){$("#commentable_form #commentable_submit").attr("disabled",!1),$("#commentable_form #commentable_submit").html("\u0623\u0631\u0633\u0644")}),this.on("processing",function(e){$("#commentable_form #commentable_submit").attr("disabled",!0),$("#commentable_form #commentable_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ..."),""==e.previewElement.querySelector("img").src&&(e.previewElement.querySelector("img").src="https://khamsat.hsoubcdn.com/assets/images/no-preview-94dcb24d78ef808136e2a6c4cfa8981377d9e4020e671718313018f1afede51e.png")}),this.on("success",function(e){$(e.previewElement.querySelector(".dz-success-mark")).show()}),this.on("error",function(e,t,i){i&&500==i.status?errorMessage="\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642":errorMessage=t.error,$(e.previewElement).find(".dz-error-message").text(errorMessage)})}},r={timeout:15e5,parallelUploads:2,dictDefaultMessage:" \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 \u0623\u0648 \u0642\u0645 \u0628\u0633\u062d\u0628 \u0627\u0644\u0635\u0648\u0631 \u0623\u0648 \u0627\u0644\u0641\u064a\u062f\u064a\u0648  \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0625\u0636\u0627\u0641\u062a\u0647\u0627 \u0625\u0644\u0649 \u0647\u0646\u0627",dictFallbackMessage:"\u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u0628\u0639\u0636 \u0648 \u0638\u0627\u0626\u0641 \u0633\u0648\u0634\u064a\u0627\u0644 \u0648\u0648\u0644\u0641 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629",dictFallbackText:"",dictFileTooBig:"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",dictResponseError:"\u062e\u0637\u0623 {{statusCode}}",dictCancelUpload:"\u0627\u0644\u063a\u0627\u0621",dictCancelUploadConfirmation:"\u0647\u0644 \u062a\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644 \u0627\u0644\u063a\u0627\u0621 \u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u061f",dictRemoveFile:"\u062d\u0630\u0641",dictRemoveFileConfirmation:"\u0647\u0644 \u062a\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644 \u062d\u0630\u0641 \u0627\u0644\u0645\u0644\u0641\u061f",dictMaxFilesExceeded:"\u063a\u064a\u0631 \u0645\u0633\u0645\u0648\u062d \u0628\u0623\u0643\u062b\u0631 \u0645\u0646 {{maxFiles}} \u0645\u0644\u0641\u0627\u062a",dictFileSizeUnits:{tb:"\u062a\u064a\u0631\u0627",gb:"\u063a\u064a\u063a\u0627",mb:"\u0645\u064a\u063a\u0627",kb:"\u0643\u064a\u0644\u0648 \u0628\u0627\u064a\u062a",b:"\u0628\u0627\u064a\u062a"}};return{init:i,reset_dropzone:e,get_attachments:t}}(),VoiceMessageUploader=function(){function e(){n(),a(),t()}function t(){$(document).on("click","a.voicerecord-delete-button",function(){alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629\u061f \u0644\u0646 \u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0630\u0644\u0643 \u0644\u0627\u062d\u0642\u0627.").setting("title","\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629").set("onok",function(){$('input[name="voicemessage"]').val(""),c(""),$(".voicerecord-delete-button").hide(),r($("#voicemessage-title"))}),alertsControl.clear_style()}),$(document).on("change",'[name="voicemessage"]',function(){$(this).val()?$(".voicerecord-delete-button").show():$(".voicerecord-delete-button").hide()})}function i(){v(!0),$('input[name="voicemessage"]').val(""),$(".voicerecord-delete-button").hide(),c(""),r($("#voicemessage-title"))}function n(){$(document).on("click","#btn-start-recording",function(){$('input[name="voicemessage"]').val().length?(alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0648\u062a\u0633\u062c\u064a\u0644 \u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629\u061f \u0644\u0646 \u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0630\u0644\u0643 \u0644\u0627\u062d\u0642\u0627.").setting("title","\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629").set("onok",function(){o()}),alertsControl.clear_style()):o()})}function o(){if($('[name="voicemessage"]').val("").change(),w){$("#btn-start-recording").hide(),$("#btn-stop-recording").show(),r("#voicemessage-recording"),c(),audio.muted=!0,audio.srcObject=w;var e=u();_&&(_.destroy(),_=null),(_=RecordRTC(w,e)).startRecording(),k.disabled=!1}else l(function(e){if(w=e,x)return c(),audio.muted=!0,
audio.srcObject=w,void r("#voicemessage-click");p(document.getElementById("btn-start-recording"))})}function r(e){var t=["#voicemessage-title","#voicemessage-recording","#voicemessage-uploading","#voicemessage-capture-permission","#voicemessage-listen","#voicemessage-click"];Array.from(t).map(function(e){$(e).hide()}),$(e).show(),"voicemessage-listen"==$(e).attr("id")?($("#voicemessage_meta-send").show(),$("#voicemessage_meta-title").hide()):($("#voicemessage_meta-send").hide(),$("#voicemessage_meta-title").show())}function a(){$(document).on("click","#btn-stop-recording",function(){$("#btn-stop-recording").hide(),$("#btn-start-recording").show(),r("#voicemessage-uploading"),_.stopRecording(d)})}function s(e,t){t=void 0===t||t;var i={iconUrl:"https://khamsat.hsoubcdn.com/assets/images/plyr-74659570e7ea771a2671c58786c0d10ab7e3fd325d0229844758b30c2fa73f5f.svg",invertTime:!1,autopause:!0,i18n:{restart:"\u0625\u0639\u0627\u062f\u0629",rewind:"Rewind {seektime} secs",play:"\u062a\u0634\u063a\u064a\u0644",pause:"\u0627\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0627\u0644\u064a",duration:"\u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",volume:"\u0627\u0644\u0635\u0648\u062a",mute:"\u0635\u0627\u0645\u062a",unmute:"\u063a\u064a\u0631 \u0635\u0627\u0645\u062a",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",normal:"\u0637\u0628\u064a\u0639\u0649",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",loop:"\u062a\u0643\u0631\u0627\u0631",start:"\u0628\u062f\u0627\u064a\u0629",end:"\u0646\u0647\u0627\u064a\u0629",all:"\u0627\u0644\u0643\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",disabled:"\u0645\u0639\u0637\u0651\u0644",advertisement:"Ad"},controls:["play","progress","current-time","volume","settings"]};if(i.enable=t,void 0!==e)return new Plyr(e,i);Array.from($('[data-type="audio-player"]')).map(function(e){var t=e.parentElement;new Plyr(e,i),t.style.visibility="visible"})}function l(t){w?t(w):("undefined"!=typeof navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||(alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0641\u0648\u0627\u060c \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u0642\u0646\u064a\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629."),navigator.getUserMedia&&alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u0628\u062f\u0648 \u0623\u0646 \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u064a\u062f\u0639\u0645 \u0648\u0627\u062c\u0647\u0629 \u0628\u0631\u0645\u062c\u0629 \u062a\u0637\u0628\u064a\u0642\u0627\u062a \u0642\u062f\u064a\u0645\u0629\u060c \u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u062a\u0635\u0641\u062d.")),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){t(e)})["catch"](function(e){$("#voicemessage-capture-permission").html("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646. \u0623\u0639\u062f \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0641\u062d\u0629"),r("#voicemessage-capture-permission"),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643."),console.error(e)}))}function c(e){var t=document.createElement("audio");t.setAttribute("data-type","audio-player"),t.setAttribute("crossorigin",!0),t.controls=!0,t.controlsList="nodownload",e?(t.src=e,v(!1)):v();var i=$('[data-container="voicemessage-audio"]');i.html(""),i.html(t),audio=t,s(i.find("audio"),!1)}function u(){var e={type:"audio",recorderType:MediaStreamRecorder,checkForInactiveTracks:!0,disableLogs:!0};return(x||C)&&(e.recorderType=StereoAudioRecorder),e}function d(){c(URL.createObjectURL(_.getBlob())),w&&(w.stop(),w=null),h()}function h(){var e=_.getBlob(),t=g(e.type.split("/")[1]),i=new File([e],t,{type:e.type}),n=new FormData;n.append("attachment",i),n.append("token",$("#user_token").val()),f(n)}function f(e){y(),$.ajax({url:"/attachment/new",data:e,cache:!1,contentType:!1,processData:!1,type:"POST",statusCode:{405:function(){f(e)},422:function(){setTimeout(function(){h()},2e3)}},success:function(e){if(e){var t=e.file+":"+e.file_name;$('[name="voicemessage"]').val(t).change(),v(!1),$(".voicerecord-delete-button").show(),r($("#voicemessage-listen")),b()}else alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.")},fail:function(){f(e)}})}function p(e){e.disabled=!1;var t=document.createEvent("Event");t.initEvent("click",!0,!0),e.dispatchEvent(t)}function m(){return(Math.random()*(new Date).getTime()).toString(5).replace(/\./g,"")}function g(e){var t=new Date;return"voicemessage-"+t.getFullYear()+t.getMonth()+t.getDate()+"-"+m()+"."+e}function v(e){return(e=void 0===e||1==e)?$(".voicemessage-recorder-player").hide():$(".voicemessage-recorder-player").show()}function y(){$("#commentable_form #commentable_submit").attr("disabled",!0),$("#commentable_form #commentable_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ...")}function b(){$("#commentable_form #commentable_submit").attr("disabled",!1),$("#commentable_form #commentable_submit").html("\u0623\u0631\u0633\u0644")}$("#btn-start-recording");var _,w,k=$("#btn-stop-recording"),C=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob),x=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return{init:e,clear_recorder:i}}();